"use strict";(self.webpackChunkclic_app=self.webpackChunkclic_app||[]).push([[179],{2313:(pn,lt,Z)=>{Z.d(lt,{nm:()=>ei});var d=Z(2122),Te=(Z(8256),Z(3692),Z(259),Z(5861)),ce=Z(9681),Ce=Z(4859),Re=Z(2090),Xe=Z(1877);const le=new Map,ye={activated:!1,tokenObservers:[]},tt={initialized:!1,enabled:!1};function _t($e){return le.get($e)||Object.assign({},ye)}function pt(){return tt}class gt{constructor(Ne,Ve,ct,It,tn){if(this.operation=Ne,this.retryPolicy=Ve,this.getWaitDuration=ct,this.lowerBound=It,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=It,It>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ne){var Ve=this;return(0,Te.Z)(function*(){Ve.stop();try{Ve.pending=new Re.BH,yield function ke($e){return new Promise(Ne=>{setTimeout(Ne,$e)})}(Ve.getNextRun(Ne)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new Re.BH,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(ct){Ve.retryPolicy(ct)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(Ne){if(Ne)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const it=new Re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ht($e){if(!_t($e).activated)throw it.create("use-before-activation",{appName:$e.name})}function ve($e,Ne){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,Te.Z)(function*({url:$e,body:Ne},Ve){const ct={"Content-Type":"application/json"},It=Ve.getImmediate({optional:!0});if(It){const Qi=yield It.getHeartbeatsHeader();Qi&&(ct["X-Firebase-Client"]=Qi)}const tn={method:"POST",body:JSON.stringify(Ne),headers:ct};let Un,er;try{Un=yield fetch($e,tn)}catch(Qi){throw it.create("fetch-network-error",{originalErrorMessage:Qi?.message})}if(200!==Un.status)throw it.create("fetch-status-error",{httpStatus:Un.status});try{er=yield Un.json()}catch(Qi){throw it.create("fetch-parse-error",{originalErrorMessage:Qi?.message})}const fr=er.ttl.match(/^([\d.]+)(s)$/);if(!fr||!fr[2]||isNaN(Number(fr[1])))throw it.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${er.ttl}`});const Di=1e3*Number(fr[1]),pi=Date.now();return{token:er.token,expireTimeMillis:pi+Di,issuedAtTimeMillis:pi}})).apply(this,arguments)}function Gt($e,Ne){const{projectId:Ve,appId:ct,apiKey:It}=$e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ve}/apps/${ct}:exchangeDebugToken?key=${It}`,body:{debug_token:Ne}}}const hn="firebase-app-check-store";let Dn=null;function Vn(){return Dn||(Dn=new Promise(($e,Ne)=>{try{const Ve=indexedDB.open("firebase-app-check-database",1);Ve.onsuccess=ct=>{$e(ct.target.result)},Ve.onerror=ct=>{var It;Ne(it.create("storage-open",{originalErrorMessage:null===(It=ct.target.error)||void 0===It?void 0:It.message}))},Ve.onupgradeneeded=ct=>{0===ct.oldVersion&&ct.target.result.createObjectStore(hn,{keyPath:"compositeKey"})}}catch(Ve){Ne(it.create("storage-open",{originalErrorMessage:Ve?.message}))}}),Dn)}function yn(){return(yn=(0,Te.Z)(function*($e,Ne){const ct=(yield Vn()).transaction(hn,"readwrite"),tn=ct.objectStore(hn).put({compositeKey:$e,value:Ne});return new Promise((Un,er)=>{tn.onsuccess=fr=>{Un()},ct.onerror=fr=>{var Di;er(it.create("storage-set",{originalErrorMessage:null===(Di=fr.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const Zi=new Xe.Yd("@firebase/app-check");function ss($e,Ne){return(0,Re.hl)()?function Ar($e,Ne){return function Fn($e,Ne){return yn.apply(this,arguments)}(function lr($e){return`${$e.options.appId}-${$e.name}`}($e),Ne)}($e,Ne).catch(Ve=>{Zi.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function Kr(){return pt().enabled}function Zn(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Te.Z)(function*(){const $e=pt();if($e.enabled&&$e.token)return $e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hi={error:"UNKNOWN_ERROR"};function Vr($e){return Re.US.encodeString(JSON.stringify($e),!1)}function Mt($e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,Te.Z)(function*($e,Ne=!1){const Ve=$e.app;ht(Ve);const ct=_t(Ve);let tn,It=ct.token;if(It&&!Rn(It)&&(ct.token=void 0,It=void 0),!It){const fr=yield ct.cachedTokenPromise;fr&&(Rn(fr)?It=fr:yield ss(Ve,void 0))}if(!Ne&&It&&Rn(It))return{token:It.token};let er,Un=!1;if(Kr()){ct.exchangeTokenPromise||(ct.exchangeTokenPromise=ve(Gt(Ve,yield Zn()),$e.heartbeatServiceProvider).finally(()=>{ct.exchangeTokenPromise=void 0}),Un=!0);const fr=yield ct.exchangeTokenPromise;return yield ss(Ve,fr),ct.token=fr,{token:fr.token}}try{ct.exchangeTokenPromise||(ct.exchangeTokenPromise=ct.provider.getToken().finally(()=>{ct.exchangeTokenPromise=void 0}),Un=!0),It=yield _t(Ve).exchangeTokenPromise}catch(fr){"appCheck/throttled"===fr.code?Zi.warn(fr.message):Zi.error(fr),tn=fr}return It?tn?er=Rn(It)?{token:It.token,internalError:tn}:Jr(tn):(er={token:It.token},ct.token=It,yield ss(Ve,It)):er=Jr(tn),Un&&Rr(Ve,er),er})).apply(this,arguments)}function Tr($e,Ne){const Ve=_t($e),ct=Ve.tokenObservers.filter(It=>It.next!==Ne);0===ct.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Ve.tokenObservers=ct}function Br($e){const{app:Ne}=$e,Ve=_t(Ne);let ct=Ve.tokenRefresher;ct||(ct=function Xn($e){const{app:Ne}=$e;return new gt((0,Te.Z)(function*(){let ct;if(ct=_t(Ne).token?yield Mt($e,!0):yield Mt($e),ct.error)throw ct.error;if(ct.internalError)throw ct.internalError}),()=>!0,()=>{const Ve=_t(Ne);if(Ve.token){let ct=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return ct=Math.min(ct,Ve.token.expireTimeMillis-3e5),Math.max(0,ct-Date.now())}return 0},3e4,96e4)}($e),Ve.tokenRefresher=ct),!ct.isRunning()&&Ve.isTokenAutoRefreshEnabled&&ct.start()}function Rr($e,Ne){const Ve=_t($e).tokenObservers;for(const ct of Ve)try{"EXTERNAL"===ct.type&&null!=Ne.error?ct.error(Ne.error):ct.next(Ne)}catch{}}function Rn($e){return $e.expireTimeMillis-Date.now()>0}function Jr($e){return{token:Vr(hi),error:$e}}class Kt{constructor(Ne,Ve){this.app=Ne,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:Ne}=_t(this.app);for(const Ve of Ne)Tr(this.app,Ve.next);return Promise.resolve()}}const en="app-check-internal";!function mt(){(0,ce.Xd)(new Ce.wA("app-check",$e=>function ai($e,Ne){return new Kt($e,Ne)}($e.getProvider("app").getImmediate(),$e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,Ne,Ve)=>{$e.getProvider(en).initialize()})),(0,ce.Xd)(new Ce.wA(en,$e=>function En($e){return{getToken:Ne=>Mt($e,Ne),addTokenListener:Ne=>function qt($e,Ne,Ve,ct){const{app:It}=$e,tn=_t(It);if(tn.tokenObservers=[...tn.tokenObservers,{next:Ve,error:ct,type:Ne}],tn.token&&Rn(tn.token)){const er=tn.token;Promise.resolve().then(()=>{Ve({token:er.token}),Br($e)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>Br($e))}($e,"INTERNAL",Ne),removeTokenListener:Ne=>Tr($e.app,Ne)}}($e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ce.KN)("@firebase/app-check","0.6.1")}();class ei{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},3692:(pn,lt,Z)=>{Z.d(lt,{Ot:()=>Pe,ZF:()=>zt,hX:()=>_t,z6:()=>Te});var d=Z(259),Y=Z(8256),fe=Z(2122);class Pe{constructor(gt){return gt}}class Te{constructor(){return(0,d.C6)()}}const Re=new Y.OlP("angularfire2._apps"),Xe={provide:Pe,useFactory:function Ce(ut){return ut&&1===ut.length?ut[0]:new Pe((0,d.Mq)())},deps:[[new Y.FiY,Re]]},le={provide:Te,deps:[[new Y.FiY,Re]]};function ye(ut){return(gt,ke)=>{const Rt=gt.runOutsideAngular(()=>ut(ke));return new Pe(Rt)}}let tt=(()=>{class ut{constructor(ke){(0,d.KN)("angularfire",fe.q4.full,"core"),(0,d.KN)("angularfire",fe.q4.full,"app"),(0,d.KN)("angular",Y.q4F.full,ke.toString())}}return ut.\u0275fac=function(ke){return new(ke||ut)(Y.LFG(Y.Lbi))},ut.\u0275mod=Y.oAB({type:ut}),ut.\u0275inj=Y.cJS({providers:[Xe,le]}),ut})();function _t(ut,...gt){return{ngModule:tt,providers:[{provide:Re,useFactory:ye(ut),multi:!0,deps:[Y.R0b,Y.zs3,fe.HU,...gt]}]}}const zt=(0,fe.u3)(d.ZF,!0)},7318:(pn,lt,Z)=>{Z.d(lt,{gx:()=>Do,dh:()=>wl,Xb:()=>La,v0:()=>al,AR:()=>Dl,e5:()=>Rl,w7:()=>Tu});var d=Z(2122),Y=Z(8256),fe=Z(3692),Pe=Z(259),Te=Z(2313),ce=Z(5861),Ce=Z(2090),Re=Z(9681),Xe=Z(1877),le=Z(655),ye=Z(4859);const Ft=function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new Xe.Yd("@firebase/auth");function Rt(I,...g){ke.logLevel<=Xe.in.ERROR&&ke.error(`Auth (${Re.Jn}): ${I}`,...g)}function it(I,...g){throw Le(I,...g)}function Be(I,...g){return Le(I,...g)}function ht(I,g,b){const M=Object.assign(Object.assign({},Ft()),{[g]:b});return new Ce.LL("auth","Firebase",M).create(g,{appName:I.name})}function Le(I,...g){if("string"!=typeof I){const b=g[0],M=[...g.slice(1)];return M[0]&&(M[0].appName=I.name),I._errorFactory.create(b,...M)}return ut.create(I,...g)}function ve(I,g,...b){if(!I)throw Le(g,...b)}function Fe(I){const g="INTERNAL ASSERTION FAILED: "+I;throw Rt(g),new Error(g)}function bt(I,g){I||Fe(g)}const yt=new Map;function Gt(I){bt(I instanceof Function,"Expected a class definition");let g=yt.get(I);return g?(bt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,yt.set(I,g),g)}function hn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Dn(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ar{constructor(g,b){this.shortDelay=g,this.longDelay=b,bt(b>g,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function Vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ir(){return"http:"===Dn()||"https:"===Dn()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ar(I,g){bt(I.emulator,"Emulator should always be set here");const{url:b}=I.emulator;return g?`${b}${g.startsWith("/")?g.slice(1):g}`:b}class kr{static initialize(g,b,M){this.fetchImpl=g,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yn=new Ar(3e4,6e4);function Yn(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function xr(I,g,b,M){return lr.apply(this,arguments)}function lr(){return(lr=(0,ce.Z)(function*(I,g,b,M,J={}){return Zi(I,J,(0,ce.Z)(function*(){let se={},We={};M&&("GET"===g?We=M:se={body:JSON.stringify(M)});const Ct=(0,Ce.xO)(Object.assign({key:I.config.apiKey},We)).slice(1),fn=yield I._getAdditionalHeaders();return fn["Content-Type"]="application/json",I.languageCode&&(fn["X-Firebase-Locale"]=I.languageCode),kr.fetch()(dr(I,I.config.apiHost,b,Ct),Object.assign({method:g,headers:fn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Zi(I,g,b){return di.apply(this,arguments)}function di(){return(di=(0,ce.Z)(function*(I,g,b){I._canInitEmulator=!1;const M=Object.assign(Object.assign({},Fn),g);try{const J=new oi(I),se=yield Promise.race([b(),J.promise]);J.clearNetworkTimeout();const We=yield se.json();if("needConfirmation"in We)throw Kr(I,"account-exists-with-different-credential",We);if(se.ok&&!("errorMessage"in We))return We;{const Ct=se.ok?We.errorMessage:We.error.message,[fn,xn]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fn)throw Kr(I,"credential-already-in-use",We);if("EMAIL_EXISTS"===fn)throw Kr(I,"email-already-in-use",We);if("USER_DISABLED"===fn)throw Kr(I,"user-disabled",We);const cr=M[fn]||fn.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw ht(I,cr,xn);it(I,cr)}}catch(J){if(J instanceof Ce.ZR)throw J;it(I,"network-request-failed")}})).apply(this,arguments)}function Wn(I,g,b,M){return ss.apply(this,arguments)}function ss(){return(ss=(0,ce.Z)(function*(I,g,b,M,J={}){const se=yield xr(I,g,b,M,J);return"mfaPendingCredential"in se&&it(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function dr(I,g,b,M){const J=`${g}${b}?${M}`;return I.config.emulator?ar(I.config,J):`${I.config.apiScheme}://${J}`}class oi{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(Be(this.auth,"network-request-failed")),yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kr(I,g,b){const M={appName:I.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const J=Be(I,g,M);return J.customData._tokenResponse=b,J}function Qn(){return(Qn=(0,ce.Z)(function*(I,g){return xr(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Vr(I,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,ce.Z)(function*(I,g){return xr(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ut(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Br(){return(Br=(0,ce.Z)(function*(I,g=!1){const b=(0,Ce.m9)(I),M=yield b.getIdToken(g),J=Rr(M);ve(J&&J.exp&&J.auth_time&&J.iat,b.auth,"internal-error");const se="object"==typeof J.firebase?J.firebase:void 0,We=se?.sign_in_provider;return{claims:J,token:M,authTime:Ut(Xn(J.auth_time)),issuedAtTime:Ut(Xn(J.iat)),expirationTime:Ut(Xn(J.exp)),signInProvider:We||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Xn(I){return 1e3*Number(I)}function Rr(I){const[g,b,M]=I.split(".");if(void 0===g||void 0===b||void 0===M)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,Ce.tV)(b);return J?JSON.parse(J):(Rt("Failed to decode base64 JWT payload"),null)}catch(J){return Rt("Caught error parsing JWT payload as JSON",J?.toString()),null}}function Jr(I,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,ce.Z)(function*(I,g,b=!1){if(b)return g;try{return yield g}catch(M){throw M instanceof Ce.ZR&&ai(M)&&I.auth.currentUser===I&&(yield I.auth.signOut()),M}})).apply(this,arguments)}function ai({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class En{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var b;if(g){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const J=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(g=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(g);this.timerId=setTimeout((0,ce.Z)(function*(){yield b.iteration()}),M)}iteration(){var g=this;return(0,ce.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&g.schedule(!0))}g.schedule()})()}}class Ai{constructor(g,b){this.createdAt=g,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ut(this.lastLoginAt),this.creationTime=Ut(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ui(I){return jt.apply(this,arguments)}function jt(){return(jt=(0,ce.Z)(function*(I){var g;const b=I.auth,M=yield I.getIdToken(),J=yield Jr(I,Vr(b,{idToken:M}));ve(J?.users.length,b,"internal-error");const se=J.users[0];I._notifyReloadListener(se);const We=null!==(g=se.providerUserInfo)&&void 0!==g&&g.length?Cn(se.providerUserInfo):[],Ct=an(I.providerData,We),cr=!!I.isAnonymous&&!(I.email&&se.passwordHash||Ct?.length),Zr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Ct,metadata:new Ai(se.createdAt,se.lastLoginAt),isAnonymous:cr};Object.assign(I,Zr)})).apply(this,arguments)}function Pt(){return(Pt=(0,ce.Z)(function*(I){const g=(0,Ce.m9)(I);yield Ui(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function an(I,g){return[...I.filter(M=>!g.some(J=>J.providerId===M.providerId)),...g]}function Cn(I){return I.map(g=>{var{providerId:b}=g,M=(0,le._T)(g,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function ge(){return(ge=(0,ce.Z)(function*(I,g){const b=yield Zi(I,{},(0,ce.Z)(function*(){const M=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:J,apiKey:se}=I.config,We=dr(I,J,"/v1/token",`key=${se}`),Ct=yield I._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",kr.fetch()(We,{method:"POST",headers:Ct,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ve(g.idToken,"internal-error"),ve(typeof g.idToken<"u","internal-error"),ve(typeof g.refreshToken<"u","internal-error");const b="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Rn(I){const g=Rr(I);return ve(g,"internal-error"),ve(typeof g.exp<"u","internal-error"),ve(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,b)}getToken(g,b=!1){var M=this;return(0,ce.Z)(function*(){return ve(!M.accessToken||M.refreshToken,g,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(g,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,b){var M=this;return(0,ce.Z)(function*(){const{accessToken:J,refreshToken:se,expiresIn:We}=yield function Bn(I,g){return ge.apply(this,arguments)}(g,b);M.updateTokensAndExpiration(J,se,Number(We))})()}updateTokensAndExpiration(g,b,M){this.refreshToken=b||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(g,b){const{refreshToken:M,accessToken:J,expirationTime:se}=b,We=new pe;return M&&(ve("string"==typeof M,"internal-error",{appName:g}),We.refreshToken=M),J&&(ve("string"==typeof J,"internal-error",{appName:g}),We.accessToken=J),se&&(ve("number"==typeof se,"internal-error",{appName:g}),We.expirationTime=se),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return Fe("not implemented")}}function Me(I,g){ve("string"==typeof I||typeof I>"u","internal-error",{appName:g})}class rt{constructor(g){var{uid:b,auth:M,stsTokenManager:J}=g,se=(0,le._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Ai(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(g){var b=this;return(0,ce.Z)(function*(){const M=yield Jr(b,b.stsTokenManager.getToken(b.auth,g));return ve(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(g){return function Tr(I){return Br.apply(this,arguments)}(this,g)}reload(){return function Ye(I){return Pt.apply(this,arguments)}(this)}_assign(g){this!==g&&(ve(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(b=>Object.assign({},b)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new rt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,b=!1){var M=this;return(0,ce.Z)(function*(){let J=!1;g.idToken&&g.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(g),J=!0),b&&(yield Ui(M)),yield M.auth._persistUserIfCurrent(M),J&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var g=this;return(0,ce.Z)(function*(){const b=yield g.getIdToken();return yield Jr(g,function Zn(I,g){return Qn.apply(this,arguments)}(g.auth,{idToken:b})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,b){var M,J,se,We,Ct,fn,xn,cr;const Zr=null!==(M=b.displayName)&&void 0!==M?M:void 0,Xa=null!==(J=b.email)&&void 0!==J?J:void 0,Cl=null!==(se=b.phoneNumber)&&void 0!==se?se:void 0,ya=null!==(We=b.photoURL)&&void 0!==We?We:void 0,Iu=null!==(Ct=b.tenantId)&&void 0!==Ct?Ct:void 0,Su=null!==(fn=b._redirectEventId)&&void 0!==fn?fn:void 0,Uc=null!==(xn=b.createdAt)&&void 0!==xn?xn:void 0,fc=null!==(cr=b.lastLoginAt)&&void 0!==cr?cr:void 0,{uid:pc,emailVerified:ld,isAnonymous:gc,providerData:$c,stsTokenManager:ud}=b;ve(pc&&ud,g,"internal-error");const cd=pe.fromJSON(this.name,ud);ve("string"==typeof pc,g,"internal-error"),Me(Zr,g.name),Me(Xa,g.name),ve("boolean"==typeof ld,g,"internal-error"),ve("boolean"==typeof gc,g,"internal-error"),Me(Cl,g.name),Me(ya,g.name),Me(Iu,g.name),Me(Su,g.name),Me(Uc,g.name),Me(fc,g.name);const dd=new rt({uid:pc,auth:g,email:Xa,emailVerified:ld,displayName:Zr,isAnonymous:gc,photoURL:ya,phoneNumber:Cl,tenantId:Iu,stsTokenManager:cd,createdAt:Uc,lastLoginAt:fc});return $c&&Array.isArray($c)&&(dd.providerData=$c.map(hf=>Object.assign({},hf))),Su&&(dd._redirectEventId=Su),dd}static _fromIdTokenResponse(g,b,M=!1){return(0,ce.Z)(function*(){const J=new pe;J.updateFromServerResponse(b);const se=new rt({uid:b.localId,auth:g,stsTokenManager:J,isAnonymous:M});return yield Ui(se),se})()}}const Vt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ce.Z)(function*(){return!0})()}_set(b,M){var J=this;return(0,ce.Z)(function*(){J.storage[b]=M})()}_get(b){var M=this;return(0,ce.Z)(function*(){const J=M.storage[b];return void 0===J?null:J})()}_remove(b){var M=this;return(0,ce.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return I.type="NONE",I})();function bn(I,g,b){return`firebase:${I}:${g}:${b}`}class kn{constructor(g,b,M){this.persistence=g,this.auth=b,this.userKey=M;const{config:J,name:se}=this.auth;this.fullUserKey=bn(this.userKey,J.apiKey,se),this.fullPersistenceKey=bn("persistence",J.apiKey,se),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,ce.Z)(function*(){const b=yield g.persistence._get(g.fullUserKey);return b?rt._fromJSON(g.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var b=this;return(0,ce.Z)(function*(){if(b.persistence===g)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=g,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,b,M="authUser"){return(0,ce.Z)(function*(){if(!b.length)return new kn(Gt(Vt),g,M);const J=(yield Promise.all(b.map(function(){var xn=(0,ce.Z)(function*(cr){if(yield cr._isAvailable())return cr});return function(cr){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let se=J[0]||Gt(Vt);const We=bn(M,g.config.apiKey,g.name);let Ct=null;for(const xn of b)try{const cr=yield xn._get(We);if(cr){const Zr=rt._fromJSON(g,cr);xn!==se&&(Ct=Zr),se=xn;break}}catch{}const fn=J.filter(xn=>xn._shouldAllowMigration);return se._shouldAllowMigration&&fn.length?(se=fn[0],Ct&&(yield se._set(We,Ct.toJSON())),yield Promise.all(b.map(function(){var xn=(0,ce.Z)(function*(cr){if(cr!==se)try{yield cr._remove(We)}catch{}});return function(cr){return xn.apply(this,arguments)}}())),new kn(se,g,M)):new kn(se,g,M)})()}}function Pr(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(oe(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(hr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Oe(g))return"Blackberry";if(st(g))return"Webos";if(Ue(g))return"Safari";if((g.includes("chrome/")||me(g))&&!g.includes("edge/"))return"Chrome";if(je(g))return"Android";{const M=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function hr(I=(0,Ce.z$)()){return/firefox\//i.test(I)}function Ue(I=(0,Ce.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function me(I=(0,Ce.z$)()){return/crios\//i.test(I)}function oe(I=(0,Ce.z$)()){return/iemobile/i.test(I)}function je(I=(0,Ce.z$)()){return/android/i.test(I)}function Oe(I=(0,Ce.z$)()){return/blackberry/i.test(I)}function st(I=(0,Ce.z$)()){return/webos/i.test(I)}function wt(I=(0,Ce.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function zn(I=(0,Ce.z$)()){return wt(I)||je(I)||st(I)||Oe(I)||/windows phone/i.test(I)||oe(I)}function fi(I,g=[]){let b;switch(I){case"Browser":b=Pr((0,Ce.z$)());break;case"Worker":b=`${Pr((0,Ce.z$)())}-${I}`;break;default:b=I}const M=g.length?g.join(","):"FirebaseCore-web";return`${b}/JsCore/${Re.Jn}/${M}`}class yr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,b){const M=se=>new Promise((We,Ct)=>{try{We(g(se))}catch(fn){Ct(fn)}});M.onAbort=b,this.queue.push(M);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(g){var b=this;return(0,ce.Z)(function*(){if(b.auth.currentUser===g)return;const M=[];try{for(const J of b.queue)yield J(g),J.onAbort&&M.push(J.onAbort)}catch(J){M.reverse();for(const se of M)try{se()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class $i{constructor(g,b,M){this.app=g,this.heartbeatServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.beforeStateQueue=new yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,b){var M=this;return b&&(this._popupRedirectResolver=Gt(b)),this._initializationPromise=this.queue((0,ce.Z)(function*(){var J,se;if(!M._deleted&&(M.persistenceManager=yield kn.create(M,g),!M._deleted)){if(null!==(J=M._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(se=M.currentUser)||void 0===se?void 0:se.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,ce.Z)(function*(){if(g._deleted)return;const b=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||b){if(g.currentUser&&b&&g.currentUser.uid===b.uid)return g._currentUser._assign(b),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(b,!0)}})()}initializeCurrentUser(g){var b=this;return(0,ce.Z)(function*(){var M;const J=yield b.assertedPersistence.getCurrentUser();let se=J,We=!1;if(g&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ct=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,fn=se?._redirectEventId,xn=yield b.tryRedirectSignIn(g);(!Ct||Ct===fn)&&xn?.user&&(se=xn.user,We=!0)}if(!se)return b.directlySetCurrentUser(null);if(!se._redirectEventId){if(We)try{yield b.beforeStateQueue.runMiddleware(se)}catch(Ct){se=J,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ct))}return se?b.reloadAndSetCurrentUserOrClear(se):b.directlySetCurrentUser(null)}return ve(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===se._redirectEventId?b.directlySetCurrentUser(se):b.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(g){var b=this;return(0,ce.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,g,!0)}catch{yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(g){var b=this;return(0,ce.Z)(function*(){try{yield Ui(g)}catch(M){if("auth/network-request-failed"!==M?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Sr(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,ce.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var b=this;return(0,ce.Z)(function*(){const M=g?(0,Ce.m9)(g):null;return M&&ve(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(g,b=!1){var M=this;return(0,ce.Z)(function*(){if(!M._deleted)return g&&ve(M.tenantId===g.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(g)),M.queue((0,ce.Z)(function*(){yield M.directlySetCurrentUser(g),M.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,ce.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var b=this;return this.queue((0,ce.Z)(function*(){yield b.assertedPersistence.setPersistence(Gt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Ce.LL("auth","Firebase",g())}onAuthStateChanged(g,b,M){return this.registerStateListener(this.authStateSubscription,g,b,M)}beforeAuthStateChanged(g,b){return this.beforeStateQueue.pushCallback(g,b)}onIdTokenChanged(g,b,M){return this.registerStateListener(this.idTokenSubscription,g,b,M)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,b){var M=this;return(0,ce.Z)(function*(){const J=yield M.getOrInitRedirectPersistenceManager(b);return null===g?J.removeCurrentUser():J.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var b=this;return(0,ce.Z)(function*(){if(!b.redirectPersistenceManager){const M=g&&Gt(g)||b._popupRedirectResolver;ve(M,b,"argument-error"),b.redirectPersistenceManager=yield kn.create(b,[Gt(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(g){var b=this;return(0,ce.Z)(function*(){var M,J;return b._isInitialized&&(yield b.queue((0,ce.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===g?b._currentUser:(null===(J=b.redirectUser)||void 0===J?void 0:J._redirectEventId)===g?b.redirectUser:null})()}_persistUserIfCurrent(g){var b=this;return(0,ce.Z)(function*(){if(g===b.currentUser)return b.queue((0,ce.Z)(function*(){return b.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,b,M,J){if(this._deleted)return()=>{};const se="function"==typeof b?b:b.next.bind(b),We=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(We,this,"internal-error"),We.then(()=>se(this.currentUser)),"function"==typeof b?g.addObserver(b,M,J):g.addObserver(b)}directlySetCurrentUser(g){var b=this;return(0,ce.Z)(function*(){b.currentUser&&b.currentUser!==g&&b._currentUser._stopProactiveRefresh(),g&&b.isProactiveRefreshEnabled&&g._startProactiveRefresh(),b.currentUser=g,g?yield b.assertedPersistence.setCurrentUser(g):yield b.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,ce.Z)(function*(){var b;const M={"X-Client-Version":g.clientVersion};g.app.options.appId&&(M["X-Firebase-gmpid"]=g.app.options.appId);const J=yield null===(b=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return J&&(M["X-Firebase-Client"]=J),M})()}}function wn(I){return(0,Ce.m9)(I)}class ti{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Ce.ne)(b=>this.observer=b)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pn(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Hi(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class ii{constructor(g,b){this.providerId=g,this.signInMethod=b}toJSON(){return Fe("not implemented")}_getIdTokenResponse(g){return Fe("not implemented")}_linkToIdToken(g,b){return Fe("not implemented")}_getReauthenticationResolver(g){return Fe("not implemented")}}function wi(){return(wi=(0,ce.Z)(function*(I,g){return xr(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ct(){return(ct=(0,ce.Z)(function*(I,g){return Wn(I,"POST","/v1/accounts:signInWithPassword",Yn(I,g))})).apply(this,arguments)}function Oi(){return(Oi=(0,ce.Z)(function*(I,g){return Wn(I,"POST","/v1/accounts:signInWithEmailLink",Yn(I,g))})).apply(this,arguments)}function Cs(){return(Cs=(0,ce.Z)(function*(I,g){return Wn(I,"POST","/v1/accounts:signInWithEmailLink",Yn(I,g))})).apply(this,arguments)}class Xs extends ii{constructor(g,b,M,J=null){super("password",M),this._email=g,this._password=b,this._tenantId=J}static _fromEmailAndPassword(g,b){return new Xs(g,b,"password")}static _fromEmailAndCode(g,b,M=null){return new Xs(g,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const b="string"==typeof g?JSON.parse(g):g;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(g){var b=this;return(0,ce.Z)(function*(){switch(b.signInMethod){case"password":return function Ve(I,g){return ct.apply(this,arguments)}(g,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function na(I,g){return Oi.apply(this,arguments)}(g,{email:b._email,oobCode:b._password});default:it(g,"internal-error")}})()}_linkToIdToken(g,b){var M=this;return(0,ce.Z)(function*(){switch(M.signInMethod){case"password":return function Gi(I,g){return wi.apply(this,arguments)}(g,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function xo(I,g){return Cs.apply(this,arguments)}(g,{idToken:b,email:M._email,oobCode:M._password});default:it(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Rs(I,g){return co.apply(this,arguments)}function co(){return(co=(0,ce.Z)(function*(I,g){return Wn(I,"POST","/v1/accounts:signInWithIdp",Yn(I,g))})).apply(this,arguments)}class fo{constructor(g){var b,M,J,se,We,Ct;const fn=(0,Ce.zd)((0,Ce.pd)(g)),xn=null!==(b=fn.apiKey)&&void 0!==b?b:null,cr=null!==(M=fn.oobCode)&&void 0!==M?M:null,Zr=function Ba(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=fn.mode)&&void 0!==J?J:null);ve(xn&&cr&&Zr,"argument-error"),this.apiKey=xn,this.operation=Zr,this.code=cr,this.continueUrl=null!==(se=fn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(We=fn.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Ct=fn.tenantId)&&void 0!==Ct?Ct:null}static parseLink(g){const b=function Ur(I){const g=(0,Ce.zd)((0,Ce.pd)(I)).link,b=g?(0,Ce.zd)((0,Ce.pd)(g)).deep_link_id:null,M=(0,Ce.zd)((0,Ce.pd)(I)).deep_link_id;return(M?(0,Ce.zd)((0,Ce.pd)(M)).link:null)||M||b||g||I}(g);try{return new fo(b)}catch{return null}}}let ks=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(b,M){return Xs._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const J=fo.parseLink(M);return ve(J,"argument-error"),Xs._fromEmailAndCode(b,J.code,J.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class as{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Co extends as{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}function po(I,g){return go.apply(this,arguments)}function go(){return(go=(0,ce.Z)(function*(I,g){return Wn(I,"POST","/v1/accounts:signUp",Yn(I,g))})).apply(this,arguments)}class zi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,b,M,J=!1){return(0,ce.Z)(function*(){const se=yield rt._fromIdTokenResponse(g,M,J),We=ls(M);return new zi({user:se,providerId:We,_tokenResponse:M,operationType:b})})()}static _forOperation(g,b,M){return(0,ce.Z)(function*(){yield g._updateTokensIfNecessary(M,!0);const J=ls(M);return new zi({user:g,providerId:J,_tokenResponse:M,operationType:b})})()}}function ls(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class us extends Ce.ZR{constructor(g,b,M,J){var se;super(b.code,b.message),this.operationType=M,this.user=J,Object.setPrototypeOf(this,us.prototype),this.customData={appName:g.name,tenantId:null!==(se=g.tenantId)&&void 0!==se?se:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(g,b,M,J){return new us(g,b,M,J)}}function Wo(I,g,b,M){return("reauthenticate"===g?b._getReauthenticationResolver(I):b._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?us._fromErrorAndOperation(I,se,g,M):se})}function ia(I,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,ce.Z)(function*(I,g,b=!1){const M=yield Jr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),b);return zi._forOperation(I,"link",M)})).apply(this,arguments)}function Ms(){return(Ms=(0,ce.Z)(function*(I,g,b=!1){const{auth:M}=I,J="reauthenticate";try{const se=yield Jr(I,Wo(M,J,g,I),b);ve(se.idToken,M,"internal-error");const We=Rr(se.idToken);ve(We,M,"internal-error");const{sub:Ct}=We;return ve(I.uid===Ct,M,"user-mismatch"),zi._forOperation(I,J,se)}catch(se){throw"auth/user-not-found"===se?.code&&it(M,"user-mismatch"),se}})).apply(this,arguments)}function Yr(I,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,ce.Z)(function*(I,g,b=!1){const M="signIn",J=yield Wo(I,M,g),se=yield zi._fromIdTokenResponse(I,M,J);return b||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function ro(){return(ro=(0,ce.Z)(function*(I,g){return Yr(wn(I),g)})).apply(this,arguments)}function Wt(I,g,b){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,ce.Z)(function*(I,g,b){const M=wn(I),J=yield po(M,{returnSecureToken:!0,email:g,password:b}),se=yield zi._fromIdTokenResponse(M,"signIn",J);return yield M._updateCurrentUser(se.user),se})).apply(this,arguments)}function zs(I,g,b){return function Fs(I,g){return ro.apply(this,arguments)}((0,Ce.m9)(I),ks.credential(g,b))}function Ri(I){return(0,Ce.m9)(I).signOut()}const Ee="__sak";class Ge{constructor(g,b){this.storageRetriever=g,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Ee,"1"),this.storage.removeItem(Ee),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,b){return this.storage.setItem(g,JSON.stringify(b)),Promise.resolve()}_get(g){const b=this.storage.getItem(g);return Promise.resolve(b?JSON.parse(b):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const nr=(()=>{class I extends Ge{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vt(){const I=(0,Ce.z$)();return Ue(I)||wt(I)}()&&function ei(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const J=this.storage.getItem(M),se=this.localCache[M];J!==se&&b(M,se,J)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((Ct,fn,xn)=>{this.notifyListeners(Ct,xn)});const J=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ct=this.storage.getItem(J);if(b.newValue!==Ct)null!==b.newValue?this.storage.setItem(J,b.newValue):this.storage.removeItem(J);else if(this.localCache[J]===b.newValue&&!M)return}const se=()=>{const Ct=this.storage.getItem(J);!M&&this.localCache[J]===Ct||this.notifyListeners(J,Ct)},We=this.storage.getItem(J);!function Zt(){return(0,Ce.w1)()&&10===document.documentMode}()||We===b.newValue||b.newValue===b.oldValue?se():setTimeout(se,10)}notifyListeners(b,M){this.localCache[b]=M;const J=this.listeners[b];if(J)for(const se of Array.from(J))se(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var J=()=>super._set,se=this;return(0,ce.Z)(function*(){yield J().call(se,b,M),se.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,J=this;return(0,ce.Z)(function*(){const se=yield M().call(J,b);return J.localCache[b]=JSON.stringify(se),se})()}_remove(b){var M=()=>super._remove,J=this;return(0,ce.Z)(function*(){yield M().call(J,b),delete J.localCache[b]})()}}return I.type="LOCAL",I})(),jn=(()=>{class I extends Ge{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return I.type="SESSION",I})();let Hr=(()=>{class I{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(se=>se.isListeningto(b));if(M)return M;const J=new I(b);return this.receivers.push(J),J}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,ce.Z)(function*(){const J=b,{eventId:se,eventType:We,data:Ct}=J.data,fn=M.handlersMap[We];if(!fn?.size)return;J.ports[0].postMessage({status:"ack",eventId:se,eventType:We});const xn=Array.from(fn).map(function(){var Zr=(0,ce.Z)(function*(Xa){return Xa(J.origin,Ct)});return function(Xa){return Zr.apply(this,arguments)}}()),cr=yield function Qt(I){return Promise.all(I.map(function(){var g=(0,ce.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return g.apply(this,arguments)}}()))}(xn);J.ports[0].postMessage({status:"done",eventId:se,eventType:We,response:cr})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function mi(I="",g=10){let b="";for(let M=0;M<g;M++)b+=Math.floor(10*Math.random());return I+b}class gr{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,b,M=50){var J=this;return(0,ce.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let We,Ct;return new Promise((fn,xn)=>{const cr=mi("",20);se.port1.start();const Zr=setTimeout(()=>{xn(new Error("unsupported_event"))},M);Ct={messageChannel:se,onMessage(Xa){const Cl=Xa;if(Cl.data.eventId===cr)switch(Cl.data.status){case"ack":clearTimeout(Zr),We=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),fn(Cl.data.response);break;default:clearTimeout(Zr),clearTimeout(We),xn(new Error("invalid_response"))}}},J.handlers.add(Ct),se.port1.addEventListener("message",Ct.onMessage),J.target.postMessage({eventType:g,eventId:cr,data:b},[se.port2])}).finally(()=>{Ct&&J.removeMessageHandler(Ct)})})()}}function At(){return window}function Hn(){return typeof At().WorkerGlobalScope<"u"&&"function"==typeof At().importScripts}function br(){return(br=(0,ce.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Io="firebaseLocalStorageDb",bo="firebaseLocalStorage",ma="fbase_key";class Fo{constructor(g){this.request=g}toPromise(){return new Promise((g,b)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Xt(I,g){return I.transaction([bo],g?"readwrite":"readonly").objectStore(bo)}function On(){const I=indexedDB.open(Io,1);return new Promise((g,b)=>{I.addEventListener("error",()=>{b(I.error)}),I.addEventListener("upgradeneeded",()=>{const M=I.result;try{M.createObjectStore(bo,{keyPath:ma})}catch(J){b(J)}}),I.addEventListener("success",(0,ce.Z)(function*(){const M=I.result;M.objectStoreNames.contains(bo)?g(M):(M.close(),yield function rn(){const I=indexedDB.deleteDatabase(Io);return new Fo(I).toPromise()}(),g(yield On()))}))})}function $n(I,g,b){return _i.apply(this,arguments)}function _i(){return(_i=(0,ce.Z)(function*(I,g,b){const M=Xt(I,!0).put({[ma]:g,value:b});return new Fo(M).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,ce.Z)(function*(I,g){const b=Xt(I,!1).get(g),M=yield new Fo(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function ki(I,g){const b=Xt(I,!0).delete(g);return new Fo(b).toPromise()}const Gr=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,ce.Z)(function*(){return b.db||(b.db=yield On()),b.db})()}_withRetries(b){var M=this;return(0,ce.Z)(function*(){let J=0;for(;;)try{const se=yield M._openDb();return yield b(se)}catch(se){if(J++>3)throw se;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,ce.Z)(function*(){return Hn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,ce.Z)(function*(){b.receiver=Hr._getInstance(function Xi(){return Hn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,ce.Z)(function*(J,se){return{keyProcessed:(yield b._poll()).includes(se.key)}});return function(J,se){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,ce.Z)(function*(J,se){return["keyChanged"]});return function(J,se){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,ce.Z)(function*(){var M,J;if(b.activeServiceWorker=yield function Ki(){return br.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new gr(b.activeServiceWorker);const se=yield b.sender._send("ping",{},800);!se||(null===(M=se[0])||void 0===M?void 0:M.fulfilled)&&(null===(J=se[0])||void 0===J?void 0:J.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,ce.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Ot(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ce.Z)(function*(){try{if(!indexedDB)return!1;const b=yield On();return yield $n(b,Ee,"1"),yield ki(b,Ee),!0}catch{}return!1})()}_withPendingWrite(b){var M=this;return(0,ce.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var J=this;return(0,ce.Z)(function*(){return J._withPendingWrite((0,ce.Z)(function*(){return yield J._withRetries(se=>$n(se,b,M)),J.localCache[b]=M,J.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,ce.Z)(function*(){const J=yield M._withRetries(se=>function so(I,g){return cs.apply(this,arguments)}(se,b));return M.localCache[b]=J,J})()}_remove(b){var M=this;return(0,ce.Z)(function*(){return M._withPendingWrite((0,ce.Z)(function*(){return yield M._withRetries(J=>ki(J,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,ce.Z)(function*(){const M=yield b._withRetries(We=>{const Ct=Xt(We,!1).getAll();return new Fo(Ct).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const J=[],se=new Set;for(const{fbase_key:We,value:Ct}of M)se.add(We),JSON.stringify(b.localCache[We])!==JSON.stringify(Ct)&&(b.notifyListeners(We,Ct),J.push(We));for(const We of Object.keys(b.localCache))b.localCache[We]&&!se.has(We)&&(b.notifyListeners(We,null),J.push(We));return J})()}notifyListeners(b,M){this.localCache[b]=M;const J=this.listeners[b];if(J)for(const se of Array.from(J))se(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,ce.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Zo(I){return`__${I}${Math.floor(1e6*Math.random())}`}function B(I,g){return g?Gt(g):(ve(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}Zo("rcb"),new Ar(3e4,6e4);class Q extends ii{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Rs(g,this._buildIdpRequest())}_linkToIdToken(g,b){return Rs(g,this._buildIdpRequest(b))}_getReauthenticationResolver(g){return Rs(g,this._buildIdpRequest())}_buildIdpRequest(g){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(b.idToken=g),b}}function de(I){return Yr(I.auth,new Q(I),I.bypassAuthState)}function _e(I){const{auth:g,user:b}=I;return ve(b,g,"internal-error"),function ui(I,g){return Ms.apply(this,arguments)}(b,new Q(I),I.bypassAuthState)}function ot(I){return $t.apply(this,arguments)}function $t(){return($t=(0,ce.Z)(function*(I){const{auth:g,user:b}=I;return ve(b,g,"internal-error"),ia(b,new Q(I),I.bypassAuthState)})).apply(this,arguments)}new Ar(2e3,1e4);const Pa=new Map;class Wr extends class In{constructor(g,b,M,J,se=!1){this.auth=g,this.resolver=M,this.user=J,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var g=this;return new Promise(function(){var b=(0,ce.Z)(function*(M,J){g.pendingPromise={resolve:M,reject:J};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(se){g.reject(se)}});return function(M,J){return b.apply(this,arguments)}}())}onAuthEvent(g){var b=this;return(0,ce.Z)(function*(){const{urlResponse:M,sessionId:J,postBody:se,tenantId:We,error:Ct,type:fn}=g;if(Ct)return void b.reject(Ct);const xn={auth:b.auth,requestUri:M,sessionId:J,tenantId:We||void 0,postBody:se||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(fn)(xn))}catch(cr){b.reject(cr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return de;case"linkViaPopup":case"linkViaRedirect":return ot;case"reauthViaPopup":case"reauthViaRedirect":return _e;default:it(this.auth,"internal-error")}}resolve(g){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(g,b,M=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var g=()=>super.execute,b=this;return(0,ce.Z)(function*(){let M=Pa.get(b.auth._key());if(!M){try{const se=(yield function Fr(I,g){return Nl.apply(this,arguments)}(b.resolver,b.auth))?yield g().call(b):null;M=()=>Promise.resolve(se)}catch(J){M=()=>Promise.reject(J)}Pa.set(b.auth._key(),M)}return b.bypassAuthState||Pa.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(g){var b=()=>super.onAuthEvent,M=this;return(0,ce.Z)(function*(){if("signInViaRedirect"===g.type)return b().call(M,g);if("unknown"!==g.type){if(g.eventId){const J=yield M.auth._redirectUserForId(g.eventId);if(J)return M.user=J,b().call(M,g);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,ce.Z)(function*(){})()}cleanUp(){}}function Nl(){return(Nl=(0,ce.Z)(function*(I,g){const b=L(g),M=pu(I);if(!(yield M._isAvailable()))return!1;const J="true"===(yield M._get(b));return yield M._remove(b),J})).apply(this,arguments)}function Ku(I,g){Pa.set(I._key(),g)}function pu(I){return Gt(I._redirectPersistence)}function L(I){return bn("pendingRedirect",I.config.apiKey,I.name)}function ri(I,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,ce.Z)(function*(I,g,b=!1){const M=wn(I),J=B(M,g),We=yield new Wr(M,J,b).execute();return We&&!b&&(delete We.user._redirectEventId,yield M._persistUserIfCurrent(We.user),yield M._setRedirectUser(null,g)),We})).apply(this,arguments)}class No{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(g,M)&&(b=!0,this.sendToConsumer(g,M),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function gu(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vs(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=g,b=!0)),b}sendToConsumer(g,b){var M;if(g.error&&!vs(g)){const J=(null===(M=g.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(Be(this.auth,J))}else b.onAuthEvent(g)}isEventForConsumer(g,b){const M=null===b.eventId||!!g.eventId&&g.eventId===b.eventId;return b.filter.includes(g.type)&&M}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ys(g))}saveEventToCache(g){this.cachedEventUids.add(ys(g)),this.lastProcessedEventTime=Date.now()}}function ys(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function vs({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===g?.code}function fs(I){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,ce.Z)(function*(I,g={}){return xr(I,"GET","/v1/projects",g)})).apply(this,arguments)}const Mc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qa=/^https?/;function Hl(){return(Hl=(0,ce.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield fs(I);for(const b of g)try{if(Oc(b))return}catch{}it(I,"unauthorized-domain")})).apply(this,arguments)}function Oc(I){const g=hn(),{protocol:b,hostname:M}=new URL(g);if(I.startsWith("chrome-extension://")){const We=new URL(I);return""===We.hostname&&""===M?"chrome-extension:"===b&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===b&&We.hostname===M}if(!qa.test(b))return!1;if(Mc.test(I))return M===I;const J=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(M)}const Yu=new Ar(3e4,6e4);function Zu(){const I=At().___jsl;if(I?.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let b=0;b<I.CP.length;b++)I.CP[b]=null}let Qu=null;function Gl(I){return Qu=Qu||function vl(I){return new Promise((g,b)=>{var M,J,se;function We(){Zu(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Zu(),b(Be(I,"network-request-failed"))},timeout:Yu.get()})}if(null!==(J=null===(M=At().gapi)||void 0===M?void 0:M.iframes)&&void 0!==J&&J.Iframe)g(gapi.iframes.getContext());else{if(null===(se=At().gapi)||void 0===se||!se.load){const Ct=Zo("iframefcb");return At()[Ct]=()=>{gapi.load?We():b(Be(I,"network-request-failed"))},function Vo(I){return new Promise((g,b)=>{const M=document.createElement("script");M.setAttribute("src",I),M.onload=g,M.onerror=J=>{const se=Be("internal-error");se.customData=J,b(se)},M.type="text/javascript",M.charset="UTF-8",function Vs(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(M)})}(`https://apis.google.com/js/api.js?onload=${Ct}`).catch(fn=>b(fn))}We()}}).catch(g=>{throw Qu=null,g})}(I),Qu}const Ud=new Ar(5e3,15e3),nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(I){const g=I.config;ve(g.authDomain,I,"auth-domain-config-required");const b=g.emulator?ar(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,M={apiKey:g.apiKey,appName:I.name,v:Re.Jn},J=Ml.get(I.config.apiHost);J&&(M.eid=J);const se=I._getFrameworks();return se.length&&(M.fw=se.join(",")),`${b}?${(0,Ce.xO)(M).slice(1)}`}function Ju(){return Ju=(0,ce.Z)(function*(I){const g=yield Gl(I),b=At().gapi;return ve(b,I,"internal-error"),g.open({where:document.body,url:ka(I),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nd,dontclear:!0},M=>new Promise(function(){var J=(0,ce.Z)(function*(se,We){yield M.restyle({setHideOnLeave:!1});const Ct=Be(I,"network-request-failed"),fn=At().setTimeout(()=>{We(Ct)},Ud.get());function xn(){At().clearTimeout(fn),se(M)}M.ping(xn).then(xn,()=>{We(Ct)})});return function(se,We){return J.apply(this,arguments)}}()))}),Ju.apply(this,arguments)}const Xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rc(I,g,b,M,J,se){ve(I.config.authDomain,I,"auth-domain-config-required"),ve(I.config.apiKey,I,"invalid-api-key");const We={apiKey:I.config.apiKey,appName:I.name,authType:b,redirectUrl:M,v:Re.Jn,eventId:J};if(g instanceof as){g.setDefaultLanguage(I.languageCode),We.providerId=g.providerId||"",(0,Ce.xb)(g.getCustomParameters())||(We.customParameters=JSON.stringify(g.getCustomParameters()));for(const[fn,xn]of Object.entries(se||{}))We[fn]=xn}if(g instanceof Co){const fn=g.getScopes().filter(xn=>""!==xn);fn.length>0&&(We.scopes=fn.join(","))}I.tenantId&&(We.tid=I.tenantId);const Ct=We;for(const fn of Object.keys(Ct))void 0===Ct[fn]&&delete Ct[fn];return`${function rf({config:I}){return I.emulator?ar(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,Ce.xO)(Ct).slice(1)}`}const Pc="webStorageSupport",Wl=class kc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=ri,this._overrideRedirectResult=Ku}_openPopup(g,b,M,J){var se=this;return(0,ce.Z)(function*(){var We;bt(null===(We=se.eventManagers[g._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Ct=Rc(g,b,M,hn(),J);return function gp(I,g,b,M=500,J=600){const se=Math.max((window.screen.availHeight-J)/2,0).toString(),We=Math.max((window.screen.availWidth-M)/2,0).toString();let Ct="";const fn=Object.assign(Object.assign({},Xu),{width:M.toString(),height:J.toString(),top:se,left:We}),xn=(0,Ce.z$)().toLowerCase();b&&(Ct=me(xn)?"_blank":b),hr(xn)&&(g=g||"http://localhost",fn.scrollbars="yes");const cr=Object.entries(fn).reduce((Xa,[Cl,ya])=>`${Xa}${Cl}=${ya},`,"");if(function mt(I=(0,Ce.z$)()){var g;return wt(I)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(xn)&&"_self"!==Ct)return function tf(I,g){const b=document.createElement("a");b.href=I,b.target=g;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(g||"",Ct),new tc(null);const Zr=window.open(g||"",Ct,cr);ve(Zr,I,"popup-blocked");try{Zr.focus()}catch{}return new tc(Zr)}(g,Ct,mi())})()}_openRedirect(g,b,M,J){var se=this;return(0,ce.Z)(function*(){return yield se._originValidation(g),function ua(I){At().location.href=I}(Rc(g,b,M,hn(),J)),new Promise(()=>{})})()}_initialize(g){const b=g._key();if(this.eventManagers[b]){const{manager:J,promise:se}=this.eventManagers[b];return J?Promise.resolve(J):(bt(se,"If manager is not set, promise should be"),se)}const M=this.initAndGetManager(g);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(g){var b=this;return(0,ce.Z)(function*(){const M=yield function xc(I){return Ju.apply(this,arguments)}(g),J=new No(g);return M.register("authEvent",se=>(ve(se?.authEvent,g,"invalid-auth-event"),{status:J.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[g._key()]={manager:J},b.iframes[g._key()]=M,J})()}_isIframeWebStorageSupported(g,b){this.iframes[g._key()].send(Pc,{type:Pc},J=>{var se;const We=null===(se=J?.[0])||void 0===se?void 0:se[Pc];void 0!==We&&b(!!We),it(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const b=g._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function il(I){return Hl.apply(this,arguments)}(g)),this.originValidationPromises[b]}get _shouldInitProactively(){return zn()||Ue()||wt()}};var Fa="@firebase/auth";class nc{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var b=this;return(0,ce.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const b=this.auth.onIdTokenChanged(M=>{g(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,b),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const b=this.internalListeners.get(g);!b||(this.internalListeners.delete(g),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wd=(0,Ce.Pz)("authIdTokenMaxAge")||300;let rs=null;const ic=I=>function(){var g=(0,ce.Z)(function*(b){const M=b&&(yield b.getIdTokenResult()),J=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(J&&J>Wd)return;const se=M?.token;rs!==se&&(rs=se,yield fetch(I,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(b){return g.apply(this,arguments)}}();function bl(I=(0,Re.Mq)()){const g=(0,Re.qX)(I,"auth");if(g.isInitialized())return g.getImmediate();const b=function cn(I,g){const b=(0,Re.qX)(I,"auth");if(b.isInitialized()){const J=b.getImmediate(),se=b.getOptions();if((0,Ce.vZ)(se,g??{}))return J;it(J,"already-initialized")}return b.initialize({options:g})}(I,{popupRedirectResolver:Wl,persistence:[Gr,nr,jn]}),M=(0,Ce.Pz)("authTokenSyncURL");if(M){const se=ic(M);(function As(I,g,b){(0,Ce.m9)(I).beforeAuthStateChanged(g,b)})(b,se,()=>se(b.currentUser)),function Ji(I,g,b,M){(0,Ce.m9)(I).onIdTokenChanged(g,b,M)}(b,We=>se(We))}const J=(0,Ce.q4)("auth");return J&&function Ni(I,g,b){const M=wn(I);ve(M._canInitEmulator,M,"emulator-config-failed"),ve(/^https?:\/\//.test(g),M,"invalid-emulator-scheme");const J=!!b?.disableWarnings,se=Pn(g),{host:We,port:Ct}=function bi(I){const g=Pn(I),b=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(M);if(J){const se=J[1];return{host:se,port:Hi(M.substr(se.length+1))}}{const[se,We]=M.split(":");return{host:se,port:Hi(We)}}}(g);M.config.emulator={url:`${se}//${We}${null===Ct?"":`:${Ct}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:We,port:Ct,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function Ns(){function I(){const g=document.createElement("p"),b=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(b,`http://${J}`),b}!function sl(I){(0,Re.Xd)(new ye.wA("auth",(g,{options:b})=>{const M=g.getProvider("app").getImmediate(),J=g.getProvider("heartbeat"),{apiKey:se,authDomain:We}=M.options;return((Ct,fn)=>{ve(se&&!se.includes(":"),"invalid-api-key",{appName:Ct.name}),ve(!We?.includes(":"),"argument-error",{appName:Ct.name});const xn={apiKey:se,authDomain:We,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(I)},cr=new $i(Ct,fn,xn);return function or(I,g){const b=g?.persistence||[],M=(Array.isArray(b)?b:[b]).map(Gt);g?.errorMap&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(M,g?.popupRedirectResolver)}(cr,b),cr})(M,J)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,b,M)=>{g.getProvider("auth-internal").initialize()})),(0,Re.Xd)(new ye.wA("auth-internal",g=>{const b=wn(g.getProvider("auth").getImmediate());return new nc(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.KN)(Fa,"0.21.1",function rc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Re.KN)(Fa,"0.21.1","esm2017")}("Browser");class Do{constructor(g){return g}}class wl{constructor(){return(0,d.vb)("auth")}}const Kl=new Y.OlP("angularfire2.auth-instances");function Mo(I){return(g,b)=>{const M=g.runOutsideAngular(()=>I(b));return new Do(M)}}const ol={provide:wl,deps:[[new Y.FiY,Kl]]},Yl={provide:Do,useFactory:function Ks(I,g){const b=(0,d.JM)("auth",I,g);return b&&new Do(b)},deps:[[new Y.FiY,Kl],fe.Ot]};let vu=(()=>{class I{constructor(){(0,Pe.KN)("angularfire",d.q4.full,"auth")}}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=Y.oAB({type:I}),I.\u0275inj=Y.cJS({providers:[Yl,ol]}),I})();function Dl(I,...g){return{ngModule:vu,providers:[{provide:Kl,useFactory:Mo(I),multi:!0,deps:[Y.R0b,Y.zs3,d.HU,fe.z6,[new Y.FiY,Te.nm],...g]}]}}const La=(0,d.u3)(Wt,!0),al=(0,d.u3)(bl,!0),Rl=(0,d.u3)(zs,!0),Tu=(0,d.u3)(Ri,!0)},89:(pn,lt,Z)=>{Z.d(lt,{gg:()=>Ae,ET:()=>xr,hJ:()=>Wn,BS:()=>ar,oe:()=>oi,JU:()=>Qn,_1:()=>Fn,ad:()=>Kt,Cm:()=>ir,r7:()=>Ue});var d=Z(2122),Y=Z(8256),fe=Z(7318),Pe=Z(3692),Te=Z(259),ce=Z(2313),Ce=Z(5525),Re=Z(9751),Xe=Z(4004),le={includeMetadataChanges:!1};function ye(Oe,st){return void 0===st&&(st=le),new Re.y(function(wt){return{unsubscribe:(0,Ce.cf)(Oe,st,{next:wt.next.bind(wt),error:wt.error.bind(wt),complete:wt.complete.bind(wt)})}})}function _t(Oe,st){return void 0===st&&(st={}),function tt(Oe){return ye(Oe,{includeMetadataChanges:!0})}(Oe).pipe((0,Xe.U)(function(wt){return Je(wt,st)}))}function Je(Oe,st){void 0===st&&(st={});var wt=Oe.data();return!Oe.exists()||"object"!=typeof wt||null===wt||st.idField&&(wt[st.idField]=Oe.id),wt}function ht(Oe,st){return void 0===st&&(st={}),function Rt(Oe){return ye(Oe,{includeMetadataChanges:!0}).pipe((0,Xe.U)(function(st){return st.docs}))}(Oe).pipe((0,Xe.U)(function(wt){return wt.map(function(en){return Je(en,st)})}))}class Ae{constructor(st){return st}}const Le="firestore",bt=new Y.OlP("angularfire2.firestore-instances");function Gt(Oe){return(st,wt)=>{const en=st.runOutsideAngular(()=>Oe(wt));return new Ae(en)}}const cn={provide:class ve{constructor(){return(0,d.vb)(Le)}},deps:[[new Y.FiY,bt]]},or={provide:Ae,useFactory:function yt(Oe,st){const wt=(0,d.JM)(Le,Oe,st);return wt&&new Ae(wt)},deps:[[new Y.FiY,bt],Pe.Ot]};let hn=(()=>{class Oe{constructor(){(0,Te.KN)("angularfire",d.q4.full,"fst")}}return Oe.\u0275fac=function(wt){return new(wt||Oe)},Oe.\u0275mod=Y.oAB({type:Oe}),Oe.\u0275inj=Y.cJS({providers:[or,cn]}),Oe})();function ir(Oe,...st){return{ngModule:hn,providers:[{provide:bt,useFactory:Gt(Oe),multi:!0,deps:[Y.R0b,Y.zs3,d.HU,Pe.z6,[new Y.FiY,fe.dh],[new Y.FiY,ce.nm],...st]}]}}const ar=(0,d.u3)(ht,!0),Fn=(0,d.u3)(_t,!0),xr=(0,d.u3)(Ce.ET,!0),Wn=(0,d.u3)(Ce.hJ,!0),oi=(0,d.u3)(Ce.oe,!0),Qn=(0,d.u3)(Ce.JU,!0),Kt=(0,d.u3)(Ce.ad,!0),Ue=(0,d.u3)(Ce.r7,!0)},2122:(pn,lt,Z)=>{Z.d(lt,{q4:()=>x,HU:()=>jl,vb:()=>Ra,JM:()=>xa,u3:()=>pu});var d=Z(8256),Y=Z(259),fe=Z(5861),Pe=Z(9681),Te=Z(2090),ce=Z(4859),Ce=Z(1877),Re=Z(8766);const Xe="@firebase/installations",tt="w:0.6.1",_t="FIS_v2",on=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ft(L){return L instanceof Te.ZR&&L.code.includes("request-failed")}function ut({projectId:L}){return`https://firebaseinstallations.googleapis.com/v1/projects/${L}/installations`}function gt(L){return{token:L.token,requestStatus:2,expiresIn:Le(L.expiresIn),creationTime:Date.now()}}function ke(L,$){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,fe.Z)(function*(L,$){const ue=(yield $.json()).error;return on.create("request-failed",{requestName:L,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function it({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function Be(L,{refreshToken:$}){const X=it(L);return X.append("Authorization",function ve(L){return`${_t} ${L}`}($)),X}function ht(L){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,fe.Z)(function*(L){const $=yield L();return $.status>=500&&$.status<600?L():$})).apply(this,arguments)}function Le(L){return Number(L.replace("s","000"))}function Fe(L,$){return bt.apply(this,arguments)}function bt(){return(bt=(0,fe.Z)(function*({appConfig:L,heartbeatServiceProvider:$},{fid:X}){const ue=ut(L),He=it(L),ze=$.getImmediate({optional:!0});if(ze){const Mn=yield ze.getHeartbeatsHeader();Mn&&He.append("x-firebase-client",Mn)}const vn={method:"POST",headers:He,body:JSON.stringify({fid:X,authVersion:_t,appId:L.appId,sdkVersion:tt})},Sn=yield ht(()=>fetch(ue,vn));if(Sn.ok){const Mn=yield Sn.json();return{fid:Mn.fid||X,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:gt(Mn.authToken)}}throw yield ke("Create Installation",Sn)})).apply(this,arguments)}function yt(L){return new Promise($=>{setTimeout($,L)})}const cn=/^[cdef][\w-]{21}$/;function hn(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const X=function ir(L){return function Gt(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return cn.test(X)?X:""}catch{return""}}function Dn(L){return`${L.appName}!${L.appId}`}const Vn=new Map;function Sr(L,$){const X=Dn(L);kr(X,$),function Fn(L,$){const X=function Yn(){return!yn&&"BroadcastChannel"in self&&(yn=new BroadcastChannel("[Firebase] FID Change"),yn.onmessage=L=>{kr(L.data.key,L.data.fid)}),yn}();X&&X.postMessage({key:L,fid:$}),function xr(){0===Vn.size&&yn&&(yn.close(),yn=null)}()}(X,$)}function kr(L,$){const X=Vn.get(L);if(X)for(const ue of X)ue($)}let yn=null;const di="firebase-installations-store";let Wn=null;function ss(){return Wn||(Wn=(0,Re.X3)("firebase-installations-database",1,{upgrade:(L,$)=>{0===$&&L.createObjectStore(di)}})),Wn}function dr(L,$){return oi.apply(this,arguments)}function oi(){return(oi=(0,fe.Z)(function*(L,$){const X=Dn(L),He=(yield ss()).transaction(di,"readwrite"),ze=He.objectStore(di),Nt=yield ze.get(X);return yield ze.put($,X),yield He.done,(!Nt||Nt.fid!==$.fid)&&Sr(L,$.fid),$})).apply(this,arguments)}function Kr(L){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,fe.Z)(function*(L){const $=Dn(L),ue=(yield ss()).transaction(di,"readwrite");yield ue.objectStore(di).delete($),yield ue.done})).apply(this,arguments)}function Qn(L,$){return Es.apply(this,arguments)}function Es(){return(Es=(0,fe.Z)(function*(L,$){const X=Dn(L),He=(yield ss()).transaction(di,"readwrite"),ze=He.objectStore(di),Nt=yield ze.get(X),vn=$(Nt);return void 0===vn?yield ze.delete(X):yield ze.put(vn,X),yield He.done,vn&&(!Nt||Nt.fid!==vn.fid)&&Sr(L,vn.fid),vn})).apply(this,arguments)}function hi(L){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,fe.Z)(function*(L){let $;const X=yield Qn(L.appConfig,ue=>{const He=Mt(ue),ze=Ut(L,He);return $=ze.registrationPromise,ze.installationEntry});return""===X.fid?{installationEntry:yield $}:{installationEntry:X,registrationPromise:$}})).apply(this,arguments)}function Mt(L){return Rn(L||{fid:hn(),registrationStatus:0})}function Ut(L,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(on.create("app-offline"))};const X={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},ue=function qt(L,$){return Tr.apply(this,arguments)}(L,X);return{installationEntry:X,registrationPromise:ue}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Br(L)}:{installationEntry:$}}function Tr(){return(Tr=(0,fe.Z)(function*(L,$){try{const X=yield Fe(L,$);return dr(L.appConfig,X)}catch(X){throw Ft(X)&&409===X.customData.serverCode?yield Kr(L.appConfig):yield dr(L.appConfig,{fid:$.fid,registrationStatus:0}),X}})).apply(this,arguments)}function Br(L){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,fe.Z)(function*(L){let $=yield Rr(L.appConfig);for(;1===$.registrationStatus;)yield yt(100),$=yield Rr(L.appConfig);if(0===$.registrationStatus){const{installationEntry:X,registrationPromise:ue}=yield hi(L);return ue||X}return $})).apply(this,arguments)}function Rr(L){return Qn(L,$=>{if(!$)throw on.create("installation-not-found");return Rn($)})}function Rn(L){return function Jr(L){return 1===L.registrationStatus&&L.registrationTime+1e4<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Kt(L,$){return ai.apply(this,arguments)}function ai(){return(ai=(0,fe.Z)(function*({appConfig:L,heartbeatServiceProvider:$},X){const ue=En(L,X),He=Be(L,X),ze=$.getImmediate({optional:!0});if(ze){const Mn=yield ze.getHeartbeatsHeader();Mn&&He.append("x-firebase-client",Mn)}const vn={method:"POST",headers:He,body:JSON.stringify({installation:{sdkVersion:tt,appId:L.appId}})},Sn=yield ht(()=>fetch(ue,vn));if(Sn.ok)return gt(yield Sn.json());throw yield ke("Generate Auth Token",Sn)})).apply(this,arguments)}function En(L,{fid:$}){return`${ut(L)}/${$}/authTokens:generate`}function Ai(L){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,fe.Z)(function*(L,$=!1){let X;const ue=yield Qn(L.appConfig,ze=>{if(!Bn(ze))throw on.create("not-registered");const Nt=ze.authToken;if(!$&&ge(Nt))return ze;if(1===Nt.requestStatus)return X=jt(L,$),ze;{if(!navigator.onLine)throw on.create("app-offline");const vn=Me(ze);return X=an(L,vn),vn}});return X?yield X:ue.authToken})).apply(this,arguments)}function jt(L,$){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,fe.Z)(function*(L,$){let X=yield Pt(L.appConfig);for(;1===X.authToken.requestStatus;)yield yt(100),X=yield Pt(L.appConfig);const ue=X.authToken;return 0===ue.requestStatus?Ai(L,$):ue})).apply(this,arguments)}function Pt(L){return Qn(L,$=>{if(!Bn($))throw on.create("not-registered");return function rt(L){return 1===L.requestStatus&&L.requestTime+1e4<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function an(L,$){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,fe.Z)(function*(L,$){try{const X=yield Kt(L,$),ue=Object.assign(Object.assign({},$),{authToken:X});return yield dr(L.appConfig,ue),X}catch(X){if(!Ft(X)||401!==X.customData.serverCode&&404!==X.customData.serverCode){const ue=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield dr(L.appConfig,ue)}else yield Kr(L.appConfig);throw X}})).apply(this,arguments)}function Bn(L){return void 0!==L&&2===L.registrationStatus}function ge(L){return 2===L.requestStatus&&!function pe(L){const $=Date.now();return $<L.creationTime||L.creationTime+L.expiresIn<$+36e5}(L)}function Me(L){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:$})}function Vt(){return(Vt=(0,fe.Z)(function*(L){const $=L,{installationEntry:X,registrationPromise:ue}=yield hi($);return ue?ue.catch(console.error):Ai($).catch(console.error),X.fid})).apply(this,arguments)}function kn(){return(kn=(0,fe.Z)(function*(L,$=!1){const X=L;return yield Pr(X),(yield Ai(X,$)).token})).apply(this,arguments)}function Pr(L){return hr.apply(this,arguments)}function hr(){return(hr=(0,fe.Z)(function*(L){const{registrationPromise:$}=yield hi(L);$&&(yield $)})).apply(this,arguments)}function mt(L){return on.create("missing-app-config-values",{valueName:L})}const Zt="installations",ei=L=>{const $=L.getProvider("app").getImmediate(),X=function en(L){if(!L||!L.options)throw mt("App Configuration");if(!L.name)throw mt("App Name");const $=["projectId","apiKey","appId"];for(const X of $)if(!L.options[X])throw mt(X);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}($);return{app:$,appConfig:X,heartbeatServiceProvider:(0,Pe.qX)($,"heartbeat"),_delete:()=>Promise.resolve()}},fi=L=>{const $=L.getProvider("app").getImmediate(),X=(0,Pe.qX)($,Zt).getImmediate();return{getId:()=>function qe(L){return Vt.apply(this,arguments)}(X),getToken:He=>function bn(L){return kn.apply(this,arguments)}(X,He)}};(function yr(){(0,Pe.Xd)(new ce.wA(Zt,ei,"PUBLIC")),(0,Pe.Xd)(new ce.wA("installations-internal",fi,"PRIVATE"))})(),(0,Pe.KN)(Xe,"0.6.1"),(0,Pe.KN)(Xe,"0.6.1","esm2017");const $i="@firebase/remote-config",bi=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class os{constructor($,X,ue,He){this.client=$,this.storage=X,this.storageCache=ue,this.logger=He}isCachedDataFresh($,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-X,He=ue<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${He}.`),He}fetch($){var X=this;return(0,fe.Z)(function*(){const[ue,He]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(He&&X.isCachedDataFresh($.cacheMaxAgeMillis,ue))return He;$.eTag=He&&He.eTag;const ze=yield X.client.fetch($),Nt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ze.status&&Nt.push(X.storage.setLastSuccessfulFetchResponse(ze)),yield Promise.all(Nt),ze})()}}function gs(L=navigator){return L.languages&&L.languages[0]||L.language}class na{constructor($,X,ue,He,ze,Nt){this.firebaseInstallations=$,this.sdkVersion=X,this.namespace=ue,this.projectId=He,this.apiKey=ze,this.appId=Nt}fetch($){var X=this;return(0,fe.Z)(function*(){const[ue,He]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,vn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Sn={sdk_version:X.sdkVersion,app_instance_id:ue,app_instance_id_token:He,app_id:X.appId,language_code:gs()},Mn={method:"POST",headers:vn,body:JSON.stringify(Sn)},Or=fetch(Nt,Mn),rr=new Promise((No,ys)=>{$.signal.addEventListener(()=>{const vs=new Error("The operation was aborted.");vs.name="AbortError",ys(vs)})});let ri;try{yield Promise.race([Or,rr]),ri=yield Or}catch(No){let ys="fetch-client-network";throw"AbortError"===No?.name&&(ys="fetch-timeout"),bi.create(ys,{originalErrorMessage:No?.message})}let ns=ri.status;const Yi=ri.headers.get("ETag")||void 0;let si,za;if(200===ri.status){let No;try{No=yield ri.json()}catch(ys){throw bi.create("fetch-client-parse",{originalErrorMessage:ys?.message})}si=No.entries,za=No.state}if("INSTANCE_STATE_UNSPECIFIED"===za?ns=500:"NO_CHANGE"===za?ns=304:("NO_TEMPLATE"===za||"EMPTY_CONFIG"===za)&&(si={}),304!==ns&&200!==ns)throw bi.create("fetch-status",{httpStatus:ns});return{status:ns,eTag:Yi,config:si}})()}}class Cs{constructor($,X){this.client=$,this.storage=X}fetch($){var X=this;return(0,fe.Z)(function*(){const ue=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch($,ue)})()}attemptFetch($,{throttleEndTimeMillis:X,backoffCount:ue}){var He=this;return(0,fe.Z)(function*(){yield function Oi(L,$){return new Promise((X,ue)=>{const He=Math.max($-Date.now(),0),ze=setTimeout(X,He);L.addEventListener(()=>{clearTimeout(ze),ue(bi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,X);try{const ze=yield He.client.fetch($);return yield He.storage.deleteThrottleMetadata(),ze}catch(ze){if(!function xo(L){if(!(L instanceof Te.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}(ze))throw ze;const Nt={throttleEndTimeMillis:Date.now()+(0,Te.$s)(ue),backoffCount:ue+1};return yield He.storage.setThrottleMetadata(Nt),He.attemptFetch($,Nt)}})()}}class co{constructor($,X,ue,He,ze){this.app=$,this._client=X,this._storageCache=ue,this._storage=He,this._logger=ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ho(L,$){const X=L.target.error||void 0;return bi.create($,{originalErrorMessage:X&&X?.message})}const Wi="app_namespace_store";class $s{constructor($,X,ue,He=function Ca(){return new Promise((L,$)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=ue=>{$(ho(ue,"storage-open"))},X.onsuccess=ue=>{L(ue.target.result)},X.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Wi,{keyPath:"compositeKey"})}}catch(X){$(bi.create("storage-open",{originalErrorMessage:X?.message}))}})}()){this.appId=$,this.appName=X,this.namespace=ue,this.openDbPromise=He}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var X=this;return(0,fe.Z)(function*(){const ue=yield X.openDbPromise;return new Promise((He,ze)=>{const vn=ue.transaction([Wi],"readonly").objectStore(Wi),Sn=X.createCompositeKey($);try{const Mn=vn.get(Sn);Mn.onerror=Or=>{ze(ho(Or,"storage-get"))},Mn.onsuccess=Or=>{const rr=Or.target.result;He(rr?rr.value:void 0)}}catch(Mn){ze(bi.create("storage-get",{originalErrorMessage:Mn?.message}))}})})()}set($,X){var ue=this;return(0,fe.Z)(function*(){const He=yield ue.openDbPromise;return new Promise((ze,Nt)=>{const Sn=He.transaction([Wi],"readwrite").objectStore(Wi),Mn=ue.createCompositeKey($);try{const Or=Sn.put({compositeKey:Mn,value:X});Or.onerror=rr=>{Nt(ho(rr,"storage-set"))},Or.onsuccess=()=>{ze()}}catch(Or){Nt(bi.create("storage-set",{originalErrorMessage:Or?.message}))}})})()}delete($){var X=this;return(0,fe.Z)(function*(){const ue=yield X.openDbPromise;return new Promise((He,ze)=>{const vn=ue.transaction([Wi],"readwrite").objectStore(Wi),Sn=X.createCompositeKey($);try{const Mn=vn.delete(Sn);Mn.onerror=Or=>{ze(ho(Or,"storage-delete"))},Mn.onsuccess=()=>{He()}}catch(Mn){ze(bi.create("storage-delete",{originalErrorMessage:Mn?.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Ps{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,fe.Z)(function*(){const X=$.storage.getLastFetchStatus(),ue=$.storage.getLastSuccessfulFetchTimestampMillis(),He=$.storage.getActiveConfig(),ze=yield X;ze&&($.lastFetchStatus=ze);const Nt=yield ue;Nt&&($.lastSuccessfulFetchTimestampMillis=Nt);const vn=yield He;vn&&($.activeConfig=vn)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function to(){return _s.apply(this,arguments)}function _s(){return(_s=(0,fe.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}!function jo(){(0,Pe.Xd)(new ce.wA("remote-config",function L($,{instanceIdentifier:X}){const ue=$.getProvider("app").getImmediate(),He=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bi.create("registration-window");if(!(0,Te.hl)())throw bi.create("indexed-db-unavailable");const{projectId:ze,apiKey:Nt,appId:vn}=ue.options;if(!ze)throw bi.create("registration-project-id");if(!Nt)throw bi.create("registration-api-key");if(!vn)throw bi.create("registration-app-id");const Sn=new $s(vn,ue.name,X=X||"firebase"),Mn=new Ps(Sn),Or=new Ce.Yd($i);Or.logLevel=Ce.in.ERROR;const rr=new na(He,Pe.Jn,X,ze,Nt,vn),ri=new Cs(rr,Sn),ns=new os(ri,Sn,Mn,Or),Yi=new co(ue,ns,Mn,Sn,Or);return function Ve(L){const $=(0,Te.m9)(L);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Yi),Yi},"PUBLIC").setMultipleInstances(!0)),(0,Pe.KN)($i,"0.4.1"),(0,Pe.KN)($i,"0.4.1","esm2017")}();const Ba="/firebase-messaging-sw.js",Ur="/firebase-cloud-messaging-push-scope",fo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ks="google.c.a.c_id",as="google.c.a.c_l",Co="google.c.a.ts",ra="google.c.a.e";var Ro=(()=>{return(L=Ro||(Ro={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",Ro;var L})();function Gs(L){const $=new Uint8Array(L);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ho(L){const X=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(X),He=new Uint8Array(ue.length);for(let ze=0;ze<ue.length;++ze)He[ze]=ue.charCodeAt(ze);return He}const xi="fcm_token_details_db",Go="fcm_token_object_Store";function Ia(L){return po.apply(this,arguments)}function po(){return po=(0,fe.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ze=>ze.name).includes(xi))return null;let $=null;return(yield(0,Re.X3)(xi,5,{upgrade:(ue=(0,fe.Z)(function*(He,ze,Nt,vn){var Sn;if(ze<2||!He.objectStoreNames.contains(Go))return;const Mn=vn.objectStore(Go),Or=yield Mn.index("fcmSenderId").get(L);if(yield Mn.clear(),Or)if(2===ze){const rr=Or;if(!rr.auth||!rr.p256dh||!rr.endpoint)return;$={token:rr.fcmToken,createTime:null!==(Sn=rr.createTime)&&void 0!==Sn?Sn:Date.now(),subscriptionOptions:{auth:rr.auth,p256dh:rr.p256dh,endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:"string"==typeof rr.vapidKey?rr.vapidKey:Gs(rr.vapidKey)}}}else if(3===ze){const rr=Or;$={token:rr.fcmToken,createTime:rr.createTime,subscriptionOptions:{auth:Gs(rr.auth),p256dh:Gs(rr.p256dh),endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:Gs(rr.vapidKey)}}}else if(4===ze){const rr=Or;$={token:rr.fcmToken,createTime:rr.createTime,subscriptionOptions:{auth:Gs(rr.auth),p256dh:Gs(rr.p256dh),endpoint:rr.endpoint,swScope:rr.swScope,vapidKey:Gs(rr.vapidKey)}}}}),function(ze,Nt,vn,Sn){return ue.apply(this,arguments)})})).close(),yield(0,Re.Lj)(xi),yield(0,Re.Lj)("fcm_vapid_details_db"),yield(0,Re.Lj)("undefined"),go($)?$:null;var ue}),po.apply(this,arguments)}function go(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:$}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const no="firebase-messaging-store";let Po=null;function us(){return Po||(Po=(0,Re.X3)("firebase-messaging-database",1,{upgrade:(L,$)=>{0===$&&L.createObjectStore(no)}})),Po}function Wo(L){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,fe.Z)(function*(L){const $=Ei(L),ue=yield(yield us()).transaction(no).objectStore(no).get($);if(ue)return ue;{const He=yield Ia(L.appConfig.senderId);if(He)return yield ur(L,He),He}})).apply(this,arguments)}function ur(L,$){return zo.apply(this,arguments)}function zo(){return(zo=(0,fe.Z)(function*(L,$){const X=Ei(L),He=(yield us()).transaction(no,"readwrite");return yield He.objectStore(no).put($,X),yield He.done,$})).apply(this,arguments)}function ia(L){return mo.apply(this,arguments)}function mo(){return(mo=(0,fe.Z)(function*(L){const $=Ei(L),ue=(yield us()).transaction(no,"readwrite");yield ue.objectStore(no).delete($),yield ue.done})).apply(this,arguments)}function Ei({appConfig:L}){return L.appId}const ui=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ms(L,$){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,fe.Z)(function*(L,$){const X=yield $r(L),ue=Ua($),He={method:"POST",headers:X,body:JSON.stringify(ue)};let ze;try{ze=yield(yield fetch(Ci(L.appConfig),He)).json()}catch(Nt){throw ui.create("token-subscribe-failed",{errorInfo:Nt?.toString()})}if(ze.error)throw ui.create("token-subscribe-failed",{errorInfo:ze.error.message});if(!ze.token)throw ui.create("token-subscribe-no-token");return ze.token})).apply(this,arguments)}function sa(L,$){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,fe.Z)(function*(L,$){const X=yield $r(L),ue=Ua($.subscriptionOptions),He={method:"PATCH",headers:X,body:JSON.stringify(ue)};let ze;try{ze=yield(yield fetch(`${Ci(L.appConfig)}/${$.token}`,He)).json()}catch(Nt){throw ui.create("token-update-failed",{errorInfo:Nt?.toString()})}if(ze.error)throw ui.create("token-update-failed",{errorInfo:ze.error.message});if(!ze.token)throw ui.create("token-update-no-token");return ze.token})).apply(this,arguments)}function ro(L,$){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,fe.Z)(function*(L,$){const ue={method:"DELETE",headers:yield $r(L)};try{const ze=yield(yield fetch(`${Ci(L.appConfig)}/${$}`,ue)).json();if(ze.error)throw ui.create("token-unsubscribe-failed",{errorInfo:ze.error.message})}catch(He){throw ui.create("token-unsubscribe-failed",{errorInfo:He?.toString()})}})).apply(this,arguments)}function Ci({projectId:L}){return`https://fcmregistrations.googleapis.com/v1/projects/${L}/registrations`}function $r(L){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,fe.Z)(function*({appConfig:L,installations:$}){const X=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function Ua({p256dh:L,auth:$,endpoint:X,vapidKey:ue}){const He={web:{endpoint:X,auth:$,p256dh:L}};return ue!==fo&&(He.web.applicationPubKey=ue),He}const ko=6048e5;function $a(L){return _o.apply(this,arguments)}function _o(){return(_o=(0,fe.Z)(function*(L){const $=yield qo(L.swRegistration,L.vapidKey),X={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:$.endpoint,auth:Gs($.getKey("auth")),p256dh:Gs($.getKey("p256dh"))},ue=yield Wo(L.firebaseDependencies);if(ue){if(U(ue.subscriptionOptions,X))return Date.now()>=ue.createTime+ko?Ws(L,{token:ue.token,createTime:Date.now(),subscriptionOptions:X}):ue.token;try{yield ro(L.firebaseDependencies,ue.token)}catch(He){console.warn(He)}return ft(L.firebaseDependencies,X)}return ft(L.firebaseDependencies,X)})).apply(this,arguments)}function oa(L){return yo.apply(this,arguments)}function yo(){return(yo=(0,fe.Z)(function*(L){const $=yield Wo(L.firebaseDependencies);$&&(yield ro(L.firebaseDependencies,$.token),yield ia(L.firebaseDependencies));const X=yield L.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function Ws(L,$){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,fe.Z)(function*(L,$){try{const X=yield sa(L.firebaseDependencies,$),ue=Object.assign(Object.assign({},$),{token:X,createTime:Date.now()});return yield ur(L.firebaseDependencies,ue),X}catch(X){throw yield oa(L),X}})).apply(this,arguments)}function ft(L,$){return vr.apply(this,arguments)}function vr(){return(vr=(0,fe.Z)(function*(L,$){const ue={token:yield Ms(L,$),createTime:Date.now(),subscriptionOptions:$};return yield ur(L,ue),ue.token})).apply(this,arguments)}function qo(L,$){return Is.apply(this,arguments)}function Is(){return(Is=(0,fe.Z)(function*(L,$){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ho($)})})).apply(this,arguments)}function U(L,$){return $.vapidKey===L.vapidKey&&$.endpoint===L.endpoint&&$.auth===L.auth&&$.p256dh===L.p256dh}function V(L){const $={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function k(L,$){if(!$.notification)return;L.notification={};const X=$.notification.title;X&&(L.notification.title=X);const ue=$.notification.body;ue&&(L.notification.body=ue);const He=$.notification.image;He&&(L.notification.image=He);const ze=$.notification.icon;ze&&(L.notification.icon=ze)}($,L),function ee(L,$){!$.data||(L.data=$.data)}($,L),function Ze(L,$){var X,ue,He,ze,Nt;if(!($.fcmOptions||null!==(X=$.notification)&&void 0!==X&&X.click_action))return;L.fcmOptions={};const vn=null!==(He=null===(ue=$.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==He?He:null===(ze=$.notification)||void 0===ze?void 0:ze.click_action;vn&&(L.fcmOptions.link=vn);const Sn=null===(Nt=$.fcmOptions)||void 0===Nt?void 0:Nt.analytics_label;Sn&&(L.fcmOptions.analyticsLabel=Sn)}($,L),$}function Wt(L){return"object"==typeof L&&!!L&&ks in L}function Xr(L,$){const X=[];for(let ue=0;ue<L.length;ue++)X.push(L.charAt(ue)),ue<$.length&&X.push($.charAt(ue));return X.join("")}function io(L){return ui.create("missing-app-config-values",{valueName:L})}Xr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qs{constructor($,X,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const He=function zs(L){if(!L||!L.options)throw io("App Configuration Object");if(!L.name)throw io("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:X}=L;for(const ue of $)if(!X[ue])throw io(ue);return{appName:L.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:He,installations:X,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function qi(L){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,fe.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(Ba,{scope:Ur}),L.swRegistration.update().catch(()=>{})}catch($){throw ui.create("failed-service-worker-registration",{browserErrorMessage:$?.message})}})).apply(this,arguments)}function Ko(L,$){return vo.apply(this,arguments)}function vo(){return(vo=(0,fe.Z)(function*(L,$){if(!$&&!L.swRegistration&&(yield qi(L)),$||!L.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw ui.create("invalid-sw-registration");L.swRegistration=$}})).apply(this,arguments)}function Ls(L,$){return ja.apply(this,arguments)}function ja(){return(ja=(0,fe.Z)(function*(L,$){$?L.vapidKey=$:L.vapidKey||(L.vapidKey=fo)})).apply(this,arguments)}function To(){return(To=(0,fe.Z)(function*(L,$){if(!navigator)throw ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ui.create("permission-blocked");return yield Ls(L,$?.vapidKey),yield Ko(L,$?.serviceWorkerRegistration),$a(L)})).apply(this,arguments)}function aa(L,$,X){return la.apply(this,arguments)}function la(){return(la=(0,fe.Z)(function*(L,$,X){const ue=Yo($);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:X[ks],message_name:X[as],message_time:X[Co],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yo(L){switch(L){case Ro.NOTIFICATION_CLICKED:return"notification_open";case Ro.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function z(){return(z=(0,fe.Z)(function*(L,$){const X=$.data;if(!X.isFirebaseMessaging)return;L.onMessageHandler&&X.messageType===Ro.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(V(X)):L.onMessageHandler.next(V(X)));const ue=X.data;Wt(ue)&&"1"===ue[ra]&&(yield aa(L,X.messageType,ue))})).apply(this,arguments)}const F="@firebase/messaging",be=L=>{const $=new qs(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function R(L,$){return z.apply(this,arguments)}($,X)),$},nt=L=>{const $=L.getProvider("messaging").getImmediate();return{getToken:ue=>function Na(L,$){return To.apply(this,arguments)}($,ue)}};function Yt(){return sr.apply(this,arguments)}function sr(){return(sr=(0,fe.Z)(function*(){try{yield(0,Te.eu)()}catch{return!1}return typeof window<"u"&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dt(){(0,Pe.Xd)(new ce.wA("messaging",be,"PUBLIC")),(0,Pe.Xd)(new ce.wA("messaging-internal",nt,"PRIVATE")),(0,Pe.KN)(F,"0.12.1"),(0,Pe.KN)(F,"0.12.1","esm2017")}();const Ji="analytics",As="firebase_id",St="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ri="https://www.googletagmanager.com/gtag/js",Pi=new Ce.Yd("@firebase/analytics");function ga(L){return Promise.all(L.map($=>$.catch(X=>X)))}function nn(L,$){const X=document.createElement("script");X.src=`${Ri}?l=${L}&id=${$}`,X.async=!0,document.head.appendChild(X)}function W(L,$,X,ue,He,ze){return _.apply(this,arguments)}function _(){return(_=(0,fe.Z)(function*(L,$,X,ue,He,ze){const Nt=ue[He];try{if(Nt)yield $[Nt];else{const Sn=(yield ga(X)).find(Mn=>Mn.measurementId===He);Sn&&(yield $[Sn.appId])}}catch(vn){Pi.error(vn)}L("config",He,ze)})).apply(this,arguments)}function v(L,$,X,ue,He){return O.apply(this,arguments)}function O(){return(O=(0,fe.Z)(function*(L,$,X,ue,He){try{let ze=[];if(He&&He.send_to){let Nt=He.send_to;Array.isArray(Nt)||(Nt=[Nt]);const vn=yield ga(X);for(const Sn of Nt){const Mn=vn.find(rr=>rr.measurementId===Sn),Or=Mn&&$[Mn.appId];if(!Or){ze=[];break}ze.push(Or)}}0===ze.length&&(ze=Object.values($)),yield Promise.all(ze),L("event",ue,He||{})}catch(ze){Pi.error(ze)}})).apply(this,arguments)}function we(L){const $=window.document.getElementsByTagName("script");for(const X of Object.values($))if(X.src&&X.src.includes(Ri)&&X.src.includes(L))return X;return null}const Ge=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),pr=new class ln{constructor($={},X=1e3){this.throttleMetadata=$,this.intervalMillis=X}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,X){this.throttleMetadata[$]=X}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function nr(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function Ln(L){return jn.apply(this,arguments)}function jn(){return(jn=(0,fe.Z)(function*(L){var $;const{appId:X,apiKey:ue}=L,He={method:"GET",headers:nr(ue)},ze=St.replace("{app-id}",X),Nt=yield fetch(ze,He);if(200!==Nt.status&&304!==Nt.status){let vn="";try{const Sn=yield Nt.json();null!==($=Sn.error)&&void 0!==$&&$.message&&(vn=Sn.error.message)}catch{}throw Ge.create("config-fetch-failed",{httpStatus:Nt.status,responseMessage:vn})}return Nt.json()})).apply(this,arguments)}function Qt(L){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,fe.Z)(function*(L,$=pr,X){const{appId:ue,apiKey:He,measurementId:ze}=L.options;if(!ue)throw Ge.create("no-app-id");if(!He){if(ze)return{measurementId:ze,appId:ue};throw Ge.create("no-api-key")}const Nt=$.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new Hn;return setTimeout((0,fe.Z)(function*(){vn.abort()}),void 0!==X?X:6e4),mi({appId:ue,apiKey:He,measurementId:ze},Nt,vn,$)})).apply(this,arguments)}function mi(L,$,X){return gr.apply(this,arguments)}function gr(){return(gr=(0,fe.Z)(function*(L,{throttleEndTimeMillis:$,backoffCount:X},ue,He=pr){var ze;const{appId:Nt,measurementId:vn}=L;try{yield At(ue,$)}catch(Sn){if(vn)return Pi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${Sn?.message}]`),{appId:Nt,measurementId:vn};throw Sn}try{const Sn=yield Ln(L);return He.deleteThrottleMetadata(Nt),Sn}catch(Sn){const Mn=Sn;if(!ua(Mn)){if(He.deleteThrottleMetadata(Nt),vn)return Pi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vn} provided in the "measurementId" field in the local Firebase config. [${Mn?.message}]`),{appId:Nt,measurementId:vn};throw Sn}const Or=503===Number(null===(ze=Mn?.customData)||void 0===ze?void 0:ze.httpStatus)?(0,Te.$s)(X,He.intervalMillis,30):(0,Te.$s)(X,He.intervalMillis),rr={throttleEndTimeMillis:Date.now()+Or,backoffCount:X+1};return He.setThrottleMetadata(Nt,rr),Pi.debug(`Calling attemptFetch again in ${Or} millis`),mi(L,rr,ue,He)}})).apply(this,arguments)}function At(L,$){return new Promise((X,ue)=>{const He=Math.max($-Date.now(),0),ze=setTimeout(X,He);L.addEventListener(()=>{clearTimeout(ze),ue(Ge.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}function ua(L){if(!(L instanceof Te.ZR&&L.customData))return!1;const $=Number(L.customData.httpStatus);return 429===$||500===$||503===$||504===$}class Hn{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let Ki,On;function Ot(){return(Ot=(0,fe.Z)(function*(L,$,X,ue,He){if(He&&He.global)L("event",X,ue);else{const ze=yield $;L("event",X,Object.assign(Object.assign({},ue),{send_to:ze}))}})).apply(this,arguments)}function $n(L){On=L}function _i(L){Ki=L}function so(){return cs.apply(this,arguments)}function cs(){return(cs=(0,fe.Z)(function*(){if(!(0,Te.hl)())return Pi.warn(Ge.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(L){return Pi.warn(Ge.create("indexeddb-unavailable",{errorInfo:L?.toString()}).message),!1}return!0})).apply(this,arguments)}function tr(){return(tr=(0,fe.Z)(function*(L,$,X,ue,He,ze,Nt){var vn;const Sn=Qt(L);Sn.then(ns=>{X[ns.measurementId]=ns.appId,L.options.measurementId&&ns.measurementId!==L.options.measurementId&&Pi.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${ns.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ns=>Pi.error(ns)),$.push(Sn);const Mn=so().then(ns=>{if(ns)return ue.getId()}),[Or,rr]=yield Promise.all([Sn,Mn]);we(ze)||nn(ze,Or.measurementId),On&&(He("consent","default",On),$n(void 0)),He("js",new Date);const ri=null!==(vn=Nt?.config)&&void 0!==vn?vn:{};return ri.origin="firebase",ri.update=!0,null!=rr&&(ri[As]=rr),He("config",Or.measurementId,ri),Ki&&(He("set",Ki),_i(void 0)),Or.measurementId})).apply(this,arguments)}class et{constructor($){this.app=$}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},Gr=[];const oo={};let Ma,Vs,es="dataLayer",Vo=!1;function Ha(L,$,X){!function nl(){const L=[];if((0,Te.ru)()&&L.push("This is a browser extension environment."),(0,Te.zI)()||L.push("Cookies are not available."),L.length>0){const $=L.map((ue,He)=>`(${He+1}) ${ue}`).join(" "),X=Ge.create("invalid-analytics-context",{errorInfo:$});Pi.warn(X.message)}}();const ue=L.options.appId;if(!ue)throw Ge.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw Ge.create("no-api-key");Pi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lo[ue])throw Ge.create("already-exists",{id:ue});if(!Vo){!function mn(L){let $=[];Array.isArray(window[L])?$=window[L]:window[L]=$}(es);const{wrappedGtag:ze,gtagCore:Nt}=function re(L,$,X,ue,He){let ze=function(...Nt){window[ue].push(arguments)};return window[He]&&"function"==typeof window[He]&&(ze=window[He]),window[He]=function q(L,$,X,ue){function ze(){return(ze=(0,fe.Z)(function*(Nt,vn,Sn){try{"event"===Nt?yield v(L,$,X,vn,Sn):"config"===Nt?yield W(L,$,X,ue,vn,Sn):"consent"===Nt?L("consent","update",Sn):L("set",vn)}catch(Mn){Pi.error(Mn)}})).apply(this,arguments)}return function He(Nt,vn,Sn){return ze.apply(this,arguments)}}(ze,L,$,X),{gtagCore:ze,wrappedGtag:window[He]}}(Lo,Gr,oo,es,"gtag");Vs=ze,Ma=Nt,Vo=!0}return Lo[ue]=function ki(L,$,X,ue,He,ze,Nt){return tr.apply(this,arguments)}(L,Gr,oo,$,Ma,es,X),new et(L)}function Bo(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,fe.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch{return!1}})).apply(this,arguments)}const hu="@firebase/analytics";!function Fi(){(0,Pe.Xd)(new ce.wA(Ji,($,{options:X})=>Ha($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),X),"PUBLIC")),(0,Pe.Xd)(new ce.wA("analytics-internal",function L($){try{const X=$.getProvider(Ji).getImmediate();return{logEvent:(ue,He,ze)=>function Ul(L,$,X,ue){L=(0,Te.m9)(L),function br(L,$,X,ue,He){return Ot.apply(this,arguments)}(Vs,Lo[L.app.options.appId],$,X,ue).catch(He=>Pi.error(He))}(X,ue,He,ze)}}catch(X){throw Ge.create("interop-component-reg-failed",{reason:X})}},"PRIVATE")),(0,Pe.KN)(hu,"0.9.1"),(0,Pe.KN)(hu,"0.9.1","esm2017")}();var Ga=Z(4408),hs=Z(640);const Uo=new class Qo extends hs.v{}(class $l extends Ga.o{constructor($,X){super($,X),this.scheduler=$,this.work=X}schedule($,X=0){return X>0?super.schedule($,X):(this.delay=X,this.state=$,this.scheduler.flush(this),this)}execute($,X){return X>0||this.closed?super.execute($,X):this._execute($,X)}requestAsyncId($,X,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId($,X,ue):($.flush(this),0)}});var Wa=Z(4986),ts=Z(9751),C=Z(8505),T=Z(9468),E=Z(5363);const x=new d.GfV("7.5.0"),B="__angularfire_symbol__analyticsIsSupportedValue",Q="__angularfire_symbol__analyticsIsSupported",de="__angularfire_symbol__remoteConfigIsSupportedValue",_e="__angularfire_symbol__remoteConfigIsSupported",ot="__angularfire_symbol__messagingIsSupportedValue",$t="__angularfire_symbol__messagingIsSupported";function xa(L,$,X){if($){if(1===$.length)return $[0];const ze=$.filter(Nt=>Nt.app===X);if(1===ze.length)return ze[0]}return X.container.getProvider(L).getImmediate({optional:!0})}globalThis[Q]||(globalThis[Q]=Bo().then(L=>globalThis[B]=L).catch(()=>globalThis[B]=!1)),globalThis[$t]||(globalThis[$t]=Yt().then(L=>globalThis[ot]=L).catch(()=>globalThis[ot]=!1)),globalThis[_e]||(globalThis[_e]=to().then(L=>globalThis[de]=L).catch(()=>globalThis[de]=!1));const Ra=(L,$)=>{const X=$?[$]:(0,Y.C6)(),ue=[];return X.forEach(He=>{He.container.getProvider(L).instances.forEach(Nt=>{ue.includes(Nt)||ue.push(Nt)})}),ue};function wo(){}class ca{constructor($,X=Uo){this.zone=$,this.delegate=X}now(){return this.delegate.now()}schedule($,X,ue){const He=this.zone;return this.delegate.schedule(function(Nt){He.runGuarded(()=>{$.apply(this,[Nt])})},X,ue)}}class Za{constructor($){this.zone=$,this.task=null}call($,X){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wo,{},wo,wo)),X.pipe((0,C.b)({next:ue,complete:ue,error:ue})).subscribe($).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jl=(()=>{class L{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new ca(Zone.current)),this.insideAngular=X.run(()=>new ca(Zone.current,Wa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(X){return new(X||L)(d.LFG(d.R0b))},L.\u0275prov=d.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function Pa(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Wr(L){return Pa().ngZone.runOutsideAngular(()=>L())}function Fr(L){return Pa().ngZone.run(()=>L())}function yl(L){return Pa(),function fu(L){return function(X){return(X=X.lift(new Za(L.ngZone))).pipe((0,T.R)(L.outsideAngular),(0,E.Q)(L.insideAngular))}}(Pa())(L)}const Ku=(L,$)=>function(){const ue=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Fr(()=>L.apply(void 0,ue))},pu=(L,$)=>function(){let X;const ue=arguments;for(let ze=0;ze<arguments.length;ze++)"function"==typeof ue[ze]&&($&&(X||(X=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wo,{},wo,wo)))),ue[ze]=Ku(ue[ze],X));const He=Wr(()=>L.apply(this,ue));if(!$){if(He instanceof ts.y){const ze=Pa();return He.pipe((0,T.R)(ze.outsideAngular),(0,E.Q)(ze.insideAngular))}return Fr(()=>He)}return He instanceof ts.y?He.pipe(yl):He instanceof Promise?Fr(()=>new Promise((ze,Nt)=>He.then(vn=>Fr(()=>ze(vn)),vn=>Fr(()=>Nt(vn))))):"function"==typeof He&&X?function(){return setTimeout(()=>{X&&"scheduled"===X.state&&X.invoke()},10),He.apply(this,arguments)}:Fr(()=>He)}},5525:(pn,lt,Z)=>{Z.d(lt,{ET:()=>fy,hJ:()=>vv,oe:()=>Zm,JU:()=>K_,ad:()=>Nh,cf:()=>py,r7:()=>Ym});var Re,d=Z(5861),Y=Z(9681),fe=Z(4859),Pe=Z(1877),Te=Z(2090),ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={},Xe=Xe||{},le=ce||self;function ye(){}function tt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function _t(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),Lt=0;function zt(i,e,t){return i.call.apply(i.bind,arguments)}function Ht(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function on(i,e,t){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zt:Ht).apply(null,arguments)}function Ft(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ut(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,l,f){for(var y=Array(arguments.length-2),A=2;A<arguments.length;A++)y[A-2]=arguments[A];return e.prototype[l].apply(o,y)}}function gt(){this.s=this.s,this.o=this.o}gt.prototype.s=!1,gt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Je(i){Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++Lt)}(this)},gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function it(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Be(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(tt(o)){const l=i.length||0,f=o.length||0;i.length=l+f;for(let y=0;y<f;y++)i[l+y]=o[y]}else i.push(o)}}function ht(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{le.addEventListener("test",ye,e),le.removeEventListener("test",ye,e)}catch{}return i}();function Le(i){return/^[\s\xa0]*$/.test(i)}var ve=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Fe(i,e){return i<e?-1:i>e?1:0}function bt(){var i=le.navigator;return i&&(i=i.userAgent)?i:""}function yt(i){return-1!=bt().indexOf(i)}function Gt(i){return Gt[" "](i),i}Gt[" "]=ye;var ar,i,or=yt("Opera"),hn=yt("Trident")||yt("MSIE"),ir=yt("Edge"),Dn=ir||hn,Vn=yt("Gecko")&&!(-1!=bt().toLowerCase().indexOf("webkit")&&!yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),Sr=-1!=bt().toLowerCase().indexOf("webkit")&&!yt("Edge");function Ar(){var i=le.document;return i?i.documentMode:void 0}e:{var kr="",Fn=(i=bt(),Vn?/rv:([^\);]+)(\)|;)/.exec(i):ir?/Edge\/([\d\.]+)/.exec(i):hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Sr?/WebKit\/(\S+)/.exec(i):or?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Fn&&(kr=Fn?Fn[1]:""),hn){var yn=Ar();if(null!=yn&&yn>parseFloat(kr)){ar=String(yn);break e}}ar=kr}var Yn={};var di=le.document&&hn&&(Ar()||parseInt(ar,10))||void 0;function Wn(i,e){if(ht.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Vn){e:{try{Gt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ss[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Wn.X.h.call(this)}}ut(Wn,ht);var ss={2:"touch",3:"pen",4:"mouse"};Wn.prototype.h=function(){Wn.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var dr="closure_listenable_"+(1e6*Math.random()|0),oi=0;function Kr(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=l,this.key=++oi,this.ba=this.ea=!1}function Zn(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Qn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Es(i){const e={};for(const t in i)e[t]=i[t];return e}const hi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vr(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let f=0;f<hi.length;f++)t=hi[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Mt(i){this.src=i,this.g={},this.h=0}function Ut(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],l=Rt(o,e);(f=0<=l)&&Array.prototype.splice.call(o,l,1),f&&(Zn(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function qt(i,e,t,o){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ba&&f.listener==e&&f.capture==!!t&&f.ha==o)return l}return-1}Mt.prototype.add=function(i,e,t,o,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var y=qt(i,e,o,l);return-1<y?(e=i[y],t||(e.ea=!1)):((e=new Kr(e,this.src,f,!!o,l)).ea=t,i.push(e)),e};var Tr="closure_lm_"+(1e6*Math.random()|0),Br={};function Xn(i,e,t,o,l){if(o&&o.once)return Jr(i,e,t,o,l);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Xn(i,e[f],t,o,l);return null}return t=Ye(t),i&&i[dr]?i.N(e,t,_t(o)?!!o.capture:!!o,l):Rr(i,e,t,!1,o,l)}function Rr(i,e,t,o,l,f){if(!e)throw Error("Invalid event type");var y=_t(l)?!!l.capture:!!l,A=Ui(i);if(A||(i[Tr]=A=new Mt(i)),(t=A.add(e,t,o,y,f)).proxy)return t;if(o=function Rn(){const e=Ai;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Ae||(l=y),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(En(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Jr(i,e,t,o,l){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Jr(i,e[f],t,o,l);return null}return t=Ye(t),i&&i[dr]?i.O(e,t,_t(o)?!!o.capture:!!o,l):Rr(i,e,t,!0,o,l)}function Kt(i,e,t,o,l){if(Array.isArray(e))for(var f=0;f<e.length;f++)Kt(i,e[f],t,o,l);else o=_t(o)?!!o.capture:!!o,t=Ye(t),i&&i[dr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=qt(f=i.g[e],t,o,l))&&(Zn(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=Ui(i))&&(e=i.g[e.toString()],i=-1,e&&(i=qt(e,t,o,l)),(t=-1<i?e[i]:null)&&ai(t))}function ai(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[dr])Ut(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(En(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Ui(e))?(Ut(t,i),0==t.h&&(t.src=null,e[Tr]=null)):Zn(i)}}}function En(i){return i in Br?Br[i]:Br[i]="on"+i}function Ai(i,e){if(i.ba)i=!0;else{e=new Wn(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&ai(i),i=t.call(o,e)}return i}function Ui(i){return(i=i[Tr])instanceof Mt?i:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(i){return"function"==typeof i?i:(i[jt]||(i[jt]=function(e){return i.handleEvent(e)}),i[jt])}function Pt(){gt.call(this),this.i=new Mt(this),this.P=this,this.I=null}function an(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ht(e,i);else if(e instanceof ht)e.target=e.target||i;else{var l=e;Vr(e=new ht(o,i),l)}if(l=!0,t)for(var f=t.length-1;0<=f;f--){var y=e.g=t[f];l=Cn(y,o,!0,e)&&l}if(l=Cn(y=e.g=i,o,!0,e)&&l,l=Cn(y,o,!1,e)&&l,t)for(f=0;f<t.length;f++)l=Cn(y=e.g=t[f],o,!1,e)&&l}function Cn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,f=0;f<e.length;++f){var y=e[f];if(y&&!y.ba&&y.capture==t){var A=y.listener,H=y.ha||y.src;y.ea&&Ut(i.i,y),l=!1!==A.call(H,o)&&l}}return l&&!o.defaultPrevented}ut(Pt,gt),Pt.prototype[dr]=!0,Pt.prototype.removeEventListener=function(i,e,t,o){Kt(this,i,e,t,o)},Pt.prototype.M=function(){if(Pt.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Zn(t[o]);delete i.g[e],i.h--}}this.I=null},Pt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Pt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Bn=le.JSON.stringify;function ge(){var i=hr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var bn,Me=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new rt,i=>i.reset());class rt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qe(i){le.setTimeout(()=>{throw i},0)}function Vt(i,e){bn||function kn(){var i=le.Promise.resolve(void 0);bn=function(){i.then(Ue)}}(),Pr||(bn(),Pr=!0),hr.add(i,e)}var Pr=!1,hr=new class pe{constructor(){this.h=this.g=null}add(e,t){const o=Me.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Ue(){for(var i;i=ge();){try{i.h.call(i.g)}catch(t){qe(t)}var e=Me;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Pr=!1}function me(i,e){Pt.call(this),this.h=i||1,this.g=e||le,this.j=on(this.lb,this),this.l=Date.now()}function oe(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function je(i,e,t){if("function"==typeof i)t&&(i=on(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=on(i.handleEvent,i)}return 2147483647<Number(e)?-1:le.setTimeout(i,e||0)}function Oe(i){i.g=je(()=>{i.g=null,i.i&&(i.i=!1,Oe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut(me,Pt),(Re=me.prototype).ca=!1,Re.R=null,Re.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),an(this,"tick"),this.ca&&(oe(this),this.start()))}},Re.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Re.M=function(){me.X.M.call(this),oe(this),delete this.g};class st extends gt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Oe(this)}M(){super.M(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(i){gt.call(this),this.h=i,this.g={}}ut(wt,gt);var en=[];function mt(i,e,t,o){Array.isArray(t)||(t&&(en[0]=t.toString()),t=en);for(var l=0;l<t.length;l++){var f=Xn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Zt(i){Qn(i.g,function(e,t){this.g.hasOwnProperty(t)&&ai(e)},i),i.g={}}function zn(){this.g=!0}function yr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var y=1;y<l.length;y++)l[y]=""}}}return Bn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}wt.prototype.M=function(){wt.X.M.call(this),Zt(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zn.prototype.Aa=function(){this.g=!1},zn.prototype.info=function(){};var ti={},Ni=null;function Pn(){return Ni=Ni||new Pt}function bi(i){ht.call(this,ti.Pa,i)}function Hi(i){const e=Pn();an(e,new bi(e))}function Ns(i,e){ht.call(this,ti.STAT_EVENT,i),this.stat=e}function ii(i){const e=Pn();an(e,new Ns(e,i))}function li(i,e){ht.call(this,ti.Qa,i),this.size=e}function Mi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){i()},e)}ti.Pa="serverreachability",ut(bi,ht),ti.STAT_EVENT="statevent",ut(Ns,ht),ti.Qa="timingevent",ut(li,ht);var Gi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},wi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function $e(){}function Ve(){}$e.prototype.h=null;var Un,ct={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function It(){ht.call(this,"d")}function tn(){ht.call(this,"c")}function er(){}function fr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new wt(this),this.O=pi,this.T=new me(i=Dn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}ut(It,ht),ut(tn,ht),ut(er,$e),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Un=new er;var pi=45e3,Qi={},os={};function gs(i,e,t){i.K=1,i.v=fo(ms(e)),i.s=t,i.P=!0,na(i,null)}function na(i,e){i.F=Date.now(),Xs(i),i.A=ms(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ia(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Di,i.g=Yo(i.l,t?e:null,!i.s),0<i.N&&(i.L=new st(on(i.La,i,i.g),i.N)),mt(i.S,i.g,"readystatechange",i.ib),e=i.H?Es(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Hi(),function ei(i,e,t,o,l,f){i.info(function(){if(i.g)if(f)for(var y="",A=f.split("&"),H=0;H<A.length;H++){var K=A[H].split("=");if(1<K.length){var ie=K[0];K=K[1];var De=ie.split("_");y=2<=De.length&&"type"==De[1]?y+(ie+"=")+K+"&":y+(ie+"=redacted&")}}else y=null;else y=f;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Oi(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function xo(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=Cs(i,t),l==os){4==e&&(i.o=4,ii(14),o=!1),yr(i.j,i.m,null,"[Incomplete Response]");break}if(l==Qi){i.o=4,ii(15),yr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}yr(i.j,i.m,l,null),Da(i,l)}Oi(i)&&l!=os&&l!=Qi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ii(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ko(e),e.K=!0,ii(11))):(yr(i.j,i.m,t,"[Invalid Chunked Response]"),Wi(i),ho(i))}function Cs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?os:(t=Number(e.substring(t,o)),isNaN(t)?Qi:(o+=1)+t>e.length?os:(e=e.substr(o,t),i.C=o+t,e))}function Xs(i){i.V=Date.now()+i.O,Rs(i,i.O)}function Rs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Mi(on(i.gb,i),e)}function co(i){i.B&&(le.clearTimeout(i.B),i.B=null)}function ho(i){0==i.l.G||i.I||ja(i.l,i)}function Wi(i){co(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,oe(i.T),Zt(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Da(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Wo(t.h,i)))if(!i.J&&Wo(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Ls(t),ee(t)}Ss(t),ii(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mi(on(t.cb,t),6e3));if(1>=us(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else To(t,11)}else if((i.J||t.g==i)&&Ls(t),!Le(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let K=l[e];if(t.T=K[0],K=K[1],2==t.G)if("c"==K[0]){t.I=K[1],t.ka=K[2];const ie=K[3];null!=ie&&(t.ma=ie,t.j.info("VER="+t.ma));const De=K[4];null!=De&&(t.Ca=De,t.j.info("SVER="+t.Ca));const Qe=K[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(t.J=o=1.5*Qe,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Tt=i.g;if(Tt){const kt=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var f=o.h;f.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Sa(f,f.h),f.h=null))}if(o.D){const gn=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;gn&&(o.za=gn,Ur(o.F,o.D,gn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var y=i;if((o=t).sa=la(o,o.H?o.ka:null,o.V),y.J){ur(o.h,y);var A=y,H=o.J;H&&A.setTimeout(H),A.B&&(co(A),Xs(A)),o.g=y}else qi(o);0<t.i.length&&Wt(t)}else"stop"!=K[0]&&"close"!=K[0]||To(t,7);else 3==t.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?To(t,7):k(t):"noop"!=K[0]&&t.l&&t.l.wa(K),t.A=0)}Hi()}catch{}}function $s(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(tt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ca(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(tt(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Ea(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(tt(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,f=0;f<l;f++)e.call(void 0,o[f],t&&t[f],i)}(Re=fr.prototype).setTimeout=function(i){this.O=i},Re.ib=function(i){i=i.target;const e=this.L;e&&3==ft(i)?e.l():this.La(i)},Re.La=function(i){try{if(i==this.g)e:{const ie=ft(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ie)&&(3!=ie||Dn||this.g&&(this.h.h||this.g.fa()||vr(this.g)))){this.I||4!=ie||7==e||Hi(),co(this);var t=this.g.aa();this.Y=t;t:if(Oi(this)){var o=vr(this.g);i="";var l=o.length,f=4==ft(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wi(this),ho(this);var y="";break t}this.h.i=new le.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==t,function fi(i,e,t,o,l,f,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+f+" "+y})}(this.j,this.u,this.A,this.m,this.U,ie,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(A)){var K=A;break t}}K=null}if(!(t=K)){this.i=!1,this.o=3,ii(12),Wi(this),ho(this);break e}yr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Da(this,t)}this.P?(xo(this,ie,y),Dn&&this.i&&3==ie&&(mt(this.S,this.T,"tick",this.hb),this.T.start())):(yr(this.j,this.m,y,null),Da(this,y)),4==ie&&Wi(this),this.i&&!this.I&&(4==ie?ja(this.l,this):(this.i=!1,Xs(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),Wi(this),ho(this)}}}catch{}},Re.hb=function(){if(this.g){var i=ft(this.g),e=this.g.fa();this.C<e.length&&(co(this),xo(this,i,e),this.i&&4!=i&&Xs(this))}},Re.cancel=function(){this.I=!0,Wi(this)},Re.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function $i(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hi(),ii(17)),Wi(this),this.o=2,ho(this)):Rs(this,this.V-i)};var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof eo){this.h=void 0!==e?e:i.h,to(this,i.j),this.s=i.s,this.g=i.g,_s(this,i.m),this.l=i.l,e=i.i;var t=new Ho;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ba(this,t),this.o=i.o}else i&&(t=String(i).match(Ps))?(this.h=!!e,to(this,t[1]||"",!0),this.s=js(t[2]||""),this.g=js(t[3]||"",!0),_s(this,t[4]),this.l=js(t[5]||"",!0),Ba(this,t[6]||"",!0),this.o=js(t[7]||"")):(this.h=!!e,this.i=new Ho(null,this.h))}function ms(i){return new eo(i)}function to(i,e,t){i.j=t?js(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function _s(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ba(i,e,t){e instanceof Ho?(i.i=e,function go(i,e){e&&!i.j&&(xi(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Ta(this,o),Ia(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=ks(e,Ro)),i.i=new Ho(e,i.h))}function Ur(i,e,t){i.i.set(e,t)}function fo(i){return Ur(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function js(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ks(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,as),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function as(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}eo.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ks(e,Co,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ks(e,Co,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(ks(t,"/"==t.charAt(0)?Hs:ra,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ks(t,Gs)),i.join("")};var Co=/[#\/\?@]/g,ra=/[#\?:]/g,Hs=/[#\?]/g,Ro=/[#\?@]/g,Gs=/#/g;function Ho(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function jo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var f=i[t].substring(0,o);l=i[t].substring(o+1)}else f=i[t];e(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ta(i,e){xi(i),e=po(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Go(i,e){return xi(i),e=po(i,e),i.g.has(e)}function Ia(i,e,t){Ta(i,e),0<t.length&&(i.i=null,i.g.set(po(i,e),it(t)),i.h+=t.length)}function po(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ls(i){this.l=i||no,i=le.PerformanceNavigationTiming?0<(i=le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(le.g&&le.g.Ga&&le.g.Ga()&&le.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Re=Ho.prototype).add=function(i,e){xi(this),this.i=null,i=po(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Re.forEach=function(i,e){xi(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},Re.oa=function(){xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let f=0;f<l.length;f++)t.push(e[o])}return t},Re.W=function(i){xi(this);let e=[];if("string"==typeof i)Go(this,i)&&(e=e.concat(this.g.get(po(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Re.set=function(i,e){return xi(this),this.i=null,Go(this,i=po(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Re.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const f=encodeURIComponent(String(o)),y=this.W(o);for(o=0;o<y.length;o++){var l=f;""!==y[o]&&(l+="="+encodeURIComponent(String(y[o]))),i.push(l)}}return this.i=i.join("&")};var no=10;function Po(i){return!!i.h||!!i.g&&i.g.size>=i.j}function us(i){return i.h?1:i.g?i.g.size:0}function Wo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Sa(i,e){i.g?i.g.add(e):i.h=e}function ur(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function zo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return it(i.i)}function ia(){}function mo(){this.g=new ia}function Ei(i,e,t){const o=t||"";try{$s(i,function(l,f){let y=l;_t(l)&&(y=Bn(l)),e.push(o+f+"="+encodeURIComponent(y))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function ui(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function Ms(i){this.l=i.ac||null,this.j=i.jb||!1}function Yr(i,e){Pt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ls.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ia.prototype.stringify=function(i){return le.JSON.stringify(i,void 0)},ia.prototype.parse=function(i){return le.JSON.parse(i,void 0)},ut(Ms,$e),Ms.prototype.g=function(){return new Yr(this.l,this.j)},Ms.prototype.i=function(i){return function(){return i}}({}),ut(Yr,Pt);var sa=0;function Fs(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ro(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ts(i)}function Ts(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Re=Yr.prototype).open=function(i,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ts(this)},Re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||le).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ro(this)),this.readyState=sa},Re.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Re.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ro(this):Ts(this),3==this.readyState&&Fs(this)}},Re.Va=function(i){this.g&&(this.response=this.responseText=i,ro(this))},Re.Ua=function(i){this.g&&(this.response=i,ro(this))},Re.ga=function(){this.g&&ro(this)},Re.setRequestHeader=function(i,e){this.v.append(i,e)},Re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ci=le.JSON.parse;function $r(i){Pt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nn,this.K=this.L=!1}ut($r,Pt);var Nn="",Ua=/^https?$/i,ko=["POST","PUT"];function _o(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,oa(i),Ws(i)}function oa(i){i.D||(i.D=!0,an(i,"complete"),an(i,"error"))}function yo(i){if(i.h&&typeof Xe<"u"&&(!i.C[1]||4!=ft(i)||2!=i.aa()))if(i.v&&4==ft(i))je(i.Ha,0,i);else if(an(i,"readystatechange"),4==ft(i)){i.h=!1;try{const A=i.aa();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var l=String(i.H).match(Ps)[1]||null;if(!l&&le.self&&le.self.location){var f=le.self.location.protocol;l=f.substr(0,f.length-1)}o=!Ua.test(l?l.toLowerCase():"")}t=o}if(t)an(i,"complete"),an(i,"success");else{i.m=6;try{var y=2<ft(i)?i.g.statusText:""}catch{y=""}i.j=y+" ["+i.aa()+"]",oa(i)}}finally{Ws(i)}}}function Ws(i,e){if(i.g){Aa(i);const t=i.g,o=i.C[0]?ye:null;i.g=null,i.C=null,e||an(i,"ready");try{t.onreadystatechange=o}catch{}}}function Aa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(le.clearTimeout(i.A),i.A=null)}function ft(i){return i.g?i.g.readyState:0}function vr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Nn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function qo(i){let e="";return Qn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Is(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=qo(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ur(i,e,t))}function U(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function V(i){this.Ca=0,this.i=[],this.j=new zn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=U("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=U("baseRetryDelayMs",5e3,i),this.bb=U("retryDelaySeedMs",1e4,i),this.$a=U("forwardChannelMaxRetries",2,i),this.ta=U("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ls(i&&i.concurrentRequestLimit),this.Fa=new mo,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function k(i){if(Ze(i),3==i.G){var e=i.U++,t=ms(i.F);Ur(t,"SID",i.I),Ur(t,"RID",e),Ur(t,"TYPE","terminate"),io(i,t),(e=new fr(i,i.j,e,void 0)).K=2,e.v=fo(ms(t)),t=!1,le.navigator&&le.navigator.sendBeacon&&(t=le.navigator.sendBeacon(e.v.toString(),"")),!t&&le.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yo(e.l,null),e.g.da(e.v)),e.F=Date.now(),Xs(e)}aa(i)}function ee(i){i.g&&(Ko(i),i.g.cancel(),i.g=null)}function Ze(i){ee(i),i.u&&(le.clearTimeout(i.u),i.u=null),Ls(i),i.h.cancel(),i.m&&("number"==typeof i.m&&le.clearTimeout(i.m),i.m=null)}function Wt(i){Po(i.h)||i.m||(i.m=!0,Vt(i.Ja,i),i.C=0)}function zs(i,e){var t;t=e?e.m:i.U++;const o=ms(i.F);Ur(o,"SID",i.I),Ur(o,"RID",t),Ur(o,"AID",i.T),io(i,o),i.o&&i.s&&Is(o,i.o,i.s),t=new fr(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=qs(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Sa(i.h,t),gs(t,o,e)}function io(i,e){i.ia&&Qn(i.ia,function(t,o){Ur(e,o,t)}),i.l&&$s({},function(t,o){Ur(e,o,t)})}function qs(i,e,t){t=Math.min(i.i.length,t);var o=i.l?on(i.l.Ra,i.l,i):null;e:{var l=i.i;let f=-1;for(;;){const y=["count="+t];-1==f?0<t?(f=l[0].h,y.push("ofs="+f)):f=0:y.push("ofs="+f);let A=!0;for(let H=0;H<t;H++){let K=l[H].h;const ie=l[H].g;if(K-=f,0>K)f=Math.max(0,l[H].h-100),A=!1;else try{Ei(ie,y,"req"+K+"_")}catch{o&&o(ie)}}if(A){o=y.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function qi(i){i.g||i.u||(i.Z=1,Vt(i.Ia,i),i.A=0)}function Ss(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Mi(on(i.Ia,i),Na(i,i.A)),i.A++,0))}function Ko(i){null!=i.B&&(le.clearTimeout(i.B),i.B=null)}function vo(i){i.g=new fr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ms(i.sa);Ur(e,"RID","rpc"),Ur(e,"SID",i.I),Ur(e,"CI",i.L?"0":"1"),Ur(e,"AID",i.T),Ur(e,"TYPE","xmlhttp"),io(i,e),i.o&&i.s&&Is(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=fo(ms(e)),t.s=null,t.P=!0,na(t,i)}function Ls(i){null!=i.v&&(le.clearTimeout(i.v),i.v=null)}function ja(i,e){var t=null;if(i.g==e){Ls(i),Ko(i),i.g=null;var o=2}else{if(!Wo(i.h,e))return;t=e.D,ur(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;an(o=Pn(),new li(o,t)),Wt(i)}else qi(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==o&&function Xr(i,e){return!(us(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Mi(on(i.Ja,i,e),Na(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ss(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:To(i,5);break;case 4:To(i,10);break;case 3:To(i,6);break;default:To(i,2)}}function Na(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function To(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=on(i.kb,i);t||(t=new eo("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||to(t,"https"),fo(t)),function ha(i,e){const t=new zn;if(le.Image){const o=new Image;o.onload=Ft(ui,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ft(ui,t,o,"TestLoadImage: error",!1,e),o.onabort=Ft(ui,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ft(ui,t,o,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else ii(2);i.G=0,i.l&&i.l.va(e),aa(i),Ze(i)}function aa(i){if(i.G=0,i.la=[],i.l){const e=zo(i.h);(0!=e.length||0!=i.i.length)&&(Be(i.la,e),Be(i.la,i.i),i.h.i.length=0,it(i.i),i.i.length=0),i.l.ua()}}function la(i,e,t){var o=t instanceof eo?ms(t):new eo(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),_s(o,o.m);else{var l=le.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var f=new eo(null,void 0);o&&to(f,o),e&&(f.g=e),l&&_s(f,l),t&&(f.l=t),o=f}return e=i.za,(t=i.D)&&e&&Ur(o,t,e),Ur(o,"VER",i.ma),io(i,o),o}function Yo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $r(t&&i.Da&&!i.ra?new Ms({jb:!0}):i.ra)).Ka(i.H),e}function R(){}function z(){if(hn&&!(10<=Number(di)))throw Error("Environmental error: no available transport.")}function F(i,e){Pt.call(this),this.g=new V(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Le(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Le(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new nt(this)}function te(i){It.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function be(){tn.call(this),this.status=1}function nt(i){this.g=i}(Re=$r.prototype).Ka=function(i){this.L=i},Re.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Un.g(),this.C=function Ne(i){return i.h||(i.h=i.i())}(this.u?this.u:Un),this.g.onreadystatechange=on(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void _o(this,f)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())t.set(f,o.get(f))}o=Array.from(t.keys()).find(f=>"content-type"==f.toLowerCase()),l=le.FormData&&i instanceof le.FormData,!(0<=Rt(ko,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,y]of t)this.g.setRequestHeader(f,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Aa(this),0<this.B&&((this.K=function $a(i){return hn&&function xr(){return function cn(i){var e=Yn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ve(String(ar)).split("."),t=ve("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var l=e[y]||"",f=t[y]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=Fe(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Fe(0==l[2].length,0==f[2].length)||Fe(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.qa,this)):this.A=je(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){_o(this,f)}},Re.qa=function(){typeof Xe<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},Re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,an(this,"complete"),an(this,"abort"),Ws(this))},Re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ws(this,!0)),$r.X.M.call(this)},Re.Ha=function(){this.s||(this.F||this.v||this.l?yo(this):this.fb())},Re.fb=function(){yo(this)},Re.aa=function(){try{return 2<ft(this)?this.g.status:-1}catch{return-1}},Re.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ci(e)}},Re.Ea=function(){return this.m},Re.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Re=V.prototype).ma=8,Re.G=1,Re.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new fr(this,this.j,i,void 0);let f=this.s;if(this.S&&(f?(f=Es(f),Vr(f,this.S)):f=this.S),null!==this.o||this.N||(l.H=f,f=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qs(this,l,e),Ur(t=ms(this.F),"RID",i),Ur(t,"CVER",22),this.D&&Ur(t,"X-HTTP-Session-Id",this.D),io(this,t),f&&(this.N?e="headers="+encodeURIComponent(String(qo(f)))+"&"+e:this.o&&Is(t,this.o,f)),Sa(this.h,l),this.Ya&&Ur(t,"TYPE","init"),this.O?(Ur(t,"$req",e),Ur(t,"SID","null"),l.Z=!0,gs(l,t,null)):gs(l,t,e),this.G=2}}else 3==this.G&&(i?zs(this,i):0==this.i.length||Po(this.h)||zs(this))},Re.Ia=function(){if(this.u=null,vo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Mi(on(this.eb,this),i)}},Re.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ii(10),ee(this),vo(this))},Re.cb=function(){null!=this.v&&(this.v=null,ee(this),Ss(this),ii(19))},Re.kb=function(i){i?(this.j.info("Successfully pinged google.com"),ii(2)):(this.j.info("Failed to ping google.com"),ii(1))},(Re=R.prototype).xa=function(){},Re.wa=function(){},Re.va=function(){},Re.ua=function(){},Re.Ra=function(){},z.prototype.g=function(i,e){return new F(i,e)},ut(F,Pt),F.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;ii(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=la(i,null,i.V),Wt(i)},F.prototype.close=function(){k(this.g)},F.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Bn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&Wt(e)},F.prototype.M=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,F.X.M.call(this)},ut(te,It),ut(be,tn),ut(nt,R),nt.prototype.xa=function(){an(this.g,"a")},nt.prototype.wa=function(i){an(this.g,new te(i))},nt.prototype.va=function(i){an(this.g,new be)},nt.prototype.ua=function(){an(this.g,"b")},z.prototype.createWebChannel=z.prototype.g,F.prototype.send=F.prototype.u,F.prototype.open=F.prototype.m,F.prototype.close=F.prototype.close,Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,wi.COMPLETE="complete",Ve.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,$r.prototype.listenOnce=$r.prototype.O,$r.prototype.getLastError=$r.prototype.Oa,$r.prototype.getLastErrorCode=$r.prototype.Ea,$r.prototype.getStatus=$r.prototype.aa,$r.prototype.getResponseJson=$r.prototype.Sa,$r.prototype.getResponseText=$r.prototype.fa,$r.prototype.send=$r.prototype.da,$r.prototype.setWithCredentials=$r.prototype.Ka;var Dt=Ce.createWebChannelTransport=function(){return new z},Yt=Ce.getStatEventTarget=function(){return Pn()},sr=Ce.ErrorCode=Gi,wr=Ce.EventType=wi,Nr=Ce.Event=ti,Dr=Ce.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},jr=Ce.FetchXmlHttpFactory=Ms,Mr=Ce.WebChannel=Ve,qn=Ce.XhrIo=$r;const fa="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let Ji="9.16.0";const As=new Pe.Yd("@firebase/firestore");function pa(){return As.logLevel}function St(i,...e){if(As.logLevel<=Pe.in.DEBUG){const t=e.map(ga);As.debug(`Firestore (${Ji}): ${i}`,...t)}}function Ri(i,...e){if(As.logLevel<=Pe.in.ERROR){const t=e.map(ga);As.error(`Firestore (${Ji}): ${i}`,...t)}}function Pi(i,...e){if(As.logLevel<=Pe.in.WARN){const t=e.map(ga);As.warn(`Firestore (${Ji}): ${i}`,...t)}}function ga(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${Ji}) INTERNAL ASSERTION FAILED: `+i;throw Ri(e),new Error(e)}function mn(i,e){i||nn()}function _(i,e){return i}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Te.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class q{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class re{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gi.UNAUTHENTICATED))}shutdown(){}}class Ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ge{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const f=K=>this.i!==l?(l=this.i,t(K)):Promise.resolve();let y=new q;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new q,e.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const K=y;e.enqueueRetryable((0,d.Z)(function*(){yield K.promise,yield f(o.currentUser)}))},H=K=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(K=>H(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?H(K):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new q)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(mn("string"==typeof o.accessToken),new re(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(null===e||"string"==typeof e),new gi(e)}}class vt{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l,this.type="FirstParty",this.user=gi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(mn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Jt{constructor(e,t,o,l){this.h=e,this.l=t,this.m=o,this.g=l}getToken(){return Promise.resolve(new vt(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ln{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=f=>{null!=f.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.A;return this.A=f.token,St("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const l=f=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.T.onInit(f=>l(f)),setTimeout(()=>{if(!this.appCheck){const f=this.T.getImmediate({optional:!0});f?l(f):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mn("string"==typeof t.token),this.A=t.token,new ln(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ln(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class jn{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Ln(40);for(let f=0;f<l.length;++f)o.length<20&&l[f]<t&&(o+=e.charAt(l[f]%e.length))}return o}}function Qt(i,e){return i<e?-1:i>e?1:0}function Hr(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new gr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new gr(0,0))}static max(){return new At(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ua{constructor(e,t,o){void 0===t?t=0:t>e.length&&nn(),void 0===o?o=e.length-t:o>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ua.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const f=e.get(l),y=t.get(l);if(f<y)return-1;if(f>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Hn extends ua{construct(e,t,o){return new Hn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new O(v.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Hn(t)}static emptyPath(){return new Hn([])}}const Ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends ua{construct(e,t,o){return new br(e,t,o)}static isValidIdentifier(e){return Ki.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new br(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const f=()=>{if(0===o.length)throw new O(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;l<e.length;){const A=e[l];if("\\"===A){if(l+1===e.length)throw new O(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[l+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new O(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,l+=2}else"`"===A?(y=!y,l++):"."!==A||y?(o+=A,l++):(f(),l++)}if(f(),y)throw new O(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(t)}static emptyPath(){return new br([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(Hn.fromString(e))}static fromName(e){return new Ot(Hn.fromString(e).popFirst(5))}static empty(){return new Ot(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new Hn(e.slice()))}}function On(i){return new $n(i.readTime,i.key,-1)}class $n{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new $n(At.min(),Ot.empty(),-1)}static max(){return new $n(At.max(),Ot.empty(),-1)}}function _i(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ot.comparator(i.documentKey,e.documentKey),0!==t?t:Qt(i.largestBatchId,e.largestBatchId))}const so="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ki(i){return tr.apply(this,arguments)}function tr(){return tr=(0,d.Z)(function*(i){if(i.code!==v.FAILED_PRECONDITION||i.message!==so)throw i;St("LocalStore","Unexpectedly lost primary lease")}),tr.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((o,l)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,l)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,o)=>{t(e)})}static reject(e){return new et((t,o)=>{o(e)})}static waitFor(e){return new et((t,o)=>{let l=0,f=0,y=!1;e.forEach(A=>{++l,A.next(()=>{++f,y&&f===l&&t()},H=>o(H))}),y=!0,f===l&&t()})}static or(e){let t=et.resolve(!1);for(const o of e)t=t.next(l=>l?et.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,f)=>{o.push(t.call(this,l,f))}),this.waitFor(o)}static mapArray(e,t){return new et((o,l)=>{const f=e.length,y=new Array(f);let A=0;for(let H=0;H<f;H++){const K=H;t(e[K]).next(ie=>{y[K]=ie,++A,A===f&&o(y)},ie=>l(ie))}})}static doWhile(e,t){return new et((o,l)=>{const f=()=>{!0===e()?t().next(()=>{f()},l):o()};f()})}}function Os(i){return"IndexedDbTransactionError"===i.name}let Bs=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ut(l),this.ct=l=>o.writeSequenceNumber(l))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class gl{constructor(e,t,o,l,f,y,A,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=A,this.useFetchStreams=H}}class Bo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}function Bl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ka(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ti(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ml(i){return null==i}function Oa(i){return 0===i&&1/i==-1/0}class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ds(t)}static fromUint8Array(e){const t=function(o){let l="";for(let f=0;f<o.length;++f)l+=String.fromCharCode(o[f]);return l}(e);return new ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const hu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ya(i){if(mn(!!i),"string"==typeof i){let e=0;const t=hu.exec(i);if(mn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Fi(i.seconds),nanos:Fi(i.nanos)}}function Fi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ga(i){return"string"==typeof i?ds.fromBase64String(i):ds.fromUint8Array(i)}function $l(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hs(i){const e=i.mapValue.fields.__previous_value__;return $l(e)?hs(e):e}function Qo(i){const e=Ya(i.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}const Uo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Wa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$l(i)?4:ni(i)?9007199254740991:10:nn()}function ts(i,e){if(i===e)return!0;const t=Wa(i);if(t!==Wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Qo(i).isEqual(Qo(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const f=Ya(o.timestampValue),y=Ya(l.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Ga(i.bytesValue).isEqual(Ga(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Fi(o.geoPointValue.latitude)===Fi(l.geoPointValue.latitude)&&Fi(o.geoPointValue.longitude)===Fi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Fi(o.integerValue)===Fi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const f=Fi(o.doubleValue),y=Fi(l.doubleValue);return f===y?Oa(f)===Oa(y):isNaN(f)&&isNaN(y)}return!1}(i,e);case 9:return Hr(i.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:return function(o,l){const f=o.mapValue.fields||{},y=l.mapValue.fields||{};if(Bl(f)!==Bl(y))return!1;for(const A in f)if(f.hasOwnProperty(A)&&(void 0===y[A]||!ts(f[A],y[A])))return!1;return!0}(i,e);default:return nn()}var l}function C(i,e){return void 0!==(i.values||[]).find(t=>ts(t,e))}function T(i,e){if(i===e)return 0;const t=Wa(i),o=Wa(e);if(t!==o)return Qt(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,e.booleanValue);case 2:return function(l,f){const y=Fi(l.integerValue||l.doubleValue),A=Fi(f.integerValue||f.doubleValue);return y<A?-1:y>A?1:y===A?0:isNaN(y)?isNaN(A)?0:-1:1}(i,e);case 3:return E(i.timestampValue,e.timestampValue);case 4:return E(Qo(i),Qo(e));case 5:return Qt(i.stringValue,e.stringValue);case 6:return function(l,f){const y=Ga(l),A=Ga(f);return y.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const y=l.split("/"),A=f.split("/");for(let H=0;H<y.length&&H<A.length;H++){const K=Qt(y[H],A[H]);if(0!==K)return K}return Qt(y.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const y=Qt(Fi(l.latitude),Fi(f.latitude));return 0!==y?y:Qt(Fi(l.longitude),Fi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const y=l.values||[],A=f.values||[];for(let H=0;H<y.length&&H<A.length;++H){const K=T(y[H],A[H]);if(K)return K}return Qt(y.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===Uo_mapValue&&f===Uo_mapValue)return 0;if(l===Uo_mapValue)return 1;if(f===Uo_mapValue)return-1;const y=l.fields||{},A=Object.keys(y),H=f.fields||{},K=Object.keys(H);A.sort(),K.sort();for(let ie=0;ie<A.length&&ie<K.length;++ie){const De=Qt(A[ie],K[ie]);if(0!==De)return De;const Qe=T(y[A[ie]],H[K[ie]]);if(0!==Qe)return Qe}return Qt(A.length,K.length)}(i.mapValue,e.mapValue);default:throw nn()}}function E(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qt(i,e);const t=Ya(i),o=Ya(e),l=Qt(t.seconds,o.seconds);return 0!==l?l:Qt(t.nanos,o.nanos)}function x(i){return B(i)}function B(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Ya(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ga(i.bytesValue).toBase64():"referenceValue"in i?Ot.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",f=!0;for(const y of o.values||[])f?f=!1:l+=",",l+=B(y);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let f="{",y=!0;for(const A of l)y?y=!1:f+=",",f+=`${A}:${B(o.fields[A])}`;return f+"}"}(i.mapValue):nn();var e}function de(i){return!!i&&"integerValue"in i}function _e(i){return!!i&&"arrayValue"in i}function ot(i){return!!i&&"nullValue"in i}function $t(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function In(i){return!!i&&"mapValue"in i}function dn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ka(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=dn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ni(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class ca{constructor(e,t){this.position=e,this.inclusive=t}}function Za(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const f=e[l],y=i.position[l];if(o=f.field.isKeyField()?Ot.comparator(Ot.fromName(y.referenceValue),t.key):T(y,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function jl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ts(i.position[t],e.position[t]))return!1;return!0}class Pa{}class Wr extends Pa{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new X(e,t,o):"array-contains"===t?new Nt(e,o):"in"===t?new vn(e,o):"not-in"===t?new Sn(e,o):"array-contains-any"===t?new Mn(e,o):new Wr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new ue(e,o):new He(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(T(t,this.value)):null!==t&&Wa(this.value)===Wa(t)&&this.matchesComparison(T(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fr extends Pa{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Fr(e,t)}matches(e){return Nl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nl(i){return"and"===i.op}function yl(i){return function fu(i){for(const e of i.filters)if(e instanceof Fr)return!1;return!0}(i)&&Nl(i)}function Ku(i){if(i instanceof Wr)return i.field.canonicalString()+i.op.toString()+x(i.value);if(yl(i))return i.filters.map(e=>Ku(e)).join(",");{const e=i.filters.map(t=>Ku(t)).join(",");return`${i.op}(${e})`}}function pu(i,e){return i instanceof Wr?(t=i,(o=e)instanceof Wr&&t.op===o.op&&t.field.isEqual(o.field)&&ts(t.value,o.value)):i instanceof Fr?function(t,o){return o instanceof Fr&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,f,y)=>l&&pu(f,o.filters[y]),!0)}(i,e):void nn();var t,o}function $(i){return i instanceof Wr?`${(e=i).field.canonicalString()} ${e.op} ${x(e.value)}`:i instanceof Fr?function(e){return e.op.toString()+" {"+e.getFilters().map($).join(" ,")+"}"}(i):"Filter";var e}class X extends Wr{constructor(e,t,o){super(e,t,o),this.key=Ot.fromName(o.referenceValue)}matches(e){const t=Ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class ue extends Wr{constructor(e,t){super(e,"in",t),this.keys=ze(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class He extends Wr{constructor(e,t){super(e,"not-in",t),this.keys=ze(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ze(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class Nt extends Wr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _e(t)&&C(t.arrayValue,this.value)}}class vn extends Wr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&C(this.value.arrayValue,t)}}class Sn extends Wr{constructor(e,t){super(e,"not-in",t)}matches(e){if(C(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!C(this.value.arrayValue,t)}}class Mn extends Wr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_e(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>C(this.value.arrayValue,o))}}class Or{constructor(e,t="asc"){this.field=e,this.dir=t}}function rr(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ri{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}}class ns{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&l&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,o,l,f){this.key=e,this.value=t,this.color=o??Yi.RED,this.left=l??Yi.EMPTY,this.right=f??Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,f){return new Yi(e??this.key,t??this.value,o??this.color,l??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const f=o(e,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===f?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Yi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Yi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new za(this.data.getIterator())}getIteratorFrom(e){return new za(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new si(this.comparator);return t.data=e,t}}class za{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ys{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new ys([])}unionWith(e){let t=new si(br.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!In(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dn(t)}setAll(e){let t=br.emptyPath(),o={},l=[];e.forEach((y,A)=>{if(!t.isImmediateParentOf(A)){const H=this.getFieldsMap(t);this.applyChanges(H,o,l),o={},l=[],t=A.popLast()}y?o[A.lastSegment()]=dn(y):l.push(A.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,l)}delete(e){const t=this.field(e.popLast());In(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];In(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Ka(t,(l,f)=>e[l]=f);for(const l of o)delete e[l]}clone(){return new vs(dn(this.value))}}function gu(i){const e=[];return Ka(i.fields,(t,o)=>{const l=new br([t]);if(In(o)){const f=gu(o.mapValue).fields;if(0===f.length)e.push(l);else for(const y of f)e.push(l.child(y))}else e.push(l)}),new ys(e)}class fs{constructor(e,t,o,l,f,y,A){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=f,this.data=y,this.documentState=A}static newInvalidDocument(e){return new fs(e,0,At.min(),At.min(),At.min(),vs.empty(),0)}static newFoundDocument(e,t,o,l){return new fs(e,1,t,At.min(),o,l,0)}static newNoDocument(e,t){return new fs(e,2,t,At.min(),At.min(),vs.empty(),0)}static newUnknownDocument(e,t){return new fs(e,3,t,At.min(),At.min(),vs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(At.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nc{constructor(e,t=null,o=[],l=[],f=null,y=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=f,this.startAt=y,this.endAt=A,this.ft=null}}function Mc(i,e=null,t=[],o=[],l=null,f=null,y=null){return new Nc(i,e,t,o,l,f,y)}function qa(i){const e=_(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Ku(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),ml(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>x(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>x(o)).join(",")),e.ft=t}return e.ft}function il(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!rr(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!pu(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jl(i.startAt,e.startAt)&&jl(i.endAt,e.endAt)}function Hl(i){return Ot.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class vl{constructor(e,t=null,o=[],l=[],f=null,y="F",A=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=f,this.limitType=y,this.startAt=A,this.endAt=H,this.dt=null,this._t=null}}function Gl(i){return new vl(i)}function Ud(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ml(i){const e=_(i);if(null===e.dt){e.dt=[];const t=function _u(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function mu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new Or(t)),e.dt.push(new Or(br.keyField(),"asc"));else{let l=!1;for(const f of e.explicitOrderBy)e.dt.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Or(br.keyField(),f))}}}return e.dt}function ka(i){const e=_(i);if(!e._t)if("F"===e.limitType)e._t=Mc(e.path,e.collectionGroup,Ml(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Ml(e))t.push(new Or(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new ca(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new ca(e.startAt.position,e.startAt.inclusive):null;e._t=Mc(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function Ju(i,e,t){return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Xu(i,e){return il(ka(i),ka(e))&&i.limitType===e.limitType}function $d(i){return`${qa(ka(i))}|lt:${i.limitType}`}function ec(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>$(o)).join(", ")}]`),ml(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>x(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>x(o)).join(",")),`Target(${t})`}(ka(i))}; limitType=${i.limitType})`}function jd(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):Ot.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of Ml(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,f,y){const A=Za(l,f,y);return l.inclusive?A<=0:A<0}(t.startAt,Ml(t),o)||t.endAt&&!function(l,f,y){const A=Za(l,f,y);return l.inclusive?A>=0:A>0}(t.endAt,Ml(t),o)));var t,o}function tc(i){return(e,t)=>{let o=!1;for(const l of Ml(i)){const f=gp(l,e,t);if(0!==f)return f;o=o||l.field.isKeyField()}return 0}}function gp(i,e,t){const o=i.field.isKeyField()?Ot.comparator(e.key,t.key):function(l,f,y){const A=f.data.field(l),H=y.data.field(l);return null!==A&&null!==H?T(A,H):nn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function tf(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function nf(i){return{integerValue:""+i}}function Hd(i,e){return function _l(i){return"number"==typeof i&&Number.isInteger(i)&&!Oa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?nf(e):tf(i,e)}class Rc{constructor(){this._=void 0}}function rf(i,e,t){return i instanceof Wl?function(o,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(t,e):i instanceof zl?yu(i,e):i instanceof _a?Fa(i,e):function(o,l){const f=kc(o,l),y=nc(f)+nc(o.gt);return de(f)&&de(o.gt)?nf(y):tf(o.yt,y)}(i,e)}function Pc(i,e,t){return i instanceof zl?yu(i,e):i instanceof _a?Fa(i,e):t}function kc(i,e){return i instanceof Li?de(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Wl extends Rc{}class zl extends Rc{constructor(e){super(),this.elements=e}}function yu(i,e){const t=rc(e);for(const o of i.elements)t.some(l=>ts(l,o))||t.push(o);return{arrayValue:{values:t}}}class _a extends Rc{constructor(e){super(),this.elements=e}}function Fa(i,e){let t=rc(e);for(const o of i.elements)t=t.filter(l=>!ts(l,o));return{arrayValue:{values:t}}}class Li extends Rc{constructor(e,t){super(),this.yt=e,this.gt=t}}function nc(i){return Fi(i.integerValue||i.doubleValue)}function rc(i){return _e(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wd{constructor(e,t){this.version=e,this.transformResults=t}}class rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bl{}function ql(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Dl(i.key,rs.none()):new Ks(i.key,i.data,rs.none());{const t=i.data,o=vs.empty();let l=new si(br.comparator);for(let f of e.fields)if(!l.has(f)){let y=t.field(f);null===y&&f.length>1&&(f=f.popLast(),y=t.field(f)),null===y?o.delete(f):o.set(f,y),l=l.add(f)}return new Mo(i.key,o,new ys(l.toArray()),rs.none())}}function Do(i,e,t){i instanceof Ks?function(o,l,f){const y=o.value.clone(),A=Yl(o.fieldTransforms,l,f.transformResults);y.setAll(A),l.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Mo?function(o,l,f){if(!ic(o.precondition,l))return void l.convertToUnknownDocument(f.version);const y=Yl(o.fieldTransforms,l,f.transformResults),A=l.data;A.setAll(ol(o)),A.setAll(y),l.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wl(i,e,t,o){return i instanceof Ks?function(l,f,y,A){if(!ic(l.precondition,f))return y;const H=l.value.clone(),K=vu(l.fieldTransforms,A,f);return H.setAll(K),f.convertToFoundDocument(f.version,H).setHasLocalMutations(),null}(i,e,t,o):i instanceof Mo?function(l,f,y,A){if(!ic(l.precondition,f))return y;const H=vu(l.fieldTransforms,A,f),K=f.data;return K.setAll(ol(l)),K.setAll(H),f.convertToFoundDocument(f.version,K).setHasLocalMutations(),null===y?null:y.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(ie=>ie.field))}(i,e,t,o):(y=t,ic(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y);var f,y}function zd(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),f=kc(o.transform,l||null);null!=f&&(null===t&&(t=vs.empty()),t.set(o.field,f))}return t||null}function Kl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Hr(t,o,(l,f)=>function Gd(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof zl&&o instanceof zl||t instanceof _a&&o instanceof _a?Hr(t.elements,o.elements,ts):t instanceof Li&&o instanceof Li?ts(t.gt,o.gt):t instanceof Wl&&o instanceof Wl);var t,o}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Ks extends bl{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Mo extends bl{constructor(e,t,o,l,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ol(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Yl(i,e,t){const o=new Map;mn(i.length===t.length);for(let l=0;l<t.length;l++){const f=i[l],y=f.transform,A=e.data.field(f.field);o.set(f.field,Pc(y,A,t[l]))}return o}function vu(i,e,t){const o=new Map;for(const l of i){const f=l.transform,y=t.data.field(l.field);o.set(l.field,rf(f,y,e))}return o}class Dl extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bu extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ol{constructor(e){this.count=e}}var ao,yi;function sf(i){switch(i){default:return nn();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function af(i){if(void 0===i)return Ri("GRPC error has no .code"),v.UNKNOWN;switch(i){case ao.OK:return v.OK;case ao.CANCELLED:return v.CANCELLED;case ao.UNKNOWN:return v.UNKNOWN;case ao.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case ao.INTERNAL:return v.INTERNAL;case ao.UNAVAILABLE:return v.UNAVAILABLE;case ao.UNAUTHENTICATED:return v.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case ao.NOT_FOUND:return v.NOT_FOUND;case ao.ALREADY_EXISTS:return v.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return v.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case ao.ABORTED:return v.ABORTED;case ao.OUT_OF_RANGE:return v.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return v.UNIMPLEMENTED;case ao.DATA_LOSS:return v.DATA_LOSS;default:return nn()}}(yi=ao||(ao={}))[yi.OK=0]="OK",yi[yi.CANCELLED=1]="CANCELLED",yi[yi.UNKNOWN=2]="UNKNOWN",yi[yi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yi[yi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yi[yi.NOT_FOUND=5]="NOT_FOUND",yi[yi.ALREADY_EXISTS=6]="ALREADY_EXISTS",yi[yi.PERMISSION_DENIED=7]="PERMISSION_DENIED",yi[yi.UNAUTHENTICATED=16]="UNAUTHENTICATED",yi[yi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yi[yi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yi[yi.ABORTED=10]="ABORTED",yi[yi.OUT_OF_RANGE=11]="OUT_OF_RANGE",yi[yi.UNIMPLEMENTED=12]="UNIMPLEMENTED",yi[yi.INTERNAL=13]="INTERNAL",yi[yi.UNAVAILABLE=14]="UNAVAILABLE",yi[yi.DATA_LOSS=15]="DATA_LOSS";class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,f]of o)if(this.equalsFn(l,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],e))return void(l[f]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ka(this.inner,(t,o)=>{for(const[l,f]of o)e(l,f)})}isEmpty(){return Ti(this.inner)}size(){return this.innerSize}}const qd=new ri(Ot.comparator);function La(){return qd}const Kd=new ri(Ot.comparator);function Fc(...i){let e=Kd;for(const t of i)e=e.insert(t.key,t);return e}function sc(i){let e=Kd;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function al(){return wu()}function lf(){return wu()}function wu(){return new El(i=>i.toString(),(i,e)=>i.isEqual(e))}const Yd=new ri(Ot.comparator),uf=new si(Ot.comparator);function zr(...i){let e=uf;for(const t of i)e=e.add(t);return e}const Zl=new si(Qt);function Du(){return Zl}class Ql{constructor(e,t,o,l,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new Ql(At.min(),l,Du(),La(),zr())}}class Eu{constructor(e,t,o,l,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Eu(o,t,zr(),zr(),zr())}}class Jl{constructor(e,t,o,l){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=l}}class oc{constructor(e,t){this.targetId=e,this.Et=t}}class Zd{constructor(e,t,o=ds.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class ac{constructor(){this.At=0,this.Rt=xl(),this.bt=ds.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=zr(),t=zr(),o=zr();return this.Rt.forEach((l,f)=>{switch(f){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:nn()}}),new Eu(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=xl()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class mp{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=La(),this.qt=rd(),this.Ut=new si(Qt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,l)=>{this.zt(l)&&t(l)})}Jt(e){const t=e.targetId,o=e.Et.count,l=this.Yt(t);if(l){const f=l.target;if(Hl(f))if(0===o){const y=new Ot(f.path);this.Qt(t,y,fs.newNoDocument(y,At.min()))}else mn(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((f,y)=>{const A=this.Yt(y);if(A){if(f.current&&Hl(A.target)){const H=new Ot(A.target.path);null!==this.Lt.get(H)||this.te(y,H)||this.Qt(y,H,fs.newNoDocument(H,e))}f.St&&(t.set(y,f.Ct()),f.xt())}});let o=zr();this.qt.forEach((f,y)=>{let A=!0;y.forEachWhile(H=>{const K=this.Yt(H);return!K||2===K.purpose||(A=!1,!1)}),A&&(o=o.add(f))}),this.Lt.forEach((f,y)=>y.setReadTime(e));const l=new Ql(e,t,this.Ut,this.Lt,o);return this.Lt=La(),this.qt=rd(),this.Ut=new si(Qt),l}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const l=this.Wt(e);this.te(e,t)?l.Nt(t,1):l.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ac,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new si(Qt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||St("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ac),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function rd(){return new ri(Ot.comparator)}function xl(){return new ri(Ot.comparator)}const cf={asc:"ASCENDING",desc:"DESCENDING"},id={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lc={and:"AND",or:"OR"};class sd{constructor(e,t){this.databaseId=e,this.wt=t}}function ll(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qd(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Jd(i,e){return ll(i,e.toTimestamp())}function Ys(i){return mn(!!i),At.fromTimestamp(function(e){const t=Ya(e);return new gr(t.seconds,t.nanos)}(i))}function ul(i,e){return(t=i,new Hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vc(i){const e=Hn.fromString(i);return mn(cr(e)),e}function Rl(i,e){return ul(i.databaseId,e.path)}function cl(i,e){const t=Vc(e);if(t.get(1)!==i.databaseId.projectId)throw new O(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new O(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ot(Tu(t))}function od(i,e){return ul(i.databaseId,e)}function Cu(i){return new Hn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tu(i){return mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function uc(i,e,t){return{name:Rl(i,e),fields:t.value.mapValue.fields}}function dc(i,e){return{documents:[od(i,e.path)]}}function hc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=od(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=od(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(H){if(0!==H.length)return fn(Fr.create(H,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(H){if(0!==H.length)return H.map(K=>{return{field:We((ie=K).field),direction:M(ie.dir)};var ie})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const y=(K=e.limit,i.wt||ml(K)?K:{value:K});var K,A,H;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function I(i){let e=function lc(i){const e=Vc(i);return 4===e.length?Hn.emptyPath():Tu(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){mn(1===o);const ie=t.from[0];ie.allDescendants?l=ie.collectionId:e=e.child(ie.collectionId)}let f=[];t.where&&(f=function(ie){const De=b(ie);return De instanceof Fr&&yl(De)?De.getFilters():[De]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(ie=>{return new Or(Ct((De=ie).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(De.direction));var De}));let A=null;t.limit&&(A=function(ie){let De;return De="object"==typeof ie?ie.value:ie,ml(De)?null:De}(t.limit));let H=null;var ie;t.startAt&&(H=new ca((ie=t.startAt).values||[],!!ie.before));let K=null;return t.endAt&&(K=function(ie){return new ca(ie.values||[],!ie.before)}(t.endAt)),function Qu(i,e,t,o,l,f,y,A){return new vl(i,e,t,o,l,f,y,A)}(e,l,y,f,A,"F",H,K)}function b(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ct(e.unaryFilter.field);return Wr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Ct(e.unaryFilter.field);return Wr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ct(e.unaryFilter.field);return Wr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ct(e.unaryFilter.field);return Wr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(i):void 0!==i.fieldFilter?Wr.create(Ct((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Fr.create(e.compositeFilter.filters.map(t=>b(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(i):nn();var e}function M(i){return cf[i]}function J(i){return id[i]}function se(i){return Lc[i]}function We(i){return{fieldPath:i.canonicalString()}}function Ct(i){return br.fromServerFormat(i.fieldPath)}function fn(i){return i instanceof Wr?function(e){if("=="===e.op){if($t(e.value))return{unaryFilter:{field:We(e.field),op:"IS_NAN"}};if(ot(e.value))return{unaryFilter:{field:We(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($t(e.value))return{unaryFilter:{field:We(e.field),op:"IS_NOT_NAN"}};if(ot(e.value))return{unaryFilter:{field:We(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:We(e.field),op:J(e.op),value:e.value}}}(i):i instanceof Fr?function(e){const t=e.getFilters().map(o=>fn(o));return 1===t.length?t[0]:{compositeFilter:{op:se(e.op),filters:t}}}(i):nn()}function xn(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cr(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class eh{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(e.key)&&Do(f,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=wl(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=wl(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=lf();return this.mutations.forEach(l=>{const f=e.get(l.key),y=f.overlayedDocument;let A=this.applyToLocalView(y,f.mutatedFields);A=t.has(l.key)?null:A;const H=ql(y,A);null!==H&&o.set(l.key,H),y.isValidDocument()||y.convertToNoDocument(At.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zr())}isEqual(e){return this.batchId===e.batchId&&Hr(this.mutations,e.mutations,(t,o)=>Kl(t,o))&&Hr(this.baseMutations,e.baseMutations,(t,o)=>Kl(t,o))}}class th{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){mn(e.mutations.length===o.length);let l=Yd;const f=e.mutations;for(let y=0;y<f.length;y++)l=l.insert(f[y].key,o[y].version);return new th(e,t,o,l)}}class jc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class va{constructor(e,t,o,l,f=At.min(),y=At.min(),A=ds.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=A}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xl{constructor(e){this.ie=e}}function bp(i){const e=I({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ju(e,e.limit,"L"):e}class _c{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Fi(e.integerValue));else if("doubleValue"in e){const o=Fi(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),Oa(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ga(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?ni(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):nn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const l of Object.keys(o))this.de(l,t),this.ce(o[l],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const l of o)this.ce(l,t)}me(e,t){this.he(t,37),Ot.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}_c.Ie=new _c;class _n{constructor(){this.Je=new un}addToCollectionParentIndex(e,t){return this.Je.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve($n.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve($n.min())}updateCollectionGroup(e,t,o){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class un{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new si(Hn.comparator),f=!l.has(o);return this.index[t]=l.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new si(Hn.comparator)).toArray()}}new Uint8Array(0);class mr{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class Zs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Zs(0)}static vn(){return new Zs(-1)}}class yf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cp{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&wl(o.mutation,l,ys.empty(),gr.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,zr()).next(()=>o))}getLocalViewOfDocuments(e,t,o=zr()){const l=al();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(f=>{let y=Fc();return f.forEach((A,H)=>{y=y.insert(A,H.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const o=al();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,zr()))}populateOverlays(e,t,o){const l=[];return o.forEach(f=>{t.has(f)||l.push(f)}),this.documentOverlayCache.getOverlays(e,l).next(f=>{f.forEach((y,A)=>{t.set(y,A)})})}computeViews(e,t,o,l){let f=La();const y=wu(),A=wu();return t.forEach((H,K)=>{const ie=o.get(K.key);l.has(K.key)&&(void 0===ie||ie.mutation instanceof Mo)?f=f.insert(K.key,K):void 0!==ie?(y.set(K.key,ie.mutation.getFieldMask()),wl(ie.mutation,K,ie.mutation.getFieldMask(),gr.now())):y.set(K.key,ys.empty())}),this.recalculateAndSaveOverlays(e,f).next(H=>(H.forEach((K,ie)=>y.set(K,ie)),t.forEach((K,ie)=>{var De;return A.set(K,new yf(ie,null!==(De=y.get(K))&&void 0!==De?De:null))}),A))}recalculateAndSaveOverlays(e,t){const o=wu();let l=new ri((y,A)=>y-A),f=zr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const A of y)A.keys().forEach(H=>{const K=t.get(H);if(null===K)return;let ie=o.get(H)||ys.empty();ie=A.applyToLocalView(K,ie),o.set(H,ie);const De=(l.get(A.batchId)||zr()).add(H);l=l.insert(A.batchId,De)})}).next(()=>{const y=[],A=l.getReverseIterator();for(;A.hasNext();){const H=A.getNext(),K=H.key,ie=H.value,De=lf();ie.forEach(Qe=>{if(!f.has(Qe)){const Tt=ql(t.get(Qe),o.get(Qe));null!==Tt&&De.set(Qe,Tt),f=f.add(Qe)}}),y.push(this.documentOverlayCache.saveOverlays(e,K,De))}return et.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Ot.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function nd(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(f=>{const y=l-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-f.size):et.resolve(al());let A=-1,H=f;return y.next(K=>et.forEach(K,(ie,De)=>(A<De.largestBatchId&&(A=De.largestBatchId),f.get(ie)?et.resolve():this.remoteDocumentCache.getEntry(e,ie).next(Qe=>{H=H.insert(ie,Qe)}))).next(()=>this.populateOverlays(e,K,f)).next(()=>this.computeViews(e,H,K,zr())).next(ie=>({batchId:A,changes:sc(ie)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ot(t)).next(o=>{let l=Fc();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let f=Fc();return this.indexManager.getCollectionParents(e,l).next(y=>et.forEach(y,A=>{const H=(K=t,ie=A.child(l),new vl(ie,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,ie;return this.getDocumentsMatchingCollectionQuery(e,H,o).next(K=>{K.forEach((ie,De)=>{f=f.insert(ie,De)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(f=>(l=f,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(f=>{f.forEach((A,H)=>{const K=H.getKey();null===l.get(K)&&(l=l.insert(K,fs.newInvalidDocument(K)))});let y=Fc();return l.forEach((A,H)=>{const K=f.get(A);void 0!==K&&wl(K.mutation,H,ys.empty(),gr.now()),jd(t,H)&&(y=y.insert(A,H))}),y})}}class vf{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return et.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:Ys(o.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:bp(o.bundledQuery),readTime:Ys(o.readTime)}),et.resolve();var o}}class bf{constructor(){this.overlays=new ri(Ot.comparator),this.es=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const o=al();return et.forEach(t,l=>this.getOverlay(e,l).next(f=>{null!==f&&o.set(l,f)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,f)=>{this.oe(e,t,f)}),et.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.es.get(o);return void 0!==l&&(l.forEach(f=>this.overlays=this.overlays.remove(f)),this.es.delete(o)),et.resolve()}getOverlaysForCollection(e,t,o){const l=al(),f=t.length+1,y=new Ot(t.child("")),A=this.overlays.getIteratorFrom(y);for(;A.hasNext();){const H=A.getNext().value,K=H.getKey();if(!t.isPrefixOf(K.path))break;K.path.length===f&&H.largestBatchId>o&&l.set(H.getKey(),H)}return et.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let f=new ri((K,ie)=>K-ie);const y=this.overlays.getIterator();for(;y.hasNext();){const K=y.getNext().value;if(K.getKey().getCollectionGroup()===t&&K.largestBatchId>o){let ie=f.get(K.largestBatchId);null===ie&&(ie=al(),f=f.insert(K.largestBatchId,ie)),ie.set(K.getKey(),K)}}const A=al(),H=f.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((K,ie)=>A.set(K,ie)),!(A.size()>=l)););return et.resolve(A)}oe(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const y=this.es.get(l.largestBatchId).delete(o.key);this.es.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new jc(t,o));let f=this.es.get(t);void 0===f&&(f=zr(),this.es.set(t,f)),this.es.set(t,f.add(o.key))}}class _d{constructor(){this.ns=new si(Xo.ss),this.rs=new si(Xo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new Xo(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new Xo(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Ot(new Hn([])),o=new Xo(t,e),l=new Xo(t,e+1),f=[];return this.rs.forEachInRange([o,l],y=>{this.cs(y),f.push(y.key)}),f}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ot(new Hn([])),o=new Xo(t,e),l=new Xo(t,e+1);let f=zr();return this.rs.forEachInRange([o,l],y=>{f=f.add(y.key)}),f}containsKey(e){const t=new Xo(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Xo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ot.comparator(e.key,t.key)||Qt(e._s,t._s)}static os(e,t){return Qt(e._s,t._s)||Ot.comparator(e.key,t.key)}}class wf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new si(Xo.ss)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const f=this.ws;this.ws++;const y=new eh(f,t,o,l);this.mutationQueue.push(y);for(const A of l)this.gs=this.gs.add(new Xo(A.key,f)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return et.resolve(y)}lookupMutationBatch(e,t){return et.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),f=l<0?0:l;return et.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Xo(t,0),l=new Xo(t,Number.POSITIVE_INFINITY),f=[];return this.gs.forEachInRange([o,l],y=>{const A=this.ys(y._s);f.push(A)}),et.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new si(Qt);return t.forEach(l=>{const f=new Xo(l,0),y=new Xo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([f,y],A=>{o=o.add(A._s)})}),et.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let f=o;Ot.isDocumentKey(f)||(f=f.child(""));const y=new Xo(new Ot(f),0);let A=new si(Qt);return this.gs.forEachWhile(H=>{const K=H.key.path;return!!o.isPrefixOf(K)&&(K.length===l&&(A=A.add(H._s)),!0)},y),et.resolve(this.Is(A))}Is(e){const t=[];return e.forEach(o=>{const l=this.ys(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){mn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return et.forEach(t.mutations,l=>{const f=new Xo(l.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new Xo(t,0),l=this.gs.firstAfterOrEqual(o);return et.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return et.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class su{constructor(e){this.Es=e,this.docs=new ri(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),f=l?l.size:0,y=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return et.resolve(o?o.document.mutableCopy():fs.newInvalidDocument(t))}getEntries(e,t){let o=La();return t.forEach(l=>{const f=this.docs.get(l);o=o.insert(l,f?f.document.mutableCopy():fs.newInvalidDocument(l))}),et.resolve(o)}getAllFromCollection(e,t,o){let l=La();const f=new Ot(t.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:A,value:{document:H}}=y.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||_i(On(H),o)<=0||(l=l.insert(H.key,H.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(e,t,o,l){nn()}As(e,t){return et.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new vc(this)}getSize(e){return et.resolve(this.size)}}class vc extends class ku{constructor(){this.changes=new El(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?et.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(o)}),et.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class yd{constructor(e){this.persistence=e,this.Rs=new El(t=>qa(t),il),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _d,this.targetCount=0,this.vs=Zs.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,l)=>t(l)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),et.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Zs(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.Dn(t),et.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,o){let l=0;const f=[];return this.Rs.forEach((y,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.Rs.delete(y),f.push(this.removeMatchingKeysForTargetId(e,A.targetId)),l++)}),et.waitFor(f).next(()=>l)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return et.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),et.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const l=this.persistence.referenceDelegate,f=[];return l&&t.forEach(y=>{f.push(l.markPotentiallyOrphaned(e,y))}),et.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),et.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return et.resolve(o)}containsKey(e,t){return et.resolve(this.Ps.containsKey(t))}}class oh{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Bs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new yd(this),this.indexManager=new _n,this.remoteDocumentCache=new su(o=>this.referenceDelegate.xs(o)),this.yt=new Xl(t),this.Ns=new vf(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new wf(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){St("MemoryPersistence","Starting transaction:",e);const l=new qc(this.Ss.next());return this.referenceDelegate.ks(),o(l).next(f=>this.referenceDelegate.Os(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ms(e,t){return et.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class qc extends class cs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class kl{constructor(e){this.persistence=e,this.Fs=new _d,this.$s=null}static Bs(e){return new kl(e)}get Ls(){if(this.$s)return this.$s;throw nn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),et.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),et.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(f=>this.Ls.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Ls,o=>{const l=Ot.fromPath(o);return this.qs(e,l).next(f=>{f||t.removeEntry(l,At.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return et.or([()=>et.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class bc{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=l}static Ci(e,t){let o=zr(),l=zr();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new bc(e,t.fromCache,o,l)}}class ou{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.ki(e,t).next(f=>f||this.Oi(e,t,l,o)).next(f=>f||this.Mi(e,t))}ki(e,t){if(Ud(t))return et.resolve(null);let o=ka(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Ju(t,null,"F"),o=ka(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const y=zr(...f);return this.Ni.getDocuments(e,y).next(A=>this.indexManager.getMinOffset(e,o).next(H=>{const K=this.Fi(t,A);return this.$i(t,K,y,H.readTime)?this.ki(e,Ju(t,null,"F")):this.Bi(e,K,t,H)}))})))}Oi(e,t,o,l){return Ud(t)||l.isEqual(At.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(f=>{const y=this.Fi(t,f);return this.$i(t,y,o,l)?this.Mi(e,t):(pa()<=Pe.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ec(t)),this.Bi(e,y,t,function rn(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=At.fromTimestamp(1e9===o?new gr(t+1,0):new gr(t,o));return new $n(l,Ot.empty(),e)}(l,-1)))})}Fi(e,t){let o=new si(tc(e));return t.forEach((l,f)=>{jd(e,f)&&(o=o.add(f))}),o}$i(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const f="F"===e.limitType?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Mi(e,t){return pa()<=Pe.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ec(t)),this.Ni.getDocumentsMatchingQuery(e,t,$n.min())}Bi(e,t,o,l){return this.Ni.getDocumentsMatchingQuery(e,o,l).next(f=>(t.forEach(y=>{f=f.insert(y.key,y)}),f))}}class m_{constructor(e,t,o,l){this.persistence=e,this.Li=t,this.yt=l,this.qi=new ri(Qt),this.Ui=new El(f=>qa(f),il),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function __(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,d.Z)(function*(i,e){const t=_(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(f=>(l=f,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(f=>{const y=[],A=[];let H=zr();for(const K of l){y.push(K.batchId);for(const ie of K.mutations)H=H.add(ie.key)}for(const K of f){A.push(K.batchId);for(const ie of K.mutations)H=H.add(ie.key)}return t.localDocuments.getDocuments(o,H).next(K=>({ji:K,removedBatchIds:y,addedBatchIds:A}))})})}),Gg.apply(this,arguments)}function Wg(i,e){const t=_(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),f=t.Gi.newChangeBuffer({trackRemovals:!0});return function(y,A,H,K){const ie=H.batch,De=ie.keys();let Qe=et.resolve();return De.forEach(Tt=>{Qe=Qe.next(()=>K.getEntry(A,Tt)).next(kt=>{const gn=H.docVersions.get(Tt);mn(null!==gn),kt.version.compareTo(gn)<0&&(ie.applyToRemoteDocument(kt,H),kt.isValidDocument()&&(kt.setReadTime(H.commitVersion),K.addEntry(kt)))})}),Qe.next(()=>y.mutationQueue.removeMutationBatch(A,ie))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(y){let A=zr();for(let H=0;H<y.mutationResults.length;++H)y.mutationResults[H].transformResults.length>0&&(A=A.add(y.batch.mutations[H].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}function y_(i){const e=_(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function zg(i,e){const t=_(i),o=e.snapshotVersion;let l=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.qi;const A=[];e.targetChanges.forEach((ie,De)=>{const Qe=l.get(De);if(!Qe)return;A.push(t.Cs.removeMatchingKeys(f,ie.removedDocuments,De).next(()=>t.Cs.addMatchingKeys(f,ie.addedDocuments,De)));let Tt=Qe.withSequenceNumber(f.currentSequenceNumber);var kt,gn,Gn;e.targetMismatches.has(De)?Tt=Tt.withResumeToken(ds.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):ie.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(ie.resumeToken,o)),l=l.insert(De,Tt),gn=Tt,Gn=ie,(0===(kt=Qe).resumeToken.approximateByteSize()||gn.snapshotVersion.toMicroseconds()-kt.snapshotVersion.toMicroseconds()>=3e8||Gn.addedDocuments.size+Gn.modifiedDocuments.size+Gn.removedDocuments.size>0)&&A.push(t.Cs.updateTargetData(f,Tt))});let H=La(),K=zr();if(e.documentUpdates.forEach(ie=>{e.resolvedLimboDocuments.has(ie)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(f,ie))}),A.push(function v_(i,e,t){let o=zr(),l=zr();return t.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let y=La();return t.forEach((A,H)=>{const K=f.get(A);H.isFoundDocument()!==K.isFoundDocument()&&(l=l.add(A)),H.isNoDocument()&&H.version.isEqual(At.min())?(e.removeEntry(A,H.readTime),y=y.insert(A,H)):!K.isValidDocument()||H.version.compareTo(K.version)>0||0===H.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(H),y=y.insert(A,H)):St("LocalStore","Ignoring outdated watch update for ",A,". Current version:",K.version," Watch version:",H.version)}),{Wi:y,zi:l}})}(f,y,e.documentUpdates).next(ie=>{H=ie.Wi,K=ie.zi})),!o.isEqual(At.min())){const ie=t.Cs.getLastRemoteSnapshotVersion(f).next(De=>t.Cs.setTargetsMetadata(f,f.currentSequenceNumber,o));A.push(ie)}return et.waitFor(A).next(()=>y.apply(f)).next(()=>t.localDocuments.getLocalViewOfDocuments(f,H,K)).next(()=>H)}).then(f=>(t.qi=l,f))}function qg(i,e){const t=_(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function bd(i,e){const t=_(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Cs.getTargetData(o,e).next(f=>f?(l=f,et.resolve(l)):t.Cs.allocateTargetId(o).next(y=>(l=new va(e,y,0,o.currentSequenceNumber),t.Cs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.qi.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function Kc(i,e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,d.Z)(function*(i,e,t){const o=_(i),l=o.qi.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,y=>o.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!Os(y))throw y;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.qi=o.qi.remove(e),o.Ui.delete(l.target)}),Sp.apply(this,arguments)}function Cf(i,e,t){const o=_(i);let l=At.min(),f=zr();return o.persistence.runTransaction("Execute query","readonly",y=>function(A,H,K){const ie=_(A),De=ie.Ui.get(K);return void 0!==De?et.resolve(ie.qi.get(De)):ie.Cs.getTargetData(H,K)}(o,y,ka(e)).next(A=>{if(A)return l=A.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(y,A.targetId).next(H=>{f=H})}).next(()=>o.Li.getDocumentsMatchingQuery(y,e,t?l:At.min(),t?f:zr())).next(A=>(function Ap(i,e,t){let o=i.Ki.get(e)||At.min();t.forEach((l,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.Ki.set(e,o)}(o,function ef(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,Hi:f})))}class Sf{constructor(){this.activeTargetIds=Du()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zg{constructor(){this.Lr=new Sf,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Sf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qg{Ur(e){}shutdown(){}}class Jg{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class E_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,l,f){const y=this.ho(e,t);St("RestConnection","Sending: ",y,o);const A={};return this.lo(A,l,f),this.fo(e,y,A,o).then(H=>(St("RestConnection","Received: ",H),H),H=>{throw Pi("RestConnection",`${e} failed with error: `,H,"url: ",y,"request:",o),H})}_o(e,t,o,l,f,y){return this.ao(e,t,o,l,f)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ji,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,f)=>e[f]=l),o&&o.headers.forEach((l,f)=>e[f]=l)}ho(e,t){return`${this.oo}/v1/${t}:${Xg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((f,y)=>{const A=new qn;A.setWithCredentials(!0),A.listenOnce(wr.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case sr.NO_ERROR:const K=A.getResponseJson();St("Connection","XHR received:",JSON.stringify(K)),f(K);break;case sr.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),y(new O(v.DEADLINE_EXCEEDED,"Request time out"));break;case sr.HTTP_ERROR:const ie=A.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',ie,"response text:",A.getResponseText()),ie>0){let De=A.getResponseJson();Array.isArray(De)&&(De=De[0]);const Qe=De?.error;if(Qe&&Qe.status&&Qe.message){const Tt=function(kt){const gn=kt.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(gn)>=0?gn:v.UNKNOWN}(Qe.status);y(new O(Tt,Qe.message))}else y(new O(v.UNKNOWN,"Server responded with status "+A.getStatus()))}else y(new O(v.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(l);A.send(t,"POST",H,o,15)})}wo(e,t,o){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Dt(),y=Yt(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new jr({})),this.lo(A.initMessageHeaders,t,o),A.encodeInitMessageHeaders=!0;const H=l.join("");St("Connection","Creating WebChannel: "+H,A);const K=f.createWebChannel(H,A);let ie=!1,De=!1;const Qe=new D_({Hr:kt=>{De?St("Connection","Not sending because WebChannel is closed:",kt):(ie||(St("Connection","Opening WebChannel transport."),K.open(),ie=!0),St("Connection","WebChannel sending:",kt),K.send(kt))},Jr:()=>K.close()}),Tt=(kt,gn,Gn)=>{kt.listen(gn,Us=>{try{Gn(Us)}catch(Eo){setTimeout(()=>{throw Eo},0)}})};return Tt(K,Mr.EventType.OPEN,()=>{De||St("Connection","WebChannel transport opened.")}),Tt(K,Mr.EventType.CLOSE,()=>{De||(De=!0,St("Connection","WebChannel transport closed"),Qe.io())}),Tt(K,Mr.EventType.ERROR,kt=>{De||(De=!0,Pi("Connection","WebChannel transport errored:",kt),Qe.io(new O(v.UNAVAILABLE,"The operation could not be completed")))}),Tt(K,Mr.EventType.MESSAGE,kt=>{var gn;if(!De){const Gn=kt.data[0];mn(!!Gn);const Us=Gn,Eo=Us.error||(null===(gn=Us[0])||void 0===gn?void 0:gn.error);if(Eo){St("Connection","WebChannel received error:",Eo);const ws=Eo.status;let ba=function(ps){const wa=ao[ps];if(void 0!==wa)return af(wa)}(ws),xs=Eo.message;void 0===ba&&(ba=v.INTERNAL,xs="Unknown error status: "+ws+" with message "+Eo.message),De=!0,Qe.io(new O(ba,xs)),K.close()}else St("Connection","WebChannel received:",Gn),Qe.ro(Gn)}}),Tt(y,Nr.STAT_EVENT,kt=>{kt.stat===Dr.PROXY?St("Connection","Detected buffering proxy"):kt.stat===Dr.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{Qe.so()},0),Qe}}function ch(){return typeof document<"u"?document:null}function wd(i){return new sd(i,!0)}class Lu{constructor(e,t,o=1e3,l=1.5,f=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=l,this.po=f,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class em{constructor(e,t,o,l,f,y,A,H){this.Hs=e,this.vo=o,this.Vo=l,this.connection=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=A,this.listener=H,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lu(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,d.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,d.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,d.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===v.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===v.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.So===t&&this.Go(o,l)},o=>{e(()=>{const l=new O(v.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(l)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{o(()=>this.Qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,d.Z)(function*(){e.state=0,e.start()}))}Qo(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pp extends em{constructor(e,t,o,l,f,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,y),this.yt=f}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Xd(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:nn(),l=e.targetChange.targetIds||[],f=function(H,K){return H.wt?(mn(void 0===K||"string"==typeof K),ds.fromBase64String(K||"")):(mn(void 0===K||K instanceof Uint8Array),ds.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,A=y&&function(H){const K=void 0===H.code?v.UNKNOWN:af(H.code);return new O(K,H.message||"")}(y);t=new Zd(o,l,f,A||null)}else if("documentChange"in e){const o=e.documentChange,l=cl(i,o.document.name),f=Ys(o.document.updateTime),y=o.document.createTime?Ys(o.document.createTime):At.min(),A=new vs({mapValue:{fields:o.document.fields}}),H=fs.newFoundDocument(l,f,y,A);t=new Jl(o.targetIds||[],o.removedTargetIds||[],H.key,H)}else if("documentDelete"in e){const o=e.documentDelete,l=cl(i,o.document),f=o.readTime?Ys(o.readTime):At.min(),y=fs.newNoDocument(l,f);t=new Jl([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,l=cl(i,o.document);t=new Jl([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return nn();{const o=e.filter,f=new Ol(o.count||0);t=new oc(o.targetId,f)}}var H;return t}(this.yt,e),o=function(l){if(!("targetChange"in l))return At.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?Ys(f.readTime):At.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=Cu(this.yt),t.addTarget=function(l,f){let y;const A=f.target;return y=Hl(A)?{documents:dc(l,A)}:{query:hc(l,A)},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?y.resumeToken=Qd(l,f.resumeToken):f.snapshotVersion.compareTo(At.min())>0&&(y.readTime=ll(l,f.snapshotVersion.toTimestamp())),y}(this.yt,e);const o=function g(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=Cu(this.yt),t.removeTarget=e,this.Bo(t)}}class kp extends em{constructor(e,t,o,l,f,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,y),this.yt=f,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function df(i,e){return i&&i.length>0?(mn(void 0!==e),i.map(t=>function(o,l){let f=Ys(o.updateTime?o.updateTime:l);return f.isEqual(At.min())&&(f=Ys(l)),new Wd(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ys(e.commitTime);return this.listener.Zo(o,t)}return mn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Cu(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function dl(i,e){let t;if(e instanceof Ks)t={update:uc(i,e.key,e.value)};else if(e instanceof Dl)t={delete:Rl(i,e.key)};else if(e instanceof Mo)t={update:uc(i,e.key,e.data),updateMask:xn(e.fieldMask)};else{if(!(e instanceof bu))return nn();t={verify:Rl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,f){const y=f.transform;if(y instanceof Wl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof _a)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Li)return{fieldPath:f.field.canonicalString(),increment:y.gt};throw nn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Jd(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:nn()),t;var l}(this.yt,o))};this.Bo(t)}}class T_ extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=l,this.nu=!1}su(){if(this.nu)throw new O(v.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.ao(e,t,o,l,f)).catch(l=>{throw"FirebaseError"===l.name?(l.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new O(v.UNKNOWN,l.toString())})}_o(e,t,o,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection._o(e,t,o,f,y,l)).catch(f=>{throw"FirebaseError"===f.name?(f.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new O(v.UNKNOWN,f.toString())})}terminate(){this.nu=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ri(t),this.ou=!1):St("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class I_{constructor(e,t,o,l,f){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=f,this.mu.Ur(A=>{o.enqueueAndForget((0,d.Z)(function*(){var H;Vu(y)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,d.Z)(function*(K){const ie=_(K);ie._u.add(4),yield Ed(ie),ie.gu.set("Unknown"),ie._u.delete(4),yield Dd(ie)}),function(K){return H.apply(this,arguments)})(y))}))}),this.gu=new hv(o,l)}}function Dd(i){return nm.apply(this,arguments)}function nm(){return nm=(0,d.Z)(function*(i){if(Vu(i))for(const e of i.wu)yield e(!0)}),nm.apply(this,arguments)}function Ed(i){return wc.apply(this,arguments)}function wc(){return wc=(0,d.Z)(function*(i){for(const e of i.wu)yield e(!1)}),wc.apply(this,arguments)}function Af(i,e){const t=_(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Fp(t)?Nf(t):Uu(t).ko()&&Td(t,e))}function Cd(i,e){const t=_(i),o=Uu(t);t.du.delete(e),o.ko()&&rm(t,e),0===t.du.size&&(o.ko()?o.Fo():Vu(t)&&t.gu.set("Unknown"))}function Td(i,e){i.yu.Ot(e.targetId),Uu(i).zo(e)}function rm(i,e){i.yu.Ot(e),Uu(i).Ho(e)}function Nf(i){i.yu=new mp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),Uu(i).start(),i.gu.uu()}function Fp(i){return Vu(i)&&!Uu(i).No()&&i.du.size>0}function Vu(i){return 0===_(i)._u.size}function im(i){i.yu=void 0}function S_(i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,d.Z)(function*(i){i.du.forEach((e,t)=>{Td(i,e)})}),Lp.apply(this,arguments)}function sm(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,d.Z)(function*(i,e){im(i),Fp(i)?(i.gu.hu(e),Nf(i)):i.gu.set("Unknown")}),Vp.apply(this,arguments)}function om(i,e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,d.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Zd&&2===e.state&&e.cause)try{yield(o=(0,d.Z)(function*(l,f){const y=f.cause;for(const A of f.targetIds)l.du.has(A)&&(yield l.remoteSyncer.rejectListen(A,y),l.du.delete(A),l.yu.removeTarget(A))}),function(l,f){return o.apply(this,arguments)})(i,e)}catch(o){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Id(i,o)}else if(e instanceof Jl?i.yu.Kt(e):e instanceof oc?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(At.min()))try{const o=yield y_(i.localStore);t.compareTo(o)>=0&&(yield function(l,f){const y=l.yu.Zt(f);return y.targetChanges.forEach((A,H)=>{if(A.resumeToken.approximateByteSize()>0){const K=l.du.get(H);K&&l.du.set(H,K.withResumeToken(A.resumeToken,f))}}),y.targetMismatches.forEach(A=>{const H=l.du.get(A);if(!H)return;l.du.set(A,H.withResumeToken(ds.EMPTY_BYTE_STRING,H.snapshotVersion)),rm(l,A);const K=new va(H.target,A,1,H.sequenceNumber);Td(l,K)}),l.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){St("RemoteStore","Failed to raise snapshot:",o),yield Id(i,o)}var o}),Mf.apply(this,arguments)}function Id(i,e,t){return am.apply(this,arguments)}function am(){return am=(0,d.Z)(function*(i,e,t){if(!Os(e))throw e;i._u.add(1),yield Ed(i),i.gu.set("Offline"),t||(t=()=>y_(i.localStore)),i.asyncQueue.enqueueRetryable((0,d.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Dd(i)}))}),am.apply(this,arguments)}function Of(i,e){return e().catch(t=>Id(i,t,e))}function Sd(i){return lm.apply(this,arguments)}function lm(){return lm=(0,d.Z)(function*(i){const e=_(i),t=au(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ad(e);)try{const l=yield qg(e.localStore,o);if(null===l){0===e.fu.length&&t.Fo();break}o=l.batchId,um(e,l)}catch(l){yield Id(e,l)}Bp(e)&&dh(e)}),lm.apply(this,arguments)}function Ad(i){return Vu(i)&&i.fu.length<10}function um(i,e){i.fu.push(e);const t=au(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Bp(i){return Vu(i)&&!au(i).No()&&i.fu.length>0}function dh(i){au(i).start()}function Fl(i){return xf.apply(this,arguments)}function xf(){return xf=(0,d.Z)(function*(i){au(i).eu()}),xf.apply(this,arguments)}function A_(i){return hh.apply(this,arguments)}function hh(){return hh=(0,d.Z)(function*(i){const e=au(i);for(const t of i.fu)e.Xo(t.mutations)}),hh.apply(this,arguments)}function Bu(i,e,t){return fh.apply(this,arguments)}function fh(){return fh=(0,d.Z)(function*(i,e,t){const o=i.fu.shift(),l=th.from(o,e,t);yield Of(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Sd(i)}),fh.apply(this,arguments)}function cm(i,e){return ph.apply(this,arguments)}function ph(){return ph=(0,d.Z)(function*(i,e){var t;e&&au(i).Yo&&(yield(t=(0,d.Z)(function*(o,l){if(sf(f=l.code)&&f!==v.ABORTED){const y=o.fu.shift();au(o).Mo(),yield Of(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield Sd(o)}var f}),function(o,l){return t.apply(this,arguments)})(i,e)),Bp(i)&&dh(i)}),ph.apply(this,arguments)}function N_(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,d.Z)(function*(i,e){const t=_(i);t.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const o=Vu(t);t._u.add(3),yield Ed(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Dd(t)}),Rf.apply(this,arguments)}function Nd(){return Nd=(0,d.Z)(function*(i,e){const t=_(i);e?(t._u.delete(2),yield Dd(t)):e||(t._u.add(2),yield Ed(t),t.gu.set("Unknown"))}),Nd.apply(this,arguments)}function Uu(i){return i.pu||(i.pu=function(e,t,o){const l=_(e);return l.su(),new Pp(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:S_.bind(null,i),Zr:sm.bind(null,i),Wo:om.bind(null,i)}),i.wu.push(function(){var e=(0,d.Z)(function*(t){t?(i.pu.Mo(),Fp(i)?Nf(i):i.gu.set("Unknown")):(yield i.pu.stop(),im(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function au(i){return i.Iu||(i.Iu=function(e,t,o){const l=_(e);return l.su(),new kp(t,l.connection,l.authCredentials,l.appCheckCredentials,l.yt,o)}(i.datastore,i.asyncQueue,{Yr:Fl.bind(null,i),Zr:cm.bind(null,i),tu:A_.bind(null,i),Zo:Bu.bind(null,i)}),i.wu.push(function(){var e=(0,d.Z)(function*(t){t?(i.Iu.Mo(),yield Sd(i)):(yield i.Iu.stop(),i.fu.length>0&&(St("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class gh{constructor(e,t,o,l,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=f,this.deferred=new q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,l,f){const y=Date.now()+o,A=new gh(e,t,y,l,f);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dc(i,e){if(Ri("AsyncQueue",`${e}: ${i}`),Os(i))return new O(v.UNAVAILABLE,`${e}: ${i}`);throw i}class mh{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Ot.comparator(t.key,o.key):(t,o)=>Ot.comparator(t.key,o.key),this.keyedMap=Fc(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new mh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,f=o.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new mh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class hm{constructor(){this.Tu=new ri(Ot.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):nn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Md{constructor(e,t,o,l,f,y,A,H,K){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=A,this.excludesMetadataChanges=H,this.hasCachedResults=K}static fromInitialDocuments(e,t,o,l,f){const y=[];return t.forEach(A=>{y.push({type:0,doc:A})}),new Md(e,t,mh.emptySet(t),y,o,l,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class M_{constructor(){this.Au=void 0,this.listeners=[]}}class O_{constructor(){this.queries=new El(e=>$d(e),Xu),this.onlineState="Unknown",this.Ru=new Set}}function fm(){return fm=(0,d.Z)(function*(i,e){const t=_(i),o=e.query;let l=!1,f=t.queries.get(o);if(f||(l=!0,f=new M_),l)try{f.Au=yield t.onListen(o)}catch(y){const A=Dc(y,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,f),f.listeners.push(e),e.bu(t.onlineState),f.Au&&e.Pu(f.Au)&&$p(t)}),fm.apply(this,arguments)}function pm(){return pm=(0,d.Z)(function*(i,e){const t=_(i),o=e.query;let l=!1;const f=t.queries.get(o);if(f){const y=f.listeners.indexOf(e);y>=0&&(f.listeners.splice(y,1),l=0===f.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),pm.apply(this,arguments)}function gm(i,e){const t=_(i);let o=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const A of y.listeners)A.Pu(l)&&(o=!0);y.Au=l}}o&&$p(t)}function mm(i,e,t){const o=_(i),l=o.queries.get(e);if(l)for(const f of l.listeners)f.onError(t);o.queries.delete(e)}function $p(i){i.Ru.forEach(e=>{e.next()})}class _h{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Md(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class P_{constructor(e){this.key=e}}class k_{constructor(e){this.key=e}}class F_{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zr(),this.mutatedKeys=zr(),this.Gu=tc(e),this.Qu=new mh(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new hm,l=t?t.Qu:this.Qu;let f=t?t.mutatedKeys:this.mutatedKeys,y=l,A=!1;const H="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,K="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ie,De)=>{const Qe=l.get(ie),Tt=jd(this.query,De)?De:null,kt=!!Qe&&this.mutatedKeys.has(Qe.key),gn=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let Gn=!1;Qe&&Tt?Qe.data.isEqual(Tt.data)?kt!==gn&&(o.track({type:3,doc:Tt}),Gn=!0):this.Hu(Qe,Tt)||(o.track({type:2,doc:Tt}),Gn=!0,(H&&this.Gu(Tt,H)>0||K&&this.Gu(Tt,K)<0)&&(A=!0)):!Qe&&Tt?(o.track({type:0,doc:Tt}),Gn=!0):Qe&&!Tt&&(o.track({type:1,doc:Qe}),Gn=!0,(H||K)&&(A=!0)),Gn&&(Tt?(y=y.add(Tt),f=gn?f.add(ie):f.delete(ie)):(y=y.delete(ie),f=f.delete(ie)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ie="F"===this.query.limitType?y.last():y.first();y=y.delete(ie.key),f=f.delete(ie.key),o.track({type:1,doc:ie})}return{Qu:y,zu:o,$i:A,mutatedKeys:f}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const f=e.zu.Eu();f.sort((K,ie)=>function(De,Qe){const Tt=kt=>{switch(kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Tt(De)-Tt(Qe)}(K.type,ie.type)||this.Gu(K.doc,ie.doc)),this.Ju(o);const y=t?this.Yu():[],A=0===this.Ku.size&&this.current?1:0,H=A!==this.Uu;return this.Uu=A,0!==f.length||H?{snapshot:new Md(this.query,e.Qu,l,f,e.mutatedKeys,0===A,H,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:y}:{Xu:y}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=zr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new k_(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new P_(o))}),t}tc(e){this.qu=e.Hi,this.Ku=zr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Md.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class gv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class mv{constructor(e){this.key=e,this.nc=!1}}class _v{constructor(e,t,o,l,f,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.sc={},this.ic=new El(A=>$d(A),Xu),this.rc=new Map,this.oc=new Set,this.uc=new ri(Ot.comparator),this.cc=new Map,this.ac=new _d,this.hc={},this.lc=new Map,this.fc=Zs.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ec(i,e){return yh.apply(this,arguments)}function yh(){return yh=(0,d.Z)(function*(i,e){const t=Hf(i);let o,l;const f=t.ic.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),l=f.view.ec();else{const y=yield bd(t.localStore,ka(e));t.isPrimaryClient&&Af(t.remoteStore,y);const A=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,l=yield jp(t,e,o,"current"===A,y.resumeToken)}return l}),yh.apply(this,arguments)}function jp(i,e,t,o,l){return kf.apply(this,arguments)}function kf(){return kf=(0,d.Z)(function*(i,e,t,o,l){i._c=(De,Qe,Tt)=>{return(kt=(0,d.Z)(function*(gn,Gn,Us,Eo){let ws=Gn.view.Wu(Us);ws.$i&&(ws=yield Cf(gn.localStore,Gn.query,!1).then(({documents:ps})=>Gn.view.Wu(ps,ws)));const ba=Eo&&Eo.targetChanges.get(Gn.targetId),xs=Gn.view.applyChanges(ws,gn.isPrimaryClient,ba);return bh(gn,Gn.targetId,xs.Xu),xs.snapshot}),function(gn,Gn,Us,Eo){return kt.apply(this,arguments)})(i,De,Qe,Tt);var kt};const f=yield Cf(i.localStore,e,!0),y=new F_(e,f.Hi),A=y.Wu(f.documents),H=Eu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),K=y.applyChanges(A,i.isPrimaryClient,H);bh(i,t,K.Xu);const ie=new gv(e,t,y);return i.ic.set(e,ie),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),K.snapshot}),kf.apply(this,arguments)}function Hp(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,d.Z)(function*(i,e){const t=_(i),o=t.ic.get(e),l=t.rc.get(o.targetId);if(l.length>1)return t.rc.set(o.targetId,l.filter(f=>!Xu(f,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Kc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Cd(t.remoteStore,o.targetId),Yc(t,o.targetId)}).catch(ki))):(Yc(t,o.targetId),yield Kc(t.localStore,o.targetId,!0))}),Ff.apply(this,arguments)}function Wp(){return Wp=(0,d.Z)(function*(i,e,t){const o=ng(i);try{const l=yield function(f,y){const A=_(f),H=gr.now(),K=y.reduce((Qe,Tt)=>Qe.add(Tt.key),zr());let ie,De;return A.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let Tt=La(),kt=zr();return A.Gi.getEntries(Qe,K).next(gn=>{Tt=gn,Tt.forEach((Gn,Us)=>{Us.isValidDocument()||(kt=kt.add(Gn))})}).next(()=>A.localDocuments.getOverlayedDocuments(Qe,Tt)).next(gn=>{ie=gn;const Gn=[];for(const Us of y){const Eo=zd(Us,ie.get(Us.key).overlayedDocument);null!=Eo&&Gn.push(new Mo(Us.key,Eo,gu(Eo.value.mapValue),rs.exists(!0)))}return A.mutationQueue.addMutationBatch(Qe,H,Gn,y)}).next(gn=>{De=gn;const Gn=gn.applyToLocalDocumentSet(ie,kt);return A.documentOverlayCache.saveOverlays(Qe,gn.batchId,Gn)})}).then(()=>({batchId:De.batchId,changes:sc(ie)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,y,A){let H=f.hc[f.currentUser.toKey()];H||(H=new ri(Qt)),H=H.insert(y,A),f.hc[f.currentUser.toKey()]=H}(o,l.batchId,t),yield Ll(o,l.changes),yield Sd(o.remoteStore)}catch(l){const f=Dc(l,"Failed to persist write");t.reject(f)}}),Wp.apply(this,arguments)}function $u(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,d.Z)(function*(i,e){const t=_(i);try{const o=yield zg(t.localStore,e);e.targetChanges.forEach((l,f)=>{const y=t.cc.get(f);y&&(mn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.nc=!0:l.modifiedDocuments.size>0?mn(y.nc):l.removedDocuments.size>0&&(mn(y.nc),y.nc=!1))}),yield Ll(t,o,e)}catch(o){yield ki(o)}}),Lf.apply(this,arguments)}function _m(i,e,t){const o=_(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ic.forEach((f,y)=>{const A=y.view.bu(e);A.snapshot&&l.push(A.snapshot)}),function(f,y){const A=_(f);A.onlineState=y;let H=!1;A.queries.forEach((K,ie)=>{for(const De of ie.listeners)De.bu(y)&&(H=!0)}),H&&$p(A)}(o.eventManager,e),l.length&&o.sc.Wo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function L_(i,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,d.Z)(function*(i,e,t){const o=_(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.cc.get(e),f=l&&l.key;if(f){let y=new ri(Ot.comparator);y=y.insert(f,fs.newNoDocument(f,At.min()));const A=zr().add(f),H=new Ql(At.min(),new Map,new si(Qt),y,A);yield $u(o,H),o.uc=o.uc.remove(f),o.cc.delete(e),Uf(o)}else yield Kc(o.localStore,e,!1).then(()=>Yc(o,e,t)).catch(ki)}),Vf.apply(this,arguments)}function V_(i,e){return zp.apply(this,arguments)}function zp(){return zp=(0,d.Z)(function*(i,e){const t=_(i),o=e.batch.batchId;try{const l=yield Wg(t.localStore,e);Od(t,o,null),vh(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ll(t,l)}catch(l){yield ki(l)}}),zp.apply(this,arguments)}function Bf(i,e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,d.Z)(function*(i,e,t){const o=_(i);try{const l=yield function(f,y){const A=_(f);return A.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let K;return A.mutationQueue.lookupMutationBatch(H,y).next(ie=>(mn(null!==ie),K=ie.keys(),A.mutationQueue.removeMutationBatch(H,ie))).next(()=>A.mutationQueue.performConsistencyCheck(H)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(H,K,y)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(H,K)).next(()=>A.localDocuments.getDocuments(H,K))})}(o.localStore,e);Od(o,e,t),vh(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ll(o,l)}catch(l){yield ki(l)}}),Cc.apply(this,arguments)}function vh(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Od(i,e,t){const o=_(i);let l=o.hc[o.currentUser.toKey()];if(l){const f=l.get(e);f&&(t?f.reject(t):f.resolve(),l=l.remove(e)),o.hc[o.currentUser.toKey()]=l}}function Yc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Kp(i,o)})}function Kp(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Cd(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Uf(i))}function bh(i,e,t){for(const o of t)o instanceof P_?(i.ac.addReference(o.key,e),Yp(i,o)):o instanceof k_?(St("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Kp(i,o.key)):nn()}function Yp(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(St("SyncEngine","New document in limbo: "+t),i.oc.add(o),Uf(i))}function Uf(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new Ot(Hn.fromString(e)),o=i.fc.next();i.cc.set(o,new mv(t)),i.uc=i.uc.insert(t,o),Af(i.remoteStore,new va(ka(Gl(t.path)),o,2,Bs.at))}}function Ll(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,d.Z)(function*(i,e,t){const o=_(i),l=[],f=[],y=[];var A;o.ic.isEmpty()||(o.ic.forEach((A,H)=>{y.push(o._c(H,e,t).then(K=>{if((K||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,K?.fromCache?"not-current":"current"),K){l.push(K);const ie=bc.Ci(H.targetId,K);f.push(ie)}}))}),yield Promise.all(y),o.sc.Wo(l),yield(A=(0,d.Z)(function*(H,K){const ie=_(H);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",De=>et.forEach(K,Qe=>et.forEach(Qe.Si,Tt=>ie.persistence.referenceDelegate.addReference(De,Qe.targetId,Tt)).next(()=>et.forEach(Qe.Di,Tt=>ie.persistence.referenceDelegate.removeReference(De,Qe.targetId,Tt)))))}catch(De){if(!Os(De))throw De;St("LocalStore","Failed to update sequence numbers: "+De)}for(const De of K){const Qe=De.targetId;if(!De.fromCache){const Tt=ie.qi.get(Qe),gn=Tt.withLastLimboFreeSnapshotVersion(Tt.snapshotVersion);ie.qi=ie.qi.insert(Qe,gn)}}}),function(H,K){return A.apply(this,arguments)})(o.localStore,f))}),Zp.apply(this,arguments)}function yv(i,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,d.Z)(function*(i,e){const t=_(i);if(!t.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const o=yield __(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(y=>{y.forEach(A=>{A.reject(new O(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ll(t,o.ji)}var l}),Qp.apply(this,arguments)}function ym(i,e){const t=_(i),o=t.cc.get(e);if(o&&o.nc)return zr().add(o.key);{let l=zr();const f=t.rc.get(e);if(!f)return l;for(const y of f){const A=t.ic.get(y);l=l.unionWith(A.view.ju)}return l}}function Hf(i){const e=_(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$u.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ym.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L_.bind(null,e),e.sc.Wo=gm.bind(null,e.eventManager),e.sc.wc=mm.bind(null,e.eventManager),e}function ng(i){const e=_(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bf.bind(null,e),e}class Em{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,d.Z)(function*(){t.yt=wd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Hg(i,e,t,o){return new m_(i,e,t,o)}(this.persistence,new ou,e.initialUser,this.yt)}yc(e){return new oh(kl.Bs,this.yt)}gc(e){return new Zg}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Il{initialize(e,t){var o=this;return(0,d.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>_m(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=yv.bind(null,o.syncEngine),yield function dm(i,e){return Nd.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new O_}createDatastore(e){const t=wd(e.databaseInfo.databaseId),o=new E_(e.databaseInfo);return new T_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,f=A=>_m(this.syncEngine,A,0),y=Jg.C()?new Jg:new Qg,new I_(t,o,l,f,y);var t,o,l,f,y}createSyncEngine(e,t){return function(o,l,f,y,A,H,K){const ie=new _v(o,l,f,y,A,H);return K&&(ie.dc=!0),ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,d.Z)(function*(t){const o=_(t);St("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Ed(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Dh(i,e,t){if(!t)throw new O(v.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Tm(i){if(!Ot.isDocumentKey(i))throw new O(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function z_(i){if(Ot.isDocumentKey(i))throw new O(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Eh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":nn()}function Ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new O(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eh(i);throw new O(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const Sm=new Map;class Gf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new O(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function W_(i,e,t,o){if(!0===e&&!0===o)throw new O(v.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new O(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new we;switch(t.type){case"gapi":return new Jt(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new O(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sm.get(e);t&&(St("ComponentProvider","Removing Datastore"),Sm.delete(e),t.terminate())}(this),Promise.resolve()}}class uo{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class da{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class fl extends da{constructor(e,t,o){super(e,t,Gl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Ot(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function vv(i,e,...t){if(i=(0,Te.m9)(i),Dh("collection","path",e),i instanceof Ch){const o=Hn.fromString(e,...t);return z_(o),new fl(i,null,o)}{if(!(i instanceof uo||i instanceof fl))throw new O(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Hn.fromString(e,...t));return z_(o),new fl(i.firestore,null,o)}}function K_(i,e,...t){if(i=(0,Te.m9)(i),1===arguments.length&&(e=jn.R()),Dh("doc","path",e),i instanceof Ch){const o=Hn.fromString(e,...t);return Tm(o),new uo(i,null,new Ot(o))}{if(!(i instanceof uo||i instanceof fl))throw new O(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Hn.fromString(e,...t));return Tm(o),new uo(i.firestore,i instanceof fl?i.converter:null,new Ot(o))}}class Th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class og{constructor(e,t,o,l){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=gi.UNAUTHENTICATED,this.clientId=jn.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,d.Z)(function*(A){St("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(St("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Dc(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function ag(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,d.Z)(function*(f){o.isEqual(f)||(yield __(e.localStore,f),o=f)});return function(f){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),lg.apply(this,arguments)}function Nm(i,e){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,d.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ug(i);St("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>N_(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,f)=>N_(e.remoteStore,f)),i.onlineComponents=e}),Zc.apply(this,arguments)}function ug(i){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,d.Z)(function*(i){return i.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield ag(i,new Em)),i.offlineComponents}),Mm.apply(this,arguments)}function qf(i){return Om.apply(this,arguments)}function Om(){return Om=(0,d.Z)(function*(i){return i.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield Nm(i,new Il)),i.onlineComponents}),Om.apply(this,arguments)}function xd(i){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,d.Z)(function*(i){const e=yield qf(i),t=e.eventManager;return t.onListen=Ec.bind(null,e.syncEngine),t.onUnlisten=Hp.bind(null,e.syncEngine),t}),Sh.apply(this,arguments)}class Ah{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lu(this,"async_queue_retry"),this.Wc=()=>{const t=ch();t&&St("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new q;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,d.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Os(t))throw t;St("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(f){let y=f.message||"";return f.stack&&(y=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),y}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=gh.createAndSchedule(this,e,t,o,f=>this.Yc(f));return this.Uc.push(l),l}zc(){this.Kc&&nn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,d.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function dg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Js extends Ch{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new Ah,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Sc(this),this._firestoreClient.terminate()}}function Nh(i,e){const t="object"==typeof i?i:(0,Y.Mq)(),o="string"==typeof i?i:e||"(default)",l=(0,Y.qX)(t,"firestore").getImmediate({identifier:o});if(!l._initialized){const f=(0,Te.P0)("firestore");f&&function q_(i,e,t,o={}){var l;const f=(i=Ii(i,Ch))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&Pi("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,A;if("string"==typeof o.mockUserToken)y=o.mockUserToken,A=gi.MOCK_USER;else{y=(0,Te.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new O(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new gi(H)}i._authCredentials=new Ee(new re(y,A))}}(l,...f)}return l}function Si(i){return i._firestoreClient||Sc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Sc(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new gl(i._databaseId,f,i._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var f,A;i._firestoreClient=new og(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(ds.fromBase64String(e))}catch(t){throw new O(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new O(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xf{constructor(e){this._methodName=e}}class ep{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const Fm=/^__.*__$/;class Lm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ks(e,this.data,t,this.fieldTransforms)}}class fg{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Lh{constructor(e,t,o,l,f,y){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=l,void 0===f&&this.na(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Lh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.ua(e),l}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:o,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Pd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(pg(this.sa)&&Fm.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ry{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||wd(e)}da(e,t,o,l=!1){return new Lh({sa:e,methodName:t,fa:o,path:br.emptyPath(),oa:!1,la:l},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Rd(i){const e=i._freezeSettings(),t=wd(i._databaseId);return new ry(i._databaseId,!!e.ignoreUndefinedProperties,t)}function tp(i,e,t,o,l,f={}){const y=i.da(f.merge||f.mergeFields?2:0,e,t,l);sp("Data must be an object, but it was:",y,o);const A=ip(o,y);let H,K;if(f.merge)H=new ys(y.fieldMask),K=y.fieldTransforms;else if(f.mergeFields){const ie=[];for(const De of f.mergeFields){const Qe=$h(e,De,t);if(!y.contains(Qe))throw new O(v.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);yg(ie,Qe)||ie.push(Qe)}H=new ys(ie),K=y.fieldTransforms.filter(De=>H.covers(De.field))}else H=null,K=y.fieldTransforms;return new Lm(new vs(A),H,K)}class Vh extends Xf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function Hu(i,e){if(_g(i=(0,Te.m9)(i)))return sp("Unsupported field value:",e,i),ip(i,e);if(i instanceof Xf)return function(t,o){if(!pg(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const l=[];let f=0;for(const y of t){let A=Hu(y,o.aa(f));null==A&&(A={nullValue:"NULL_VALUE"}),l.push(A),f++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Te.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hd(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=gr.fromDate(t);return{timestampValue:ll(o.yt,l)}}if(t instanceof gr){const l=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ll(o.yt,l)}}if(t instanceof ep)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sl)return{bytesValue:Qd(o.yt,t._byteString)};if(t instanceof uo){const l=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(l))throw o.ha(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ul(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${Eh(t)}`)}(i,e)}function ip(i,e){const t={};return Ti(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ka(i,(o,l)=>{const f=Hu(l,e.ra(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function _g(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gr||i instanceof ep||i instanceof Sl||i instanceof uo||i instanceof Xf)}function sp(i,e,t){if(!_g(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Eh(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function $h(i,e,t){if((e=(0,Te.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return jh(i,e);throw Pd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Bm=new RegExp("[~\\*/\\[\\]]");function jh(i,e,t){if(e.search(Bm)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Pd(i,e,t,o,l){const f=o&&!o.isEmpty(),y=void 0!==l;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let H="";return(f||y)&&(H+=" (found",f&&(H+=` in field ${o}`),y&&(H+=` in document ${l}`),H+=")"),new O(v.INVALID_ARGUMENT,A+i+H)}function yg(i,e){return i.some(t=>t.isEqual(e))}class vg{constructor(e,t,o,l,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Um(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Um extends vg{data(){return super.data()}}function Hh(i,e){return"string"==typeof e?jh(i,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}class ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fd extends vg{constructor(e,t,o,l,f,y){super(e,t,o,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Hh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class qh extends Fd{data(e={}){return super.data(e)}}class Ld{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new ed(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new qh(this._firestore,this._userDataWriter,o.key,o,new ed(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new qh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ed(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const A=new qh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new ed(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,K=-1;return 0!==y.type&&(H=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),1!==y.type&&(f=f.add(y.doc),K=f.indexOf(y.doc.key)),{type:qm(y.type),doc:A,oldIndex:H,newIndex:K}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class lu extends class zm{convertValue(e,t="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){const o={};return Ka(e.fields,(l,f)=>{o[l]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new ep(Fi(e.latitude),Fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=hs(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const t=Ya(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Hn.fromString(e);mn(cr(o));const l=new Bo(o.get(1),o.get(3)),f=new Ot(o.popFirst(5));return l.isEqual(t)||Ri(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,t)}}function Ym(i,e,t,...o){i=Ii(i,uo);const l=Ii(i.firestore,Js),f=Rd(l);let y;return y="string"==typeof(e=(0,Te.m9)(e))||e instanceof Xc?function rp(i,e,t,o,l,f){const y=i.da(1,e,t),A=[$h(e,o,t)],H=[l];if(f.length%2!=0)throw new O(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<f.length;Qe+=2)A.push($h(e,f[Qe])),H.push(f[Qe+1]);const K=[],ie=vs.empty();for(let Qe=A.length-1;Qe>=0;--Qe)if(!yg(K,A[Qe])){const Tt=A[Qe];let kt=H[Qe];kt=(0,Te.m9)(kt);const gn=y.ca(Tt);if(kt instanceof Vh)K.push(Tt);else{const Gn=Hu(kt,gn);null!=Gn&&(K.push(Tt),ie.set(Tt,Gn))}}const De=new ys(K);return new fg(ie,De,y.fieldTransforms)}(f,"updateDoc",i._key,e,t,o):function Uh(i,e,t,o){const l=i.da(1,e,t);sp("Data must be an object, but it was:",l,o);const f=[],y=vs.empty();Ka(o,(H,K)=>{const ie=jh(e,H,t);K=(0,Te.m9)(K);const De=l.ca(ie);if(K instanceof Vh)f.push(ie);else{const Qe=Hu(K,De);null!=Qe&&(f.push(ie),y.set(ie,Qe))}});const A=new ys(f);return new fg(y,A,l.fieldTransforms)}(f,"updateDoc",i._key,e),Kh(l,[y.toMutation(i._key,rs.exists(!0))])}function Zm(i){return Kh(Ii(i.firestore,Js),[new Dl(i._key,rs.none())])}function fy(i,e){const t=Ii(i.firestore,Js),o=K_(i),l=function lp(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return Kh(t,[tp(Rd(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,rs.exists(!1))]).then(()=>o)}function py(i,...e){var t,o,l;i=(0,Te.m9)(i);let f={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||dg(e[y])||(f=e[y],y++);const A={includeMetadataChanges:f.includeMetadataChanges};if(dg(e[y])){const De=e[y];e[y]=null===(t=De.next)||void 0===t?void 0:t.bind(De),e[y+1]=null===(o=De.error)||void 0===o?void 0:o.bind(De),e[y+2]=null===(l=De.complete)||void 0===l?void 0:l.bind(De)}let H,K,ie;if(i instanceof uo)K=Ii(i.firestore,Js),ie=Gl(i._key.path),H={next:De=>{e[y]&&e[y](function Yh(i,e,t){const o=t.docs.get(e._key),l=new lu(i);return new Fd(i,l,e._key,o,new ed(t.hasPendingWrites,t.fromCache),e.converter)}(K,i,De))},error:e[y+1],complete:e[y+2]};else{const De=Ii(i,da);K=Ii(De.firestore,Js),ie=De._query;const Qe=new lu(K);H={next:Tt=>{e[y]&&e[y](new Ld(K,Qe,De,Tt))},error:e[y+1],complete:e[y+2]},function bg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new O(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(De,Qe,Tt,kt){const gn=new Th(kt),Gn=new _h(Qe,gn,Tt);return De.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Pf(i,e){return fm.apply(this,arguments)}(yield xd(De),Gn)})),()=>{gn.bc(),De.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Up(i,e){return pm.apply(this,arguments)}(yield xd(De),Gn)}))}}(Si(K),ie,A,H)}function Kh(i,e){return function(t,o){const l=new q;return t.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function Gp(i,e,t){return Wp.apply(this,arguments)}(yield function Yf(i){return qf(i).then(e=>e.syncEngine)}(t),o,l)})),l.promise}(Si(i),e)}!function(i,e=!0){Ji=Y.Jn,(0,Y.Xd)(new fe.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const f=t.getProvider("app").getImmediate(),y=new Js(new Ge(t.getProvider("auth-internal")),new pr(t.getProvider("app-check-internal")),function(A,H){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new O(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(A.options.projectId,H)}(f,o),f);return l=Object.assign({useFetchStreams:e},l),y._setSettings(l),y},"PUBLIC").setMultipleInstances(!0)),(0,Y.KN)(fa,"3.8.1",i),(0,Y.KN)(fa,"3.8.1","esm2017")}()},2090:(pn,lt,Z)=>{Z.d(lt,{$s:()=>Pt,BH:()=>gt,L:()=>Re,LL:()=>Vn,P0:()=>on,Pz:()=>ut,Sg:()=>ke,US:()=>ce,ZR:()=>Dn,aH:()=>Ft,b$:()=>Le,eu:()=>or,hl:()=>cn,m9:()=>Bn,ne:()=>Vr,pd:()=>Es,q4:()=>Ht,ru:()=>Ae,tV:()=>Xe,uI:()=>it,vZ:()=>dr,w1:()=>Fe,xO:()=>Zn,xb:()=>Wn,z$:()=>Rt,zI:()=>hn,zd:()=>Qn});const Pe=function(ge){const pe=[];let Me=0;for(let rt=0;rt<ge.length;rt++){let qe=ge.charCodeAt(rt);qe<128?pe[Me++]=qe:qe<2048?(pe[Me++]=qe>>6|192,pe[Me++]=63&qe|128):55296==(64512&qe)&&rt+1<ge.length&&56320==(64512&ge.charCodeAt(rt+1))?(qe=65536+((1023&qe)<<10)+(1023&ge.charCodeAt(++rt)),pe[Me++]=qe>>18|240,pe[Me++]=qe>>12&63|128,pe[Me++]=qe>>6&63|128,pe[Me++]=63&qe|128):(pe[Me++]=qe>>12|224,pe[Me++]=qe>>6&63|128,pe[Me++]=63&qe|128)}return pe},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,pe){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Me=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let qe=0;qe<ge.length;qe+=3){const Vt=ge[qe],bn=qe+1<ge.length,kn=bn?ge[qe+1]:0,Pr=qe+2<ge.length,hr=Pr?ge[qe+2]:0;let oe=(15&kn)<<2|hr>>6,je=63&hr;Pr||(je=64,bn||(oe=64)),rt.push(Me[Vt>>2],Me[(3&Vt)<<4|kn>>4],Me[oe],Me[je])}return rt.join("")},encodeString(ge,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(ge):this.encodeByteArray(Pe(ge),pe)},decodeString(ge,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(ge):function(ge){const pe=[];let Me=0,rt=0;for(;Me<ge.length;){const qe=ge[Me++];if(qe<128)pe[rt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Vt=ge[Me++];pe[rt++]=String.fromCharCode((31&qe)<<6|63&Vt)}else if(qe>239&&qe<365){const Pr=((7&qe)<<18|(63&ge[Me++])<<12|(63&ge[Me++])<<6|63&ge[Me++])-65536;pe[rt++]=String.fromCharCode(55296+(Pr>>10)),pe[rt++]=String.fromCharCode(56320+(1023&Pr))}else{const Vt=ge[Me++],bn=ge[Me++];pe[rt++]=String.fromCharCode((15&qe)<<12|(63&Vt)<<6|63&bn)}}return pe.join("")}(this.decodeStringToByteArray(ge,pe))},decodeStringToByteArray(ge,pe){this.init_();const Me=pe?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let qe=0;qe<ge.length;){const Vt=Me[ge.charAt(qe++)],kn=qe<ge.length?Me[ge.charAt(qe)]:0;++qe;const hr=qe<ge.length?Me[ge.charAt(qe)]:64;++qe;const me=qe<ge.length?Me[ge.charAt(qe)]:64;if(++qe,null==Vt||null==kn||null==hr||null==me)throw Error();rt.push(Vt<<2|kn>>4),64!==hr&&(rt.push(kn<<4&240|hr>>2),64!==me&&rt.push(hr<<6&192|me))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}},Re=function(ge){return function(ge){const pe=Pe(ge);return ce.encodeByteArray(pe,!0)}(ge).replace(/\./g,"")},Xe=function(ge){try{return ce.decodeString(ge,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null},zt=()=>{try{return function _t(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=ge&&Xe(ge[1]);return pe&&JSON.parse(pe)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},Ht=ge=>{var pe,Me;return null===(Me=null===(pe=zt())||void 0===pe?void 0:pe.emulatorHosts)||void 0===Me?void 0:Me[ge]},on=ge=>{const pe=Ht(ge);if(!pe)return;const Me=pe.lastIndexOf(":");if(Me<=0||Me+1===pe.length)throw new Error(`Invalid host ${pe} with no separate hostname and port!`);const rt=parseInt(pe.substring(Me+1),10);return"["===pe[0]?[pe.substring(1,Me-1),rt]:[pe.substring(0,Me),rt]},Ft=()=>{var ge;return null===(ge=zt())||void 0===ge?void 0:ge.config},ut=ge=>{var pe;return null===(pe=zt())||void 0===pe?void 0:pe[`_${ge}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,Me)=>{this.resolve=pe,this.reject=Me})}wrapCallback(pe){return(Me,rt)=>{Me?this.reject(Me):this.resolve(rt),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(Me):pe(Me,rt))}}}function ke(ge,pe){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=pe||"demo-project",qe=ge.iat||0,Vt=ge.sub||ge.user_id;if(!Vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bn=Object.assign({iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:qe,exp:qe+3600,auth_time:qe,sub:Vt,user_id:Vt,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(bn)),""].join(".")}function Rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Ae(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){const ge=Rt();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function cn(){try{return"object"==typeof indexedDB}catch{return!1}}function or(){return new Promise((ge,pe)=>{try{let Me=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(rt);qe.onsuccess=()=>{qe.result.close(),Me||self.indexedDB.deleteDatabase(rt),ge(!0)},qe.onupgradeneeded=()=>{Me=!1},qe.onerror=()=>{var Vt;pe((null===(Vt=qe.error)||void 0===Vt?void 0:Vt.message)||"")}}catch(Me){pe(Me)}})}function hn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dn extends Error{constructor(pe,Me,rt){super(Me),this.code=pe,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}}class Vn{constructor(pe,Me,rt){this.service=pe,this.serviceName=Me,this.errors=rt}create(pe,...Me){const rt=Me[0]||{},qe=`${this.service}/${pe}`,Vt=this.errors[pe],bn=Vt?function Sr(ge,pe){return ge.replace(Ar,(Me,rt)=>{const qe=pe[rt];return null!=qe?String(qe):`<${rt}?>`})}(Vt,rt):"Error";return new Dn(qe,`${this.serviceName}: ${bn} (${qe}).`,rt)}}const Ar=/\{\$([^}]+)}/g;function Wn(ge){for(const pe in ge)if(Object.prototype.hasOwnProperty.call(ge,pe))return!1;return!0}function dr(ge,pe){if(ge===pe)return!0;const Me=Object.keys(ge),rt=Object.keys(pe);for(const qe of Me){if(!rt.includes(qe))return!1;const Vt=ge[qe],bn=pe[qe];if(oi(Vt)&&oi(bn)){if(!dr(Vt,bn))return!1}else if(Vt!==bn)return!1}for(const qe of rt)if(!Me.includes(qe))return!1;return!0}function oi(ge){return null!==ge&&"object"==typeof ge}function Zn(ge){const pe=[];for(const[Me,rt]of Object.entries(ge))Array.isArray(rt)?rt.forEach(qe=>{pe.push(encodeURIComponent(Me)+"="+encodeURIComponent(qe))}):pe.push(encodeURIComponent(Me)+"="+encodeURIComponent(rt));return pe.length?"&"+pe.join("&"):""}function Qn(ge){const pe={};return ge.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[qe,Vt]=rt.split("=");pe[decodeURIComponent(qe)]=decodeURIComponent(Vt)}}),pe}function Es(ge){const pe=ge.indexOf("?");if(!pe)return"";const Me=ge.indexOf("#",pe);return ge.substring(pe,Me>0?Me:void 0)}function Vr(ge,pe){const Me=new Mt(ge,pe);return Me.subscribe.bind(Me)}class Mt{constructor(pe,Me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Me,this.task.then(()=>{pe(this)}).catch(rt=>{this.error(rt)})}next(pe){this.forEachObserver(Me=>{Me.next(pe)})}error(pe){this.forEachObserver(Me=>{Me.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,Me,rt){let qe;if(void 0===pe&&void 0===Me&&void 0===rt)throw new Error("Missing Observer.");qe=function qt(ge,pe){if("object"!=typeof ge||null===ge)return!1;for(const Me of pe)if(Me in ge&&"function"==typeof ge[Me])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:Me,complete:rt},void 0===qe.next&&(qe.next=Tr),void 0===qe.error&&(qe.error=Tr),void 0===qe.complete&&(qe.complete=Tr);const Vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Vt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let Me=0;Me<this.observers.length;Me++)this.sendOne(Me,pe)}sendOne(pe,Me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{Me(this.observers[pe])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}function Pt(ge,pe=1e3,Me=2){const rt=pe*Math.pow(Me,ge),qe=Math.round(.5*rt*(Math.random()-.5)*2);return Math.min(144e5,rt+qe)}function Bn(ge){return ge&&ge._delegate?ge._delegate:ge}},9154:(pn,lt,Z)=>{Z.d(lt,{k:()=>Y});var d=Z(8256);let Y=(()=>{class fe{constructor(){this.toasts=[]}show(Te,ce,Ce={}){this.toasts.push({text:Te,classname:`bg-${ce} text-light`,delay:5e3})}remove(Te){this.toasts=this.toasts.filter(ce=>ce!==Te)}clear(){this.toasts.splice(0,this.toasts.length)}}return fe.\u0275fac=function(Te){return new(Te||fe)},fe.\u0275prov=d.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},3491:(pn,lt,Z)=>{var d=Z(1481),Y=Z(8256),fe=Z(433);class Pe{}const ce="*";function le(W,_=null){return{type:2,steps:W,options:_}}function ye(W){return{type:6,styles:W,offset:null}}function Ft(W){Promise.resolve().then(W)}class ut{constructor(_=0,v=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_+v}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ft(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_=>_()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_){this._position=this.totalTime?_*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(O=>O()),v.length=0}}class gt{constructor(_){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_;let v=0,O=0,q=0;const re=this.players.length;0==re?Ft(()=>this._onFinish()):this.players.forEach(we=>{we.onDone(()=>{++v==re&&this._onFinish()}),we.onDestroy(()=>{++O==re&&this._onDestroy()}),we.onStart(()=>{++q==re&&this._onStart()})}),this.totalTime=this.players.reduce((we,Ee)=>Math.max(we,Ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this.players.forEach(_=>_.init())}onStart(_){this._onStartFns.push(_)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_=>_()),this._onStartFns=[])}onDone(_){this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_=>_.play())}pause(){this.players.forEach(_=>_.pause())}restart(){this.players.forEach(_=>_.restart())}finish(){this._onFinish(),this.players.forEach(_=>_.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_=>_.destroy()),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}reset(){this.players.forEach(_=>_.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_){const v=_*this.totalTime;this.players.forEach(O=>{const q=O.totalTime?Math.min(1,v/O.totalTime):1;O.setPosition(q)})}getPosition(){const _=this.players.reduce((v,O)=>null===v||O.totalTime>v.totalTime?O:v,null);return null!=_?_.getPosition():0}beforeDestroy(){this.players.forEach(_=>{_.beforeDestroy&&_.beforeDestroy()})}triggerCallback(_){const v="start"==_?this._onStartFns:this._onDoneFns;v.forEach(O=>O()),v.length=0}}function it(W){return new Y.vHH(3e3,!1)}function Mt(){return typeof window<"u"&&typeof window.document<"u"}function Ut(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qt(W){switch(W.length){case 0:return new ut;case 1:return W[0];default:return new gt(W)}}function Tr(W,_,v,O,q=new Map,re=new Map){const we=[],Ee=[];let Ge=-1,vt=null;if(O.forEach(Jt=>{const ln=Jt.get("offset"),pr=ln==Ge,nr=pr&&vt||new Map;Jt.forEach((Ln,jn)=>{let Qt=jn,Hr=Ln;if("offset"!==jn)switch(Qt=_.normalizePropertyName(Qt,we),Hr){case"!":Hr=q.get(jn);break;case ce:Hr=re.get(jn);break;default:Hr=_.normalizeStyleValue(jn,Qt,Hr,we)}nr.set(Qt,Hr)}),pr||Ee.push(nr),vt=nr,Ge=ln}),we.length)throw function lr(W){return new Y.vHH(3502,!1)}();return Ee}function Br(W,_,v,O){switch(_){case"start":W.onStart(()=>O(v&&Xn(v,"start",W)));break;case"done":W.onDone(()=>O(v&&Xn(v,"done",W)));break;case"destroy":W.onDestroy(()=>O(v&&Xn(v,"destroy",W)))}}function Xn(W,_,v){const re=Rr(W.element,W.triggerName,W.fromState,W.toState,_||W.phaseName,v.totalTime??W.totalTime,!!v.disabled),we=W._data;return null!=we&&(re._data=we),re}function Rr(W,_,v,O,q="",re=0,we){return{element:W,triggerName:_,fromState:v,toState:O,phaseName:q,totalTime:re,disabled:!!we}}function Rn(W,_,v){let O=W.get(_);return O||W.set(_,O=v),O}function Jr(W){const _=W.indexOf(":");return[W.substring(1,_),W.slice(_+1)]}let Kt=(W,_)=>!1,ai=(W,_,v)=>[],En=null;function Ai(W){const _=W.parentNode||W.host;return _===En?null:_}(Ut()||typeof Element<"u")&&(Mt()?(En=(()=>document.documentElement)(),Kt=(W,_)=>{for(;_;){if(_===W)return!0;_=Ai(_)}return!1}):Kt=(W,_)=>W.contains(_),ai=(W,_,v)=>{if(v)return Array.from(W.querySelectorAll(_));const O=W.querySelector(_);return O?[O]:[]});let Ye=null,Pt=!1;const ge=Kt,pe=ai;let rt=(()=>{class W{validateStyleProperty(v){return function an(W){Ye||(Ye=function Bn(){return typeof document<"u"?document.body:null}()||{},Pt=!!Ye.style&&"WebkitAppearance"in Ye.style);let _=!0;return Ye.style&&!function jt(W){return"ebkit"==W.substring(1,6)}(W)&&(_=W in Ye.style,!_&&Pt&&(_="Webkit"+W.charAt(0).toUpperCase()+W.slice(1)in Ye.style)),_}(v)}matchesElement(v,O){return!1}containsElement(v,O){return ge(v,O)}getParentElement(v){return Ai(v)}query(v,O,q){return pe(v,O,q)}computeStyle(v,O,q){return q||""}animate(v,O,q,re,we,Ee=[],Ge){return new ut(q,re)}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275prov=Y.Yz7({token:W,factory:W.\u0275fac}),W})(),qe=(()=>{class W{}return W.NOOP=new rt,W})();const Pr="ng-enter",hr="ng-leave",Ue="ng-trigger",me=".ng-trigger",oe="ng-animating",je=".ng-animating";function Oe(W){if("number"==typeof W)return W;const _=W.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:st(parseFloat(_[1]),_[2])}function st(W,_){return"s"===_?1e3*W:W}function wt(W,_,v){return W.hasOwnProperty("duration")?W:function en(W,_,v){let q,re=0,we="";if("string"==typeof W){const Ee=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ee)return _.push(it()),{duration:0,delay:0,easing:""};q=st(parseFloat(Ee[1]),Ee[2]);const Ge=Ee[3];null!=Ge&&(re=st(parseFloat(Ge),Ee[4]));const vt=Ee[5];vt&&(we=vt)}else q=W;if(!v){let Ee=!1,Ge=_.length;q<0&&(_.push(function Be(){return new Y.vHH(3100,!1)}()),Ee=!0),re<0&&(_.push(function ht(){return new Y.vHH(3101,!1)}()),Ee=!0),Ee&&_.splice(Ge,0,it())}return{duration:q,delay:re,easing:we}}(W,_,v)}function mt(W,_={}){return Object.keys(W).forEach(v=>{_[v]=W[v]}),_}function Zt(W){const _=new Map;return Object.keys(W).forEach(v=>{_.set(v,W[v])}),_}function fi(W,_=new Map,v){if(v)for(let[O,q]of v)_.set(O,q);for(let[O,q]of W)_.set(O,q);return _}function yr(W,_,v){return v?_+":"+v+";":""}function $i(W){let _="";for(let v=0;v<W.style.length;v++){const O=W.style.item(v);_+=yr(0,O,W.style.getPropertyValue(O))}for(const v in W.style)W.style.hasOwnProperty(v)&&!v.startsWith("_")&&(_+=yr(0,Gi(v),W.style[v]));W.setAttribute("style",_)}function wn(W,_,v){W.style&&(_.forEach((O,q)=>{const re=Mi(q);v&&!v.has(q)&&v.set(q,W.style[re]),W.style[re]=O}),Ut()&&$i(W))}function ti(W,_){W.style&&(_.forEach((v,O)=>{const q=Mi(O);W.style[q]=""}),Ut()&&$i(W))}function Ni(W){return Array.isArray(W)?1==W.length?W[0]:le(W):W}const bi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hi(W){let _=[];if("string"==typeof W){let v;for(;v=bi.exec(W);)_.push(v[1]);bi.lastIndex=0}return _}function Ns(W,_,v){const O=W.toString(),q=O.replace(bi,(re,we)=>{let Ee=_[we];return null==Ee&&(v.push(function Le(W){return new Y.vHH(3003,!1)}()),Ee=""),Ee.toString()});return q==O?W:q}function ii(W){const _=[];let v=W.next();for(;!v.done;)_.push(v.value),v=W.next();return _}const li=/-+([a-z0-9])/g;function Mi(W){return W.replace(li,(..._)=>_[1].toUpperCase())}function Gi(W){return W.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ne(W,_,v){switch(_.type){case 7:return W.visitTrigger(_,v);case 0:return W.visitState(_,v);case 1:return W.visitTransition(_,v);case 2:return W.visitSequence(_,v);case 3:return W.visitGroup(_,v);case 4:return W.visitAnimate(_,v);case 5:return W.visitKeyframes(_,v);case 6:return W.visitStyle(_,v);case 8:return W.visitReference(_,v);case 9:return W.visitAnimateChild(_,v);case 10:return W.visitAnimateRef(_,v);case 11:return W.visitQuery(_,v);case 12:return W.visitStagger(_,v);default:throw function ve(W){return new Y.vHH(3004,!1)}()}}function Ve(W,_){return window.getComputedStyle(W)[_]}function Qi(W,_){const v=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(O=>function os(W,_,v){if(":"==W[0]){const Ge=function gs(W,_){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,O)=>parseFloat(O)>parseFloat(v);case":decrement":return(v,O)=>parseFloat(O)<parseFloat(v);default:return _.push(function Fn(W){return new Y.vHH(3016,!1)}()),"* => *"}}(W,v);if("function"==typeof Ge)return void _.push(Ge);W=Ge}const O=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return v.push(function kr(W){return new Y.vHH(3015,!1)}()),_;const q=O[1],re=O[2],we=O[3];_.push(xo(q,we));"<"==re[0]&&!("*"==q&&"*"==we)&&_.push(xo(we,q))}(O,v,_)):v.push(W),v}const na=new Set(["true","1"]),Oi=new Set(["false","0"]);function xo(W,_){const v=na.has(W)||Oi.has(W),O=na.has(_)||Oi.has(_);return(q,re)=>{let we="*"==W||W==q,Ee="*"==_||_==re;return!we&&v&&"boolean"==typeof q&&(we=q?na.has(W):Oi.has(W)),!Ee&&O&&"boolean"==typeof re&&(Ee=re?na.has(_):Oi.has(_)),we&&Ee}}const Xs=new RegExp("s*:selfs*,?","g");function Rs(W,_,v,O){return new ho(W).build(_,v,O)}class ho{constructor(_){this._driver=_}build(_,v,O){const q=new Ea(v);return this._resetContextStyleTimingState(q),Ne(this,Ni(_),q)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,v){let O=v.queryCount=0,q=v.depCount=0;const re=[],we=[];return"@"==_.name.charAt(0)&&v.errors.push(function bt(){return new Y.vHH(3006,!1)}()),_.definitions.forEach(Ee=>{if(this._resetContextStyleTimingState(v),0==Ee.type){const Ge=Ee,vt=Ge.name;vt.toString().split(/\s*,\s*/).forEach(Jt=>{Ge.name=Jt,re.push(this.visitState(Ge,v))}),Ge.name=vt}else if(1==Ee.type){const Ge=this.visitTransition(Ee,v);O+=Ge.queryCount,q+=Ge.depCount,we.push(Ge)}else v.errors.push(function yt(){return new Y.vHH(3007,!1)}())}),{type:7,name:_.name,states:re,transitions:we,queryCount:O,depCount:q,options:null}}visitState(_,v){const O=this.visitStyle(_.styles,v),q=_.options&&_.options.params||null;if(O.containsDynamicStyles){const re=new Set,we=q||{};O.styles.forEach(Ee=>{Ee instanceof Map&&Ee.forEach(Ge=>{Hi(Ge).forEach(vt=>{we.hasOwnProperty(vt)||re.add(vt)})})}),re.size&&(ii(re.values()),v.errors.push(function Gt(W,_){return new Y.vHH(3008,!1)}()))}return{type:0,name:_.name,style:O,options:q?{params:q}:null}}visitTransition(_,v){v.queryCount=0,v.depCount=0;const O=Ne(this,Ni(_.animation),v);return{type:1,matchers:Qi(_.expr,v.errors),animation:O,queryCount:v.queryCount,depCount:v.depCount,options:Ps(_.options)}}visitSequence(_,v){return{type:2,steps:_.steps.map(O=>Ne(this,O,v)),options:Ps(_.options)}}visitGroup(_,v){const O=v.currentTime;let q=0;const re=_.steps.map(we=>{v.currentTime=O;const Ee=Ne(this,we,v);return q=Math.max(q,v.currentTime),Ee});return v.currentTime=q,{type:3,steps:re,options:Ps(_.options)}}visitAnimate(_,v){const O=function $s(W,_){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return jo(wt(W,_).duration,0,"");const v=W;if(v.split(/\s+/).some(re=>"{"==re.charAt(0)&&"{"==re.charAt(1))){const re=jo(0,0,"");return re.dynamic=!0,re.strValue=v,re}const q=wt(v,_);return jo(q.duration,q.delay,q.easing)}(_.timings,v.errors);v.currentAnimateTimings=O;let q,re=_.styles?_.styles:ye({});if(5==re.type)q=this.visitKeyframes(re,v);else{let we=_.styles,Ee=!1;if(!we){Ee=!0;const vt={};O.easing&&(vt.easing=O.easing),we=ye(vt)}v.currentTime+=O.duration+O.delay;const Ge=this.visitStyle(we,v);Ge.isEmptyStep=Ee,q=Ge}return v.currentAnimateTimings=null,{type:4,timings:O,style:q,options:null}}visitStyle(_,v){const O=this._makeStyleAst(_,v);return this._validateStyleAst(O,v),O}_makeStyleAst(_,v){const O=[],q=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ee of q)"string"==typeof Ee?Ee===ce?O.push(Ee):v.errors.push(new Y.vHH(3002,!1)):O.push(Zt(Ee));let re=!1,we=null;return O.forEach(Ee=>{if(Ee instanceof Map&&(Ee.has("easing")&&(we=Ee.get("easing"),Ee.delete("easing")),!re))for(let Ge of Ee.values())if(Ge.toString().indexOf("{{")>=0){re=!0;break}}),{type:6,styles:O,easing:we,offset:_.offset,containsDynamicStyles:re,options:null}}_validateStyleAst(_,v){const O=v.currentAnimateTimings;let q=v.currentTime,re=v.currentTime;O&&re>0&&(re-=O.duration+O.delay),_.styles.forEach(we=>{"string"!=typeof we&&we.forEach((Ee,Ge)=>{const vt=v.collectedStyles.get(v.currentQuerySelector),Jt=vt.get(Ge);let ln=!0;Jt&&(re!=q&&re>=Jt.startTime&&q<=Jt.endTime&&(v.errors.push(function hn(W,_,v,O,q){return new Y.vHH(3010,!1)}()),ln=!1),re=Jt.startTime),ln&&vt.set(Ge,{startTime:re,endTime:q}),v.options&&function Pn(W,_,v){const O=_.params||{},q=Hi(W);q.length&&q.forEach(re=>{O.hasOwnProperty(re)||v.push(function Ae(W){return new Y.vHH(3001,!1)}())})}(Ee,v.options,v.errors)})})}visitKeyframes(_,v){const O={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function ir(){return new Y.vHH(3011,!1)}()),O;let re=0;const we=[];let Ee=!1,Ge=!1,vt=0;const Jt=_.steps.map(Hr=>{const mi=this._makeStyleAst(Hr,v);let gr=null!=mi.offset?mi.offset:function Ca(W){if("string"==typeof W)return null;let _=null;if(Array.isArray(W))W.forEach(v=>{if(v instanceof Map&&v.has("offset")){const O=v;_=parseFloat(O.get("offset")),O.delete("offset")}});else if(W instanceof Map&&W.has("offset")){const v=W;_=parseFloat(v.get("offset")),v.delete("offset")}return _}(mi.styles),At=0;return null!=gr&&(re++,At=mi.offset=gr),Ge=Ge||At<0||At>1,Ee=Ee||At<vt,vt=At,we.push(At),mi});Ge&&v.errors.push(function Dn(){return new Y.vHH(3012,!1)}()),Ee&&v.errors.push(function Vn(){return new Y.vHH(3200,!1)}());const ln=_.steps.length;let pr=0;re>0&&re<ln?v.errors.push(function Sr(){return new Y.vHH(3202,!1)}()):0==re&&(pr=1/(ln-1));const nr=ln-1,Ln=v.currentTime,jn=v.currentAnimateTimings,Qt=jn.duration;return Jt.forEach((Hr,mi)=>{const gr=pr>0?mi==nr?1:pr*mi:we[mi],At=gr*Qt;v.currentTime=Ln+jn.delay+At,jn.duration=At,this._validateStyleAst(Hr,v),Hr.offset=gr,O.styles.push(Hr)}),O}visitReference(_,v){return{type:8,animation:Ne(this,Ni(_.animation),v),options:Ps(_.options)}}visitAnimateChild(_,v){return v.depCount++,{type:9,options:Ps(_.options)}}visitAnimateRef(_,v){return{type:10,animation:this.visitReference(_.animation,v),options:Ps(_.options)}}visitQuery(_,v){const O=v.currentQuerySelector,q=_.options||{};v.queryCount++,v.currentQuery=_;const[re,we]=function Wi(W){const _=!!W.split(/\s*,\s*/).find(v=>":self"==v);return _&&(W=W.replace(Xs,"")),W=W.replace(/@\*/g,me).replace(/@\w+/g,v=>me+"-"+v.slice(1)).replace(/:animating/g,je),[W,_]}(_.selector);v.currentQuerySelector=O.length?O+" "+re:re,Rn(v.collectedStyles,v.currentQuerySelector,new Map);const Ee=Ne(this,Ni(_.animation),v);return v.currentQuery=null,v.currentQuerySelector=O,{type:11,selector:re,limit:q.limit||0,optional:!!q.optional,includeSelf:we,animation:Ee,originalSelector:_.selector,options:Ps(_.options)}}visitStagger(_,v){v.currentQuery||v.errors.push(function Ar(){return new Y.vHH(3013,!1)}());const O="full"===_.timings?{duration:0,delay:0,easing:"full"}:wt(_.timings,v.errors,!0);return{type:12,animation:Ne(this,Ni(_.animation),v),timings:O,options:null}}}class Ea{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ps(W){return W?(W=mt(W)).params&&(W.params=function Da(W){return W?mt(W):null}(W.params)):W={},W}function jo(W,_,v){return{duration:W,delay:_,easing:v}}function eo(W,_,v,O,q,re,we=null,Ee=!1){return{type:1,element:W,keyframes:_,preStyleProps:v,postStyleProps:O,duration:q,delay:re,totalTime:q+re,easing:we,subTimeline:Ee}}class ms{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,v){let O=this._map.get(_);O||this._map.set(_,O=[]),O.push(...v)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Ba=new RegExp(":enter","g"),fo=new RegExp(":leave","g");function js(W,_,v,O,q,re=new Map,we=new Map,Ee,Ge,vt=[]){return(new ks).buildKeyframes(W,_,v,O,q,re,we,Ee,Ge,vt)}class ks{buildKeyframes(_,v,O,q,re,we,Ee,Ge,vt,Jt=[]){vt=vt||new ms;const ln=new Co(_,v,vt,q,re,Jt,[]);ln.options=Ge;const pr=Ge.delay?Oe(Ge.delay):0;ln.currentTimeline.delayNextStep(pr),ln.currentTimeline.setStyles([we],null,ln.errors,Ge),Ne(this,O,ln);const nr=ln.timelines.filter(Ln=>Ln.containsAnimation());if(nr.length&&Ee.size){let Ln;for(let jn=nr.length-1;jn>=0;jn--){const Qt=nr[jn];if(Qt.element===v){Ln=Qt;break}}Ln&&!Ln.allowOnlyTimelineStyles()&&Ln.setStyles([Ee],null,ln.errors,Ge)}return nr.length?nr.map(Ln=>Ln.buildKeyframes()):[eo(v,[],[],[],0,pr,"",!1)]}visitTrigger(_,v){}visitState(_,v){}visitTransition(_,v){}visitAnimateChild(_,v){const O=v.subInstructions.get(v.element);if(O){const q=v.createSubContext(_.options),re=v.currentTimeline.currentTime,we=this._visitSubInstructions(O,q,q.options);re!=we&&v.transformIntoNewTimeline(we)}v.previousNode=_}visitAnimateRef(_,v){const O=v.createSubContext(_.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],v,O),this.visitReference(_.animation,O),v.transformIntoNewTimeline(O.currentTimeline.currentTime),v.previousNode=_}_applyAnimationRefDelays(_,v,O){for(const q of _){const re=q?.delay;if(re){const we="number"==typeof re?re:Oe(Ns(re,q?.params??{},v.errors));O.delayNextStep(we)}}}_visitSubInstructions(_,v,O){let re=v.currentTimeline.currentTime;const we=null!=O.duration?Oe(O.duration):null,Ee=null!=O.delay?Oe(O.delay):null;return 0!==we&&_.forEach(Ge=>{const vt=v.appendInstructionToTimeline(Ge,we,Ee);re=Math.max(re,vt.duration+vt.delay)}),re}visitReference(_,v){v.updateOptions(_.options,!0),Ne(this,_.animation,v),v.previousNode=_}visitSequence(_,v){const O=v.subContextCount;let q=v;const re=_.options;if(re&&(re.params||re.delay)&&(q=v.createSubContext(re),q.transformIntoNewTimeline(),null!=re.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=as);const we=Oe(re.delay);q.delayNextStep(we)}_.steps.length&&(_.steps.forEach(we=>Ne(this,we,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>O&&q.transformIntoNewTimeline()),v.previousNode=_}visitGroup(_,v){const O=[];let q=v.currentTimeline.currentTime;const re=_.options&&_.options.delay?Oe(_.options.delay):0;_.steps.forEach(we=>{const Ee=v.createSubContext(_.options);re&&Ee.delayNextStep(re),Ne(this,we,Ee),q=Math.max(q,Ee.currentTimeline.currentTime),O.push(Ee.currentTimeline)}),O.forEach(we=>v.currentTimeline.mergeTimelineCollectedStyles(we)),v.transformIntoNewTimeline(q),v.previousNode=_}_visitTiming(_,v){if(_.dynamic){const O=_.strValue;return wt(v.params?Ns(O,v.params,v.errors):O,v.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,v){const O=v.currentAnimateTimings=this._visitTiming(_.timings,v),q=v.currentTimeline;O.delay&&(v.incrementTime(O.delay),q.snapshotCurrentStyles());const re=_.style;5==re.type?this.visitKeyframes(re,v):(v.incrementTime(O.duration),this.visitStyle(re,v),q.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=_}visitStyle(_,v){const O=v.currentTimeline,q=v.currentAnimateTimings;!q&&O.hasCurrentStyleProperties()&&O.forwardFrame();const re=q&&q.easing||_.easing;_.isEmptyStep?O.applyEmptyStep(re):O.setStyles(_.styles,re,v.errors,v.options),v.previousNode=_}visitKeyframes(_,v){const O=v.currentAnimateTimings,q=v.currentTimeline.duration,re=O.duration,Ee=v.createSubContext().currentTimeline;Ee.easing=O.easing,_.styles.forEach(Ge=>{Ee.forwardTime((Ge.offset||0)*re),Ee.setStyles(Ge.styles,Ge.easing,v.errors,v.options),Ee.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Ee),v.transformIntoNewTimeline(q+re),v.previousNode=_}visitQuery(_,v){const O=v.currentTimeline.currentTime,q=_.options||{},re=q.delay?Oe(q.delay):0;re&&(6===v.previousNode.type||0==O&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=as);let we=O;const Ee=v.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!q.optional,v.errors);v.currentQueryTotal=Ee.length;let Ge=null;Ee.forEach((vt,Jt)=>{v.currentQueryIndex=Jt;const ln=v.createSubContext(_.options,vt);re&&ln.delayNextStep(re),vt===v.element&&(Ge=ln.currentTimeline),Ne(this,_.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),we=Math.max(we,ln.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(we),Ge&&(v.currentTimeline.mergeTimelineCollectedStyles(Ge),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=_}visitStagger(_,v){const O=v.parentContext,q=v.currentTimeline,re=_.timings,we=Math.abs(re.duration),Ee=we*(v.currentQueryTotal-1);let Ge=we*v.currentQueryIndex;switch(re.duration<0?"reverse":re.easing){case"reverse":Ge=Ee-Ge;break;case"full":Ge=O.currentStaggerTime}const Jt=v.currentTimeline;Ge&&Jt.delayNextStep(Ge);const ln=Jt.currentTime;Ne(this,_.animation,v),v.previousNode=_,O.currentStaggerTime=q.currentTime-ln+(q.startTime-O.currentTimeline.startTime)}}const as={};class Co{constructor(_,v,O,q,re,we,Ee,Ge){this._driver=_,this.element=v,this.subInstructions=O,this._enterClassName=q,this._leaveClassName=re,this.errors=we,this.timelines=Ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=as,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new ra(this._driver,v,0),Ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,v){if(!_)return;const O=_;let q=this.options;null!=O.duration&&(q.duration=Oe(O.duration)),null!=O.delay&&(q.delay=Oe(O.delay));const re=O.params;if(re){let we=q.params;we||(we=this.options.params={}),Object.keys(re).forEach(Ee=>{(!v||!we.hasOwnProperty(Ee))&&(we[Ee]=Ns(re[Ee],we,this.errors))})}}_copyOptions(){const _={};if(this.options){const v=this.options.params;if(v){const O=_.params={};Object.keys(v).forEach(q=>{O[q]=v[q]})}}return _}createSubContext(_=null,v,O){const q=v||this.element,re=new Co(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,O||0));return re.previousNode=this.previousNode,re.currentAnimateTimings=this.currentAnimateTimings,re.options=this._copyOptions(),re.updateOptions(_),re.currentQueryIndex=this.currentQueryIndex,re.currentQueryTotal=this.currentQueryTotal,re.parentContext=this,this.subContextCount++,re}transformIntoNewTimeline(_){return this.previousNode=as,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,v,O){const q={duration:v??_.duration,delay:this.currentTimeline.currentTime+(O??0)+_.delay,easing:""},re=new Hs(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,q,_.stretchStartingKeyframe);return this.timelines.push(re),q}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,v,O,q,re,we){let Ee=[];if(q&&Ee.push(this.element),_.length>0){_=(_=_.replace(Ba,"."+this._enterClassName)).replace(fo,"."+this._leaveClassName);let vt=this._driver.query(this.element,_,1!=O);0!==O&&(vt=O<0?vt.slice(vt.length+O,vt.length):vt.slice(0,O)),Ee.push(...vt)}return!re&&0==Ee.length&&we.push(function ar(W){return new Y.vHH(3014,!1)}()),Ee}}class ra{constructor(_,v,O,q){this._driver=_,this.element=v,this.startTime=O,this._elementTimelineStylesLookup=q,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+_),v&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,v){return this.applyStylesToKeyframe(),new ra(this._driver,_,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,v){this._localTimelineStyles.set(_,v),this._globalTimelineStyles.set(_,v),this._styleSummary.set(_,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[v,O]of this._globalTimelineStyles)this._backFill.set(v,O||ce),this._currentKeyframe.set(v,ce);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,v,O,q){v&&this._previousKeyframe.set("easing",v);const re=q&&q.params||{},we=function Gs(W,_){const v=new Map;let O;return W.forEach(q=>{if("*"===q){O=O||_.keys();for(let re of O)v.set(re,ce)}else fi(q,v)}),v}(_,this._globalTimelineStyles);for(let[Ee,Ge]of we){const vt=Ns(Ge,re,O);this._pendingStyles.set(Ee,vt),this._localTimelineStyles.has(Ee)||this._backFill.set(Ee,this._globalTimelineStyles.get(Ee)??ce),this._updateStyle(Ee,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,v)=>{this._currentKeyframe.set(v,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,_)}))}snapshotCurrentStyles(){for(let[_,v]of this._localTimelineStyles)this._pendingStyles.set(_,v),this._updateStyle(_,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let v in this._currentKeyframe)_.push(v);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((v,O)=>{const q=this._styleSummary.get(O);(!q||v.time>q.time)&&this._updateStyle(O,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,v=new Set,O=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((Ee,Ge)=>{const vt=fi(Ee,new Map,this._backFill);vt.forEach((Jt,ln)=>{"!"===Jt?_.add(ln):Jt===ce&&v.add(ln)}),O||vt.set("offset",Ge/this.duration),q.push(vt)});const re=_.size?ii(_.values()):[],we=v.size?ii(v.values()):[];if(O){const Ee=q[0],Ge=new Map(Ee);Ee.set("offset",0),Ge.set("offset",1),q=[Ee,Ge]}return eo(this.element,q,re,we,this.duration,this.startTime,this.easing,!1)}}class Hs extends ra{constructor(_,v,O,q,re,we,Ee=!1){super(_,v,we.delay),this.keyframes=O,this.preStyleProps=q,this.postStyleProps=re,this._stretchStartingKeyframe=Ee,this.timings={duration:we.duration,delay:we.delay,easing:we.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:v,duration:O,easing:q}=this.timings;if(this._stretchStartingKeyframe&&v){const re=[],we=O+v,Ee=v/we,Ge=fi(_[0]);Ge.set("offset",0),re.push(Ge);const vt=fi(_[0]);vt.set("offset",Ro(Ee)),re.push(vt);const Jt=_.length-1;for(let ln=1;ln<=Jt;ln++){let pr=fi(_[ln]);const nr=pr.get("offset");pr.set("offset",Ro((v+nr*O)/we)),re.push(pr)}O=we,v=0,q="",_=re}return eo(this.element,_,this.preStyleProps,this.postStyleProps,O,v,q,!0)}}function Ro(W,_=3){const v=Math.pow(10,_-1);return Math.round(W*v)/v}class xi{}const Go=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ia extends xi{normalizePropertyName(_,v){return Mi(_)}normalizeStyleValue(_,v,O,q){let re="";const we=O.toString().trim();if(Go.has(v)&&0!==O&&"0"!==O)if("number"==typeof O)re="px";else{const Ee=O.match(/^[+-]?[\d\.]+([a-z]*)$/);Ee&&0==Ee[1].length&&q.push(function Fe(W,_){return new Y.vHH(3005,!1)}())}return we+re}}function po(W,_,v,O,q,re,we,Ee,Ge,vt,Jt,ln,pr){return{type:0,element:W,triggerName:_,isRemovalTransition:q,fromState:v,fromStyles:re,toState:O,toStyles:we,timelines:Ee,queriedElements:Ge,preStyleProps:vt,postStyleProps:Jt,totalTime:ln,errors:pr}}const go={};class zi{constructor(_,v,O){this._triggerName=_,this.ast=v,this._stateStyles=O}match(_,v,O,q){return function no(W,_,v,O,q){return W.some(re=>re(_,v,O,q))}(this.ast.matchers,_,v,O,q)}buildStyles(_,v,O){let q=this._stateStyles.get("*");return void 0!==_&&(q=this._stateStyles.get(_?.toString())||q),q?q.buildStyles(v,O):new Map}build(_,v,O,q,re,we,Ee,Ge,vt,Jt){const ln=[],pr=this.ast.options&&this.ast.options.params||go,Ln=this.buildStyles(O,Ee&&Ee.params||go,ln),jn=Ge&&Ge.params||go,Qt=this.buildStyles(q,jn,ln),Hr=new Set,mi=new Map,gr=new Map,At="void"===q,ua={params:Po(jn,pr),delay:this.ast.options?.delay},Hn=Jt?[]:js(_,v,this.ast.animation,re,we,Ln,Qt,ua,vt,ln);let Ki=0;if(Hn.forEach(Ot=>{Ki=Math.max(Ot.duration+Ot.delay,Ki)}),ln.length)return po(v,this._triggerName,O,q,At,Ln,Qt,[],[],mi,gr,Ki,ln);Hn.forEach(Ot=>{const Xi=Ot.element,Io=Rn(mi,Xi,new Set);Ot.preStyleProps.forEach(bo=>Io.add(bo));const So=Rn(gr,Xi,new Set);Ot.postStyleProps.forEach(bo=>So.add(bo)),Xi!==v&&Hr.add(Xi)});const br=ii(Hr.values());return po(v,this._triggerName,O,q,At,Ln,Qt,Hn,br,mi,gr,Ki)}}function Po(W,_){const v=mt(_);for(const O in W)W.hasOwnProperty(O)&&null!=W[O]&&(v[O]=W[O]);return v}class us{constructor(_,v,O){this.styles=_,this.defaultParams=v,this.normalizer=O}buildStyles(_,v){const O=new Map,q=mt(this.defaultParams);return Object.keys(_).forEach(re=>{const we=_[re];null!==we&&(q[re]=we)}),this.styles.styles.forEach(re=>{"string"!=typeof re&&re.forEach((we,Ee)=>{we&&(we=Ns(we,q,v));const Ge=this.normalizer.normalizePropertyName(Ee,v);we=this.normalizer.normalizeStyleValue(Ee,Ge,we,v),O.set(Ge,we)})}),O}}class Sa{constructor(_,v,O){this.name=_,this.ast=v,this._normalizer=O,this.transitionFactories=[],this.states=new Map,v.states.forEach(q=>{this.states.set(q.name,new us(q.style,q.options&&q.options.params||{},O))}),zo(this.states,"true","1"),zo(this.states,"false","0"),v.transitions.forEach(q=>{this.transitionFactories.push(new zi(_,q,this.states))}),this.fallbackTransition=function ur(W,_,v){return new zi(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(we,Ee)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,v,O,q){return this.transitionFactories.find(we=>we.match(_,v,O,q))||null}matchStyles(_,v,O){return this.fallbackTransition.buildStyles(_,v,O)}}function zo(W,_,v){W.has(_)?W.has(v)||W.set(v,W.get(_)):W.has(v)&&W.set(_,W.get(v))}const ia=new ms;class mo{constructor(_,v,O){this.bodyNode=_,this._driver=v,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,v){const O=[],re=Rs(this._driver,v,O,[]);if(O.length)throw function Zi(W){return new Y.vHH(3503,!1)}();this._animations.set(_,re)}_buildPlayer(_,v,O){const q=_.element,re=Tr(0,this._normalizer,0,_.keyframes,v,O);return this._driver.animate(q,re,_.duration,_.delay,_.easing,[],!0)}create(_,v,O={}){const q=[],re=this._animations.get(_);let we;const Ee=new Map;if(re?(we=js(this._driver,v,re,Pr,hr,new Map,new Map,O,ia,q),we.forEach(Jt=>{const ln=Rn(Ee,Jt.element,new Map);Jt.postStyleProps.forEach(pr=>ln.set(pr,null))})):(q.push(function di(){return new Y.vHH(3300,!1)}()),we=[]),q.length)throw function Wn(W){return new Y.vHH(3504,!1)}();Ee.forEach((Jt,ln)=>{Jt.forEach((pr,nr)=>{Jt.set(nr,this._driver.computeStyle(ln,nr,ce))})});const vt=qt(we.map(Jt=>{const ln=Ee.get(Jt.element);return this._buildPlayer(Jt,new Map,ln)}));return this._playersById.set(_,vt),vt.onDestroy(()=>this.destroy(_)),this.players.push(vt),vt}destroy(_){const v=this._getPlayer(_);v.destroy(),this._playersById.delete(_);const O=this.players.indexOf(v);O>=0&&this.players.splice(O,1)}_getPlayer(_){const v=this._playersById.get(_);if(!v)throw function ss(W){return new Y.vHH(3301,!1)}();return v}listen(_,v,O,q){const re=Rr(v,"","","");return Br(this._getPlayer(_),O,re,q),()=>{}}command(_,v,O,q){if("register"==O)return void this.register(_,q[0]);if("create"==O)return void this.create(_,v,q[0]||{});const re=this._getPlayer(_);switch(O){case"play":re.play();break;case"pause":re.pause();break;case"reset":re.reset();break;case"restart":re.restart();break;case"finish":re.finish();break;case"init":re.init();break;case"setPosition":re.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(_)}}}const Ei="ng-animate-queued",ui="ng-animate-disabled",Fs=[],ro={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ts={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ci="__ng_removed";class $r{constructor(_,v=""){this.namespaceId=v;const O=_&&_.hasOwnProperty("value");if(this.value=function yo(W){return W??null}(O?_.value:_),O){const re=mt(_);delete re.value,this.options=re}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(_){const v=_.params;if(v){const O=this.options.params;Object.keys(v).forEach(q=>{null==O[q]&&(O[q]=v[q])})}}}const Nn="void",Ua=new $r(Nn);class ko{constructor(_,v,O){this.id=_,this.hostElement=v,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Is(v,this._hostClassName)}listen(_,v,O,q){if(!this._triggers.has(v))throw function dr(W,_){return new Y.vHH(3302,!1)}();if(null==O||0==O.length)throw function oi(W){return new Y.vHH(3303,!1)}();if(!function Aa(W){return"start"==W||"done"==W}(O))throw function Kr(W,_){return new Y.vHH(3400,!1)}();const re=Rn(this._elementListeners,_,[]),we={name:v,phase:O,callback:q};re.push(we);const Ee=Rn(this._engine.statesByElement,_,new Map);return Ee.has(v)||(Is(_,Ue),Is(_,Ue+"-"+v),Ee.set(v,Ua)),()=>{this._engine.afterFlush(()=>{const Ge=re.indexOf(we);Ge>=0&&re.splice(Ge,1),this._triggers.has(v)||Ee.delete(v)})}}register(_,v){return!this._triggers.has(_)&&(this._triggers.set(_,v),!0)}_getTrigger(_){const v=this._triggers.get(_);if(!v)throw function Zn(W){return new Y.vHH(3401,!1)}();return v}trigger(_,v,O,q=!0){const re=this._getTrigger(v),we=new _o(this.id,v,_);let Ee=this._engine.statesByElement.get(_);Ee||(Is(_,Ue),Is(_,Ue+"-"+v),this._engine.statesByElement.set(_,Ee=new Map));let Ge=Ee.get(v);const vt=new $r(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&Ge&&vt.absorbOptions(Ge.options),Ee.set(v,vt),Ge||(Ge=Ua),vt.value!==Nn&&Ge.value===vt.value){if(!function Ze(W,_){const v=Object.keys(W),O=Object.keys(_);if(v.length!=O.length)return!1;for(let q=0;q<v.length;q++){const re=v[q];if(!_.hasOwnProperty(re)||W[re]!==_[re])return!1}return!0}(Ge.params,vt.params)){const jn=[],Qt=re.matchStyles(Ge.value,Ge.params,jn),Hr=re.matchStyles(vt.value,vt.params,jn);jn.length?this._engine.reportError(jn):this._engine.afterFlush(()=>{ti(_,Qt),wn(_,Hr)})}return}const pr=Rn(this._engine.playersByElement,_,[]);pr.forEach(jn=>{jn.namespaceId==this.id&&jn.triggerName==v&&jn.queued&&jn.destroy()});let nr=re.matchTransition(Ge.value,vt.value,_,vt.params),Ln=!1;if(!nr){if(!q)return;nr=re.fallbackTransition,Ln=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:v,transition:nr,fromState:Ge,toState:vt,player:we,isFallbackTransition:Ln}),Ln||(Is(_,Ei),we.onStart(()=>{U(_,Ei)})),we.onDone(()=>{let jn=this.players.indexOf(we);jn>=0&&this.players.splice(jn,1);const Qt=this._engine.playersByElement.get(_);if(Qt){let Hr=Qt.indexOf(we);Hr>=0&&Qt.splice(Hr,1)}}),this.players.push(we),pr.push(we),we}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(v=>v.delete(_)),this._elementListeners.forEach((v,O)=>{this._elementListeners.set(O,v.filter(q=>q.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const v=this._engine.playersByElement.get(_);v&&(v.forEach(O=>O.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,v){const O=this._engine.driver.query(_,me,!0);O.forEach(q=>{if(q[Ci])return;const re=this._engine.fetchNamespacesByElement(q);re.size?re.forEach(we=>we.triggerLeaveAnimation(q,v,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(_,v,O,q){const re=this._engine.statesByElement.get(_),we=new Map;if(re){const Ee=[];if(re.forEach((Ge,vt)=>{if(we.set(vt,Ge.value),this._triggers.has(vt)){const Jt=this.trigger(_,vt,Nn,q);Jt&&Ee.push(Jt)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,_,!0,v,we),O&&qt(Ee).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const v=this._elementListeners.get(_),O=this._engine.statesByElement.get(_);if(v&&O){const q=new Set;v.forEach(re=>{const we=re.name;if(q.has(we))return;q.add(we);const Ge=this._triggers.get(we).fallbackTransition,vt=O.get(we)||Ua,Jt=new $r(Nn),ln=new _o(this.id,we,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:we,transition:Ge,fromState:vt,toState:Jt,player:ln,isFallbackTransition:!0})})}}removeNode(_,v){const O=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,v),this.triggerLeaveAnimation(_,v,!0))return;let q=!1;if(O.totalAnimations){const re=O.players.length?O.playersByQueriedElement.get(_):[];if(re&&re.length)q=!0;else{let we=_;for(;we=we.parentNode;)if(O.statesByElement.get(we)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(_),q)O.markElementAsRemoved(this.id,_,!1,v);else{const re=_[Ci];(!re||re===ro)&&(O.afterFlush(()=>this.clearElementCache(_)),O.destroyInnerAnimations(_),O._onRemovalComplete(_,v))}}insertNode(_,v){Is(_,this._hostClassName)}drainQueuedTransitions(_){const v=[];return this._queue.forEach(O=>{const q=O.player;if(q.destroyed)return;const re=O.element,we=this._elementListeners.get(re);we&&we.forEach(Ee=>{if(Ee.name==O.triggerName){const Ge=Rr(re,O.triggerName,O.fromState.value,O.toState.value);Ge._data=_,Br(O.player,Ee.phase,Ge,Ee.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):v.push(O)}),this._queue=[],v.sort((O,q)=>{const re=O.transition.ast.depCount,we=q.transition.ast.depCount;return 0==re||0==we?re-we:this._engine.driver.containsElement(O.element,q.element)?1:-1})}destroy(_){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let v=!1;return this._elementListeners.has(_)&&(v=!0),v=!!this._queue.find(O=>O.element===_)||v,v}}class $a{constructor(_,v,O){this.bodyNode=_,this.driver=v,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,re)=>{}}_onRemovalComplete(_,v){this.onRemovalComplete(_,v)}get queuedPlayers(){const _=[];return this._namespaceList.forEach(v=>{v.players.forEach(O=>{O.queued&&_.push(O)})}),_}createNamespace(_,v){const O=new ko(_,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(O,v):(this.newHostElements.set(v,O),this.collectEnterElement(v)),this._namespaceLookup[_]=O}_balanceNamespaceList(_,v){const O=this._namespaceList,q=this.namespacesByHostElement;if(O.length-1>=0){let we=!1,Ee=this.driver.getParentElement(v);for(;Ee;){const Ge=q.get(Ee);if(Ge){const vt=O.indexOf(Ge);O.splice(vt+1,0,_),we=!0;break}Ee=this.driver.getParentElement(Ee)}we||O.unshift(_)}else O.push(_);return q.set(v,_),_}register(_,v){let O=this._namespaceLookup[_];return O||(O=this.createNamespace(_,v)),O}registerTrigger(_,v,O){let q=this._namespaceLookup[_];q&&q.register(v,O)&&this.totalAnimations++}destroy(_,v){if(!_)return;const O=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(O.hostElement),delete this._namespaceLookup[_];const q=this._namespaceList.indexOf(O);q>=0&&this._namespaceList.splice(q,1)}),this.afterFlushAnimationsDone(()=>O.destroy(v))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const v=new Set,O=this.statesByElement.get(_);if(O)for(let q of O.values())if(q.namespaceId){const re=this._fetchNamespace(q.namespaceId);re&&v.add(re)}return v}trigger(_,v,O,q){if(Ws(v)){const re=this._fetchNamespace(_);if(re)return re.trigger(v,O,q),!0}return!1}insertNode(_,v,O,q){if(!Ws(v))return;const re=v[Ci];if(re&&re.setForRemoval){re.setForRemoval=!1,re.setForMove=!0;const we=this.collectedLeaveElements.indexOf(v);we>=0&&this.collectedLeaveElements.splice(we,1)}if(_){const we=this._fetchNamespace(_);we&&we.insertNode(v,O)}q&&this.collectEnterElement(v)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,v){v?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Is(_,ui)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),U(_,ui))}removeNode(_,v,O,q){if(Ws(v)){const re=_?this._fetchNamespace(_):null;if(re?re.removeNode(v,q):this.markElementAsRemoved(_,v,!1,q),O){const we=this.namespacesByHostElement.get(v);we&&we.id!==_&&we.removeNode(v,q)}}else this._onRemovalComplete(v,q)}markElementAsRemoved(_,v,O,q,re){this.collectedLeaveElements.push(v),v[Ci]={namespaceId:_,setForRemoval:q,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:re}}listen(_,v,O,q,re){return Ws(v)?this._fetchNamespace(_).listen(v,O,q,re):()=>{}}_buildInstruction(_,v,O,q,re){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,O,q,_.fromState.options,_.toState.options,v,re)}destroyInnerAnimations(_){let v=this.driver.query(_,me,!0);v.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(_,je,!0),v.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(_){const v=this.playersByElement.get(_);v&&v.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(_){const v=this.playersByQueriedElement.get(_);v&&v.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return qt(this.players).onDone(()=>_());_()})}processLeaveNode(_){const v=_[Ci];if(v&&v.setForRemoval){if(_[Ci]=ro,v.namespaceId){this.destroyInnerAnimations(_);const O=this._fetchNamespace(v.namespaceId);O&&O.clearElementCache(_)}this._onRemovalComplete(_,v.setForRemoval)}_.classList?.contains(ui)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(_=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,q)=>this._balanceNamespaceList(O,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Is(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{v=this._flushAnimations(O,_)}finally{for(let q=0;q<O.length;q++)O[q]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],v.length?qt(v).onDone(()=>{O.forEach(q=>q())}):O.forEach(q=>q())}}reportError(_){throw function Qn(W){return new Y.vHH(3402,!1)}()}_flushAnimations(_,v){const O=new ms,q=[],re=new Map,we=[],Ee=new Map,Ge=new Map,vt=new Map,Jt=new Set;this.disabledNodes.forEach(Xt=>{Jt.add(Xt);const rn=this.driver.query(Xt,".ng-animate-queued",!0);for(let On=0;On<rn.length;On++)Jt.add(rn[On])});const ln=this.bodyNode,pr=Array.from(this.statesByElement.keys()),nr=qo(pr,this.collectedEnterElements),Ln=new Map;let jn=0;nr.forEach((Xt,rn)=>{const On=Pr+jn++;Ln.set(rn,On),Xt.forEach($n=>Is($n,On))});const Qt=[],Hr=new Set,mi=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const rn=this.collectedLeaveElements[Xt],On=rn[Ci];On&&On.setForRemoval&&(Qt.push(rn),Hr.add(rn),On.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach($n=>Hr.add($n)):mi.add(rn))}const gr=new Map,At=qo(pr,Array.from(Hr));At.forEach((Xt,rn)=>{const On=hr+jn++;gr.set(rn,On),Xt.forEach($n=>Is($n,On))}),_.push(()=>{nr.forEach((Xt,rn)=>{const On=Ln.get(rn);Xt.forEach($n=>U($n,On))}),At.forEach((Xt,rn)=>{const On=gr.get(rn);Xt.forEach($n=>U($n,On))}),Qt.forEach(Xt=>{this.processLeaveNode(Xt)})});const ua=[],Hn=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(v).forEach(On=>{const $n=On.player,_i=On.element;if(ua.push($n),this.collectedEnterElements.length){const Gr=_i[Ci];if(Gr&&Gr.setForMove){if(Gr.previousTriggersValues&&Gr.previousTriggersValues.has(On.triggerName)){const oo=Gr.previousTriggersValues.get(On.triggerName),es=this.statesByElement.get(On.element);if(es&&es.has(On.triggerName)){const Os=es.get(On.triggerName);Os.value=oo,es.set(On.triggerName,Os)}}return void $n.destroy()}}const so=!ln||!this.driver.containsElement(ln,_i),cs=gr.get(_i),ki=Ln.get(_i),tr=this._buildInstruction(On,O,ki,cs,so);if(tr.errors&&tr.errors.length)return void Hn.push(tr);if(so)return $n.onStart(()=>ti(_i,tr.fromStyles)),$n.onDestroy(()=>wn(_i,tr.toStyles)),void q.push($n);if(On.isFallbackTransition)return $n.onStart(()=>ti(_i,tr.fromStyles)),$n.onDestroy(()=>wn(_i,tr.toStyles)),void q.push($n);const et=[];tr.timelines.forEach(Gr=>{Gr.stretchStartingKeyframe=!0,this.disabledNodes.has(Gr.element)||et.push(Gr)}),tr.timelines=et,O.append(_i,tr.timelines),we.push({instruction:tr,player:$n,element:_i}),tr.queriedElements.forEach(Gr=>Rn(Ee,Gr,[]).push($n)),tr.preStyleProps.forEach((Gr,oo)=>{if(Gr.size){let es=Ge.get(oo);es||Ge.set(oo,es=new Set),Gr.forEach((Os,Ma)=>es.add(Ma))}}),tr.postStyleProps.forEach((Gr,oo)=>{let es=vt.get(oo);es||vt.set(oo,es=new Set),Gr.forEach((Os,Ma)=>es.add(Ma))})});if(Hn.length){const Xt=[];Hn.forEach(rn=>{Xt.push(function hi(W,_){return new Y.vHH(3505,!1)}())}),ua.forEach(rn=>rn.destroy()),this.reportError(Xt)}const Ki=new Map,br=new Map;we.forEach(Xt=>{const rn=Xt.element;O.has(rn)&&(br.set(rn,rn),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Ki))}),q.forEach(Xt=>{const rn=Xt.element;this._getPreviousPlayers(rn,!1,Xt.namespaceId,Xt.triggerName,null).forEach($n=>{Rn(Ki,rn,[]).push($n),$n.destroy()})});const Ot=Qt.filter(Xt=>Wt(Xt,Ge,vt)),Xi=new Map;vr(Xi,this.driver,mi,vt,ce).forEach(Xt=>{Wt(Xt,Ge,vt)&&Ot.push(Xt)});const So=new Map;nr.forEach((Xt,rn)=>{vr(So,this.driver,new Set(Xt),Ge,"!")}),Ot.forEach(Xt=>{const rn=Xi.get(Xt),On=So.get(Xt);Xi.set(Xt,new Map([...Array.from(rn?.entries()??[]),...Array.from(On?.entries()??[])]))});const bo=[],ma=[],Fo={};we.forEach(Xt=>{const{element:rn,player:On,instruction:$n}=Xt;if(O.has(rn)){if(Jt.has(rn))return On.onDestroy(()=>wn(rn,$n.toStyles)),On.disabled=!0,On.overrideTotalTime($n.totalTime),void q.push(On);let _i=Fo;if(br.size>1){let cs=rn;const ki=[];for(;cs=cs.parentNode;){const tr=br.get(cs);if(tr){_i=tr;break}ki.push(cs)}ki.forEach(tr=>br.set(tr,_i))}const so=this._buildAnimation(On.namespaceId,$n,Ki,re,So,Xi);if(On.setRealPlayer(so),_i===Fo)bo.push(On);else{const cs=this.playersByElement.get(_i);cs&&cs.length&&(On.parentPlayer=qt(cs)),q.push(On)}}else ti(rn,$n.fromStyles),On.onDestroy(()=>wn(rn,$n.toStyles)),ma.push(On),Jt.has(rn)&&q.push(On)}),ma.forEach(Xt=>{const rn=re.get(Xt.element);if(rn&&rn.length){const On=qt(rn);Xt.setRealPlayer(On)}}),q.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<Qt.length;Xt++){const rn=Qt[Xt],On=rn[Ci];if(U(rn,hr),On&&On.hasAnimation)continue;let $n=[];if(Ee.size){let so=Ee.get(rn);so&&so.length&&$n.push(...so);let cs=this.driver.query(rn,je,!0);for(let ki=0;ki<cs.length;ki++){let tr=Ee.get(cs[ki]);tr&&tr.length&&$n.push(...tr)}}const _i=$n.filter(so=>!so.destroyed);_i.length?V(this,rn,_i):this.processLeaveNode(rn)}return Qt.length=0,bo.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const rn=this.players.indexOf(Xt);this.players.splice(rn,1)}),Xt.play()}),bo}elementContainsData(_,v){let O=!1;const q=v[Ci];return q&&q.setForRemoval&&(O=!0),this.playersByElement.has(v)&&(O=!0),this.playersByQueriedElement.has(v)&&(O=!0),this.statesByElement.has(v)&&(O=!0),this._fetchNamespace(_).elementContainsData(v)||O}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,v,O,q,re){let we=[];if(v){const Ee=this.playersByQueriedElement.get(_);Ee&&(we=Ee)}else{const Ee=this.playersByElement.get(_);if(Ee){const Ge=!re||re==Nn;Ee.forEach(vt=>{vt.queued||!Ge&&vt.triggerName!=q||we.push(vt)})}}return(O||q)&&(we=we.filter(Ee=>!(O&&O!=Ee.namespaceId||q&&q!=Ee.triggerName))),we}_beforeAnimationBuild(_,v,O){const re=v.element,we=v.isRemovalTransition?void 0:_,Ee=v.isRemovalTransition?void 0:v.triggerName;for(const Ge of v.timelines){const vt=Ge.element,Jt=vt!==re,ln=Rn(O,vt,[]);this._getPreviousPlayers(vt,Jt,we,Ee,v.toState).forEach(nr=>{const Ln=nr.getRealPlayer();Ln.beforeDestroy&&Ln.beforeDestroy(),nr.destroy(),ln.push(nr)})}ti(re,v.fromStyles)}_buildAnimation(_,v,O,q,re,we){const Ee=v.triggerName,Ge=v.element,vt=[],Jt=new Set,ln=new Set,pr=v.timelines.map(Ln=>{const jn=Ln.element;Jt.add(jn);const Qt=jn[Ci];if(Qt&&Qt.removedBeforeQueried)return new ut(Ln.duration,Ln.delay);const Hr=jn!==Ge,mi=function k(W){const _=[];return ee(W,_),_}((O.get(jn)||Fs).map(Ki=>Ki.getRealPlayer())).filter(Ki=>!!Ki.element&&Ki.element===jn),gr=re.get(jn),At=we.get(jn),ua=Tr(0,this._normalizer,0,Ln.keyframes,gr,At),Hn=this._buildPlayer(Ln,ua,mi);if(Ln.subTimeline&&q&&ln.add(jn),Hr){const Ki=new _o(_,Ee,jn);Ki.setRealPlayer(Hn),vt.push(Ki)}return Hn});vt.forEach(Ln=>{Rn(this.playersByQueriedElement,Ln.element,[]).push(Ln),Ln.onDone(()=>function oa(W,_,v){let O=W.get(_);if(O){if(O.length){const q=O.indexOf(v);O.splice(q,1)}0==O.length&&W.delete(_)}return O}(this.playersByQueriedElement,Ln.element,Ln))}),Jt.forEach(Ln=>Is(Ln,oe));const nr=qt(pr);return nr.onDestroy(()=>{Jt.forEach(Ln=>U(Ln,oe)),wn(Ge,v.toStyles)}),ln.forEach(Ln=>{Rn(q,Ln,[]).push(nr)}),nr}_buildPlayer(_,v,O){return v.length>0?this.driver.animate(_.element,v,_.duration,_.delay,_.easing,O):new ut(_.duration,_.delay)}}class _o{constructor(_,v,O){this.namespaceId=_,this.triggerName=v,this.element=O,this._player=new ut,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((v,O)=>{v.forEach(q=>Br(_,O,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const v=this._player;v.triggerCallback&&_.onStart(()=>v.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,v){Rn(this._queuedCallbacks,_,[]).push(v)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const v=this._player;v.triggerCallback&&v.triggerCallback(_)}}function Ws(W){return W&&1===W.nodeType}function ft(W,_){const v=W.style.display;return W.style.display=_??"none",v}function vr(W,_,v,O,q){const re=[];v.forEach(Ge=>re.push(ft(Ge)));const we=[];O.forEach((Ge,vt)=>{const Jt=new Map;Ge.forEach(ln=>{const pr=_.computeStyle(vt,ln,q);Jt.set(ln,pr),(!pr||0==pr.length)&&(vt[Ci]=Ts,we.push(vt))}),W.set(vt,Jt)});let Ee=0;return v.forEach(Ge=>ft(Ge,re[Ee++])),we}function qo(W,_){const v=new Map;if(W.forEach(Ee=>v.set(Ee,[])),0==_.length)return v;const q=new Set(_),re=new Map;function we(Ee){if(!Ee)return 1;let Ge=re.get(Ee);if(Ge)return Ge;const vt=Ee.parentNode;return Ge=v.has(vt)?vt:q.has(vt)?1:we(vt),re.set(Ee,Ge),Ge}return _.forEach(Ee=>{const Ge=we(Ee);1!==Ge&&v.get(Ge).push(Ee)}),v}function Is(W,_){W.classList?.add(_)}function U(W,_){W.classList?.remove(_)}function V(W,_,v){qt(v).onDone(()=>W.processLeaveNode(_))}function ee(W,_){for(let v=0;v<W.length;v++){const O=W[v];O instanceof gt?ee(O.players,_):_.push(O)}}function Wt(W,_,v){const O=v.get(W);if(!O)return!1;let q=_.get(W);return q?O.forEach(re=>q.add(re)):_.set(W,O),v.delete(W),!0}class Xr{constructor(_,v,O){this.bodyNode=_,this._driver=v,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(q,re)=>{},this._transitionEngine=new $a(_,v,O),this._timelineEngine=new mo(_,v,O),this._transitionEngine.onRemovalComplete=(q,re)=>this.onRemovalComplete(q,re)}registerTrigger(_,v,O,q,re){const we=_+"-"+q;let Ee=this._triggerCache[we];if(!Ee){const Ge=[],Jt=Rs(this._driver,re,Ge,[]);if(Ge.length)throw function xr(W,_){return new Y.vHH(3404,!1)}();Ee=function Wo(W,_,v){return new Sa(W,_,v)}(q,Jt,this._normalizer),this._triggerCache[we]=Ee}this._transitionEngine.registerTrigger(v,q,Ee)}register(_,v){this._transitionEngine.register(_,v)}destroy(_,v){this._transitionEngine.destroy(_,v)}onInsert(_,v,O,q){this._transitionEngine.insertNode(_,v,O,q)}onRemove(_,v,O,q){this._transitionEngine.removeNode(_,v,q||!1,O)}disableAnimations(_,v){this._transitionEngine.markElementAsDisabled(_,v)}process(_,v,O,q){if("@"==O.charAt(0)){const[re,we]=Jr(O);this._timelineEngine.command(re,v,we,q)}else this._transitionEngine.trigger(_,v,O,q)}listen(_,v,O,q,re){if("@"==O.charAt(0)){const[we,Ee]=Jr(O);return this._timelineEngine.listen(we,v,Ee,re)}return this._transitionEngine.listen(_,v,O,q,re)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let io=(()=>{class W{constructor(v,O,q){this._element=v,this._startStyles=O,this._endStyles=q,this._state=0;let re=W.initialStylesByElement.get(v);re||W.initialStylesByElement.set(v,re=new Map),this._initialStyles=re}start(){this._state<1&&(this._startStyles&&wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wn(this._element,this._initialStyles),this._endStyles&&(wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&(ti(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ti(this._element,this._endStyles),this._endStyles=null),wn(this._element,this._initialStyles),this._state=3)}}return W.initialStylesByElement=new WeakMap,W})();function qs(W){let _=null;return W.forEach((v,O)=>{(function qi(W){return"display"===W||"position"===W})(O)&&(_=_||new Map,_.set(O,v))}),_}class Ss{constructor(_,v,O,q){this.element=_,this.keyframes=v,this.options=O,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const v=[];return _.forEach(O=>{v.push(Object.fromEntries(O))}),v}_triggerWebAnimation(_,v,O){return _.animate(this._convertKeyframesToObject(v),O)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,q)=>{"offset"!==q&&_.set(q,this._finished?O:Ve(this.element,q))}),this.currentSnapshot=_}triggerCallback(_){const v="start"===_?this._onStartFns:this._onDoneFns;v.forEach(O=>O()),v.length=0}}class Ko{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,v){return!1}containsElement(_,v){return ge(_,v)}getParentElement(_){return Ai(_)}query(_,v,O){return pe(_,v,O)}computeStyle(_,v,O){return window.getComputedStyle(_)[v]}animate(_,v,O,q,re,we=[]){const Ge={duration:O,delay:q,fill:0==q?"both":"forwards"};re&&(Ge.easing=re);const vt=new Map,Jt=we.filter(nr=>nr instanceof Ss);(function wi(W,_){return 0===W||0===_})(O,q)&&Jt.forEach(nr=>{nr.currentSnapshot.forEach((Ln,jn)=>vt.set(jn,Ln))});let ln=function zn(W){return W.length?W[0]instanceof Map?W:W.map(_=>Zt(_)):[]}(v).map(nr=>fi(nr));ln=function $e(W,_,v){if(v.size&&_.length){let O=_[0],q=[];if(v.forEach((re,we)=>{O.has(we)||q.push(we),O.set(we,re)}),q.length)for(let re=1;re<_.length;re++){let we=_[re];q.forEach(Ee=>we.set(Ee,Ve(W,Ee)))}}return _}(_,ln,vt);const pr=function zs(W,_){let v=null,O=null;return Array.isArray(_)&&_.length?(v=qs(_[0]),_.length>1&&(O=qs(_[_.length-1]))):_ instanceof Map&&(v=qs(_)),v||O?new io(W,v,O):null}(_,ln);return new Ss(_,ln,Ge,pr)}}var vo=Z(6895);let Ls=(()=>{class W extends Pe{constructor(v,O){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(O.body,{id:"0",encapsulation:Y.ifc.None,styles:[],data:{animation:[]}})}build(v){const O=this._nextAnimationId.toString();this._nextAnimationId++;const q=Array.isArray(v)?le(v):v;return To(this._renderer,null,O,"register",[q]),new ja(O,this._renderer)}}return W.\u0275fac=function(v){return new(v||W)(Y.LFG(Y.FYo),Y.LFG(vo.K0))},W.\u0275prov=Y.Yz7({token:W,factory:W.\u0275fac}),W})();class ja extends class Te{}{constructor(_,v){super(),this._id=_,this._renderer=v}create(_,v){return new Na(this._id,_,v||{},this._renderer)}}class Na{constructor(_,v,O,q){this.id=_,this.element=v,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(_,v){return this._renderer.listen(this.element,`@@${this.id}:${_}`,v)}_command(_,...v){return To(this._renderer,this.element,this.id,_,v)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function To(W,_,v,O,q){return W.setProperty(_,`@@${v}:${O}`,q)}const la="@.disabled";let Yo=(()=>{class W{constructor(v,O,q){this.delegate=v,this.engine=O,this._zone=q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),O.onRemovalComplete=(re,we)=>{const Ee=we?.parentNode(re);Ee&&we.removeChild(Ee,re)}}createRenderer(v,O){const re=this.delegate.createRenderer(v,O);if(!(v&&O&&O.data&&O.data.animation)){let Jt=this._rendererCache.get(re);return Jt||(Jt=new R("",re,this.engine,()=>this._rendererCache.delete(re)),this._rendererCache.set(re,Jt)),Jt}const we=O.id,Ee=O.id+"-"+this._currentId;this._currentId++,this.engine.register(Ee,v);const Ge=Jt=>{Array.isArray(Jt)?Jt.forEach(Ge):this.engine.registerTrigger(we,Ee,v,Jt.name,Jt)};return O.data.animation.forEach(Ge),new z(this,Ee,re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,O,q){v>=0&&v<this._microtaskId?this._zone.run(()=>O(q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(re=>{const[we,Ee]=re;we(Ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return W.\u0275fac=function(v){return new(v||W)(Y.LFG(Y.FYo),Y.LFG(Xr),Y.LFG(Y.R0b))},W.\u0275prov=Y.Yz7({token:W,factory:W.\u0275fac}),W})();class R{constructor(_,v,O,q){this.namespaceId=_,this.delegate=v,this.engine=O,this._onDestroy=q,this.destroyNode=this.delegate.destroyNode?re=>v.destroyNode(re):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,v){return this.delegate.createElement(_,v)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,v){this.delegate.appendChild(_,v),this.engine.onInsert(this.namespaceId,v,_,!1)}insertBefore(_,v,O,q=!0){this.delegate.insertBefore(_,v,O),this.engine.onInsert(this.namespaceId,v,_,q)}removeChild(_,v,O){this.engine.onRemove(this.namespaceId,v,this.delegate,O)}selectRootElement(_,v){return this.delegate.selectRootElement(_,v)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,v,O,q){this.delegate.setAttribute(_,v,O,q)}removeAttribute(_,v,O){this.delegate.removeAttribute(_,v,O)}addClass(_,v){this.delegate.addClass(_,v)}removeClass(_,v){this.delegate.removeClass(_,v)}setStyle(_,v,O,q){this.delegate.setStyle(_,v,O,q)}removeStyle(_,v,O){this.delegate.removeStyle(_,v,O)}setProperty(_,v,O){"@"==v.charAt(0)&&v==la?this.disableAnimations(_,!!O):this.delegate.setProperty(_,v,O)}setValue(_,v){this.delegate.setValue(_,v)}listen(_,v,O){return this.delegate.listen(_,v,O)}disableAnimations(_,v){this.engine.disableAnimations(_,v)}}class z extends R{constructor(_,v,O,q,re){super(v,O,q,re),this.factory=_,this.namespaceId=v}setProperty(_,v,O){"@"==v.charAt(0)?"."==v.charAt(1)&&v==la?this.disableAnimations(_,O=void 0===O||!!O):this.engine.process(this.namespaceId,_,v.slice(1),O):this.delegate.setProperty(_,v,O)}listen(_,v,O){if("@"==v.charAt(0)){const q=function F(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(_);let re=v.slice(1),we="";return"@"!=re.charAt(0)&&([re,we]=function te(W){const _=W.indexOf(".");return[W.substring(0,_),W.slice(_+1)]}(re)),this.engine.listen(this.namespaceId,q,re,we,Ee=>{this.factory.scheduleListenerCallback(Ee._data||-1,O,Ee)})}return this.delegate.listen(_,v,O)}}const Yt=[{provide:Pe,useClass:Ls},{provide:xi,useFactory:function nt(){return new Ia}},{provide:Xr,useClass:(()=>{class W extends Xr{constructor(v,O,q,re){super(v.body,O,q)}ngOnDestroy(){this.flush()}}return W.\u0275fac=function(v){return new(v||W)(Y.LFG(vo.K0),Y.LFG(qe),Y.LFG(xi),Y.LFG(Y.z2F))},W.\u0275prov=Y.Yz7({token:W,factory:W.\u0275fac}),W})()},{provide:Y.FYo,useFactory:function Dt(W,_,v){return new Yo(W,_,v)},deps:[d.se,Xr,Y.R0b]}],sr=[{provide:qe,useFactory:()=>new Ko},{provide:Y.QbO,useValue:"BrowserAnimations"},...Yt],wr=[{provide:qe,useClass:rt},{provide:Y.QbO,useValue:"NoopAnimations"},...Yt];let Nr=(()=>{class W{static withConfig(v){return{ngModule:W,providers:v.disableAnimations?wr:sr}}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=Y.oAB({type:W}),W.\u0275inj=Y.cJS({providers:sr,imports:[d.b2]}),W})();var qn=Z(2655);const fa=[{path:"auth",loadChildren:()=>Z.e(300).then(Z.bind(Z,7300)).then(W=>W.AuthModule)},{path:"cites",loadChildren:()=>Z.e(325).then(Z.bind(Z,325)).then(W=>W.CitesModule)},{path:"**",redirectTo:"cites"}];let gi=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=Y.oAB({type:W}),W.\u0275inj=Y.cJS({imports:[qn.Bz.forRoot(fa),qn.Bz]}),W})();const Ji_firebase={projectId:"clic-app-7347a",appId:"1:456189395259:web:3b03db8b0a1473b614371e",storageBucket:"clic-app-7347a.appspot.com",apiKey:"AIzaSyB9j0WtQF_NWD3SZuS582HklFsVAV4BEhQ",authDomain:"clic-app-7347a.firebaseapp.com",messagingSenderId:"456189395259"};var As=Z(3692),pa=Z(89),tl=Z(7318),St=Z(3289),Ri=Z(9154);function Pi(W,_){if(1&W){const v=Y.EpF();Y.TgZ(0,"ngb-toast",1),Y.NdJ("hidden",function(){const re=Y.CHM(v).$implicit,we=Y.oxw();return Y.KtG(we.toastService.remove(re))}),Y._uU(1),Y.qZA()}if(2&W){const v=_.$implicit;Y.Tol(v.classname),Y.Q6J("autohide",!0)("delay",v.delay||5e3),Y.xp6(1),Y.hij(" ",v.text,"\n")}}let ga=(()=>{class W{constructor(v){this.toastService=v}}return W.\u0275fac=function(v){return new(v||W)(Y.Y36(Ri.k))},W.\u0275cmp=Y.Xpm({type:W,selectors:[["app-toats"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],standalone:!0,features:[Y.jDz],decls:1,vars:1,consts:[[3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","hidden"]],template:function(v,O){1&v&&Y.YNc(0,Pi,2,5,"ngb-toast",0),2&v&&Y.Q6J("ngForOf",O.toastService.toasts)},dependencies:[St.aE,St.Iv,vo.ez,vo.sg],encapsulation:2}),W})(),nn=(()=>{class W{constructor(){this.title="clic-app"}}return W.\u0275fac=function(v){return new(v||W)},W.\u0275cmp=Y.Xpm({type:W,selectors:[["app-root"]],decls:2,vars:0,template:function(v,O){1&v&&Y._UZ(0,"router-outlet")(1,"app-toats")},dependencies:[qn.lC,ga]}),W})(),mn=(()=>{class W{}return W.\u0275fac=function(v){return new(v||W)},W.\u0275mod=Y.oAB({type:W,bootstrap:[nn]}),W.\u0275inj=Y.cJS({imports:[d.b2,gi,qn.Bz,fe.UX,(0,As.hX)(()=>(0,As.ZF)(Ji_firebase)),(0,pa.Cm)(()=>(0,pa.ad)()),(0,tl.AR)(()=>(0,tl.v0)()),Nr,St.IJ,ga,qn.Bz,fe.UX]}),W})();(0,Y.G48)(),d.q6().bootstrapModule(mn).catch(W=>console.error(W))},1135:(pn,lt,Z)=>{Z.d(lt,{X:()=>Y});var d=Z(7579);class Y extends d.x{constructor(Pe){super(),this._value=Pe}get value(){return this.getValue()}_subscribe(Pe){const Te=super._subscribe(Pe);return!Te.closed&&Pe.next(this._value),Te}getValue(){const{hasError:Pe,thrownError:Te,_value:ce}=this;if(Pe)throw Te;return this._throwIfClosed(),ce}next(Pe){super.next(this._value=Pe)}}},9751:(pn,lt,Z)=>{Z.d(lt,{y:()=>Re});var d=Z(930),Y=Z(727),fe=Z(8822),Pe=Z(9635),Te=Z(2416),ce=Z(576),Ce=Z(2806);let Re=(()=>{class tt{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const pt=new tt;return pt.source=this,pt.operator=Je,pt}subscribe(Je,pt,Lt){const zt=function ye(tt){return tt&&tt instanceof d.Lv||function le(tt){return tt&&(0,ce.m)(tt.next)&&(0,ce.m)(tt.error)&&(0,ce.m)(tt.complete)}(tt)&&(0,Y.Nn)(tt)}(Je)?Je:new d.Hp(Je,pt,Lt);return(0,Ce.x)(()=>{const{operator:Ht,source:on}=this;zt.add(Ht?Ht.call(zt,on):on?this._subscribe(zt):this._trySubscribe(zt))}),zt}_trySubscribe(Je){try{return this._subscribe(Je)}catch(pt){Je.error(pt)}}forEach(Je,pt){return new(pt=Xe(pt))((Lt,zt)=>{const Ht=new d.Hp({next:on=>{try{Je(on)}catch(Ft){zt(Ft),Ht.unsubscribe()}},error:zt,complete:Lt});this.subscribe(Ht)})}_subscribe(Je){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Je)}[fe.L](){return this}pipe(...Je){return(0,Pe.U)(Je)(this)}toPromise(Je){return new(Je=Xe(Je))((pt,Lt)=>{let zt;this.subscribe(Ht=>zt=Ht,Ht=>Lt(Ht),()=>pt(zt))})}}return tt.create=_t=>new tt(_t),tt})();function Xe(tt){var _t;return null!==(_t=tt??Te.v.Promise)&&void 0!==_t?_t:Promise}},7579:(pn,lt,Z)=>{Z.d(lt,{x:()=>Ce});var d=Z(9751),Y=Z(727);const Pe=(0,Z(3888).d)(Xe=>function(){Xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=Z(8737),ce=Z(2806);let Ce=(()=>{class Xe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const tt=new Re(this,this);return tt.operator=ye,tt}_throwIfClosed(){if(this.closed)throw new Pe}next(ye){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const tt of this.currentObservers)tt.next(ye)}})}error(ye){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:tt}=this;for(;tt.length;)tt.shift().error(ye)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:tt,isStopped:_t,observers:Je}=this;return tt||_t?Y.Lc:(this.currentObservers=null,Je.push(ye),new Y.w0(()=>{this.currentObservers=null,(0,Te.P)(Je,ye)}))}_checkFinalizedStatuses(ye){const{hasError:tt,thrownError:_t,isStopped:Je}=this;tt?ye.error(_t):Je&&ye.complete()}asObservable(){const ye=new d.y;return ye.source=this,ye}}return Xe.create=(le,ye)=>new Re(le,ye),Xe})();class Re extends Ce{constructor(le,ye){super(),this.destination=le,this.source=ye}next(le){var ye,tt;null===(tt=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===tt||tt.call(ye,le)}error(le){var ye,tt;null===(tt=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===tt||tt.call(ye,le)}complete(){var le,ye;null===(ye=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===ye||ye.call(le)}_subscribe(le){var ye,tt;return null!==(tt=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(le))&&void 0!==tt?tt:Y.Lc}}},930:(pn,lt,Z)=>{Z.d(lt,{Hp:()=>Lt,Lv:()=>tt});var d=Z(576),Y=Z(727),fe=Z(2416),Pe=Z(7849),Te=Z(5032);const ce=Xe("C",void 0,void 0);function Xe(ut,gt,ke){return{kind:ut,value:gt,error:ke}}var le=Z(3410),ye=Z(2806);class tt extends Y.w0{constructor(gt){super(),this.isStopped=!1,gt?(this.destination=gt,(0,Y.Nn)(gt)&&gt.add(this)):this.destination=Ft}static create(gt,ke,Rt){return new Lt(gt,ke,Rt)}next(gt){this.isStopped?on(function Re(ut){return Xe("N",ut,void 0)}(gt),this):this._next(gt)}error(gt){this.isStopped?on(function Ce(ut){return Xe("E",void 0,ut)}(gt),this):(this.isStopped=!0,this._error(gt))}complete(){this.isStopped?on(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(gt){this.destination.next(gt)}_error(gt){try{this.destination.error(gt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function Je(ut,gt){return _t.call(ut,gt)}class pt{constructor(gt){this.partialObserver=gt}next(gt){const{partialObserver:ke}=this;if(ke.next)try{ke.next(gt)}catch(Rt){zt(Rt)}}error(gt){const{partialObserver:ke}=this;if(ke.error)try{ke.error(gt)}catch(Rt){zt(Rt)}else zt(gt)}complete(){const{partialObserver:gt}=this;if(gt.complete)try{gt.complete()}catch(ke){zt(ke)}}}class Lt extends tt{constructor(gt,ke,Rt){let it;if(super(),(0,d.m)(gt)||!gt)it={next:gt??void 0,error:ke??void 0,complete:Rt??void 0};else{let Be;this&&fe.v.useDeprecatedNextContext?(Be=Object.create(gt),Be.unsubscribe=()=>this.unsubscribe(),it={next:gt.next&&Je(gt.next,Be),error:gt.error&&Je(gt.error,Be),complete:gt.complete&&Je(gt.complete,Be)}):it=gt}this.destination=new pt(it)}}function zt(ut){fe.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(ut):(0,Pe.h)(ut)}function on(ut,gt){const{onStoppedNotification:ke}=fe.v;ke&&le.z.setTimeout(()=>ke(ut,gt))}const Ft={closed:!0,next:Te.Z,error:function Ht(ut){throw ut},complete:Te.Z}},727:(pn,lt,Z)=>{Z.d(lt,{Lc:()=>ce,w0:()=>Te,Nn:()=>Ce});var d=Z(576);const fe=(0,Z(3888).d)(Xe=>function(ye){Xe(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((tt,_t)=>`${_t+1}) ${tt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var Pe=Z(8737);class Te{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Je of ye)Je.remove(this);else ye.remove(this);const{initialTeardown:tt}=this;if((0,d.m)(tt))try{tt()}catch(Je){le=Je instanceof fe?Je.errors:[Je]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const Je of _t)try{Re(Je)}catch(pt){le=le??[],pt instanceof fe?le=[...le,...pt.errors]:le.push(pt)}}if(le)throw new fe(le)}}add(le){var ye;if(le&&le!==this)if(this.closed)Re(le);else{if(le instanceof Te){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(le)}}_hasParent(le){const{_parentage:ye}=this;return ye===le||Array.isArray(ye)&&ye.includes(le)}_addParent(le){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(le),ye):ye?[ye,le]:le}_removeParent(le){const{_parentage:ye}=this;ye===le?this._parentage=null:Array.isArray(ye)&&(0,Pe.P)(ye,le)}remove(le){const{_finalizers:ye}=this;ye&&(0,Pe.P)(ye,le),le instanceof Te&&le._removeParent(this)}}Te.EMPTY=(()=>{const Xe=new Te;return Xe.closed=!0,Xe})();const ce=Te.EMPTY;function Ce(Xe){return Xe instanceof Te||Xe&&"closed"in Xe&&(0,d.m)(Xe.remove)&&(0,d.m)(Xe.add)&&(0,d.m)(Xe.unsubscribe)}function Re(Xe){(0,d.m)(Xe)?Xe():Xe.unsubscribe()}},2416:(pn,lt,Z)=>{Z.d(lt,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pn,lt,Z)=>{Z.d(lt,{a:()=>le});var d=Z(9751),Y=Z(4742),fe=Z(8996),Pe=Z(4671),Te=Z(3268),ce=Z(3269),Ce=Z(1810),Re=Z(5403),Xe=Z(9672);function le(..._t){const Je=(0,ce.yG)(_t),pt=(0,ce.jO)(_t),{args:Lt,keys:zt}=(0,Y.D)(_t);if(0===Lt.length)return(0,fe.D)([],Je);const Ht=new d.y(function ye(_t,Je,pt=Pe.y){return Lt=>{tt(Je,()=>{const{length:zt}=_t,Ht=new Array(zt);let on=zt,Ft=zt;for(let ut=0;ut<zt;ut++)tt(Je,()=>{const gt=(0,fe.D)(_t[ut],Je);let ke=!1;gt.subscribe((0,Re.x)(Lt,Rt=>{Ht[ut]=Rt,ke||(ke=!0,Ft--),Ft||Lt.next(pt(Ht.slice()))},()=>{--on||Lt.complete()}))},Lt)},Lt)}}(Lt,Je,zt?on=>(0,Ce.n)(zt,on):Pe.y));return pt?Ht.pipe((0,Te.Z)(pt)):Ht}function tt(_t,Je,pt){_t?(0,Xe.f)(pt,_t,Je):Je()}},7272:(pn,lt,Z)=>{Z.d(lt,{z:()=>Te});var d=Z(8189),fe=Z(3269),Pe=Z(8996);function Te(...ce){return function Y(){return(0,d.J)(1)}()((0,Pe.D)(ce,(0,fe.yG)(ce)))}},515:(pn,lt,Z)=>{Z.d(lt,{E:()=>Y});const Y=new(Z(9751).y)(Te=>Te.complete())},8996:(pn,lt,Z)=>{Z.d(lt,{D:()=>gt});var d=Z(8421),Y=Z(5363),fe=Z(9468),ce=Z(9751),Re=Z(2202),Xe=Z(576),le=Z(9672);function tt(ke,Rt){if(!ke)throw new Error("Iterable cannot be null");return new ce.y(it=>{(0,le.f)(it,Rt,()=>{const Be=ke[Symbol.asyncIterator]();(0,le.f)(it,Rt,()=>{Be.next().then(ht=>{ht.done?it.complete():it.next(ht.value)})},0,!0)})})}var _t=Z(3670),Je=Z(8239),pt=Z(1144),Lt=Z(6495),zt=Z(2206),Ht=Z(4532),on=Z(3260);function gt(ke,Rt){return Rt?function ut(ke,Rt){if(null!=ke){if((0,_t.c)(ke))return function Pe(ke,Rt){return(0,d.Xf)(ke).pipe((0,fe.R)(Rt),(0,Y.Q)(Rt))}(ke,Rt);if((0,pt.z)(ke))return function Ce(ke,Rt){return new ce.y(it=>{let Be=0;return Rt.schedule(function(){Be===ke.length?it.complete():(it.next(ke[Be++]),it.closed||this.schedule())})})}(ke,Rt);if((0,Je.t)(ke))return function Te(ke,Rt){return(0,d.Xf)(ke).pipe((0,fe.R)(Rt),(0,Y.Q)(Rt))}(ke,Rt);if((0,zt.D)(ke))return tt(ke,Rt);if((0,Lt.T)(ke))return function ye(ke,Rt){return new ce.y(it=>{let Be;return(0,le.f)(it,Rt,()=>{Be=ke[Re.h](),(0,le.f)(it,Rt,()=>{let ht,Ae;try{({value:ht,done:Ae}=Be.next())}catch(Le){return void it.error(Le)}Ae?it.complete():it.next(ht)},0,!0)}),()=>(0,Xe.m)(Be?.return)&&Be.return()})}(ke,Rt);if((0,on.L)(ke))return function Ft(ke,Rt){return tt((0,on.Q)(ke),Rt)}(ke,Rt)}throw(0,Ht.z)(ke)}(ke,Rt):(0,d.Xf)(ke)}},8421:(pn,lt,Z)=>{Z.d(lt,{Xf:()=>_t});var d=Z(655),Y=Z(1144),fe=Z(8239),Pe=Z(9751),Te=Z(3670),ce=Z(2206),Ce=Z(4532),Re=Z(6495),Xe=Z(3260),le=Z(576),ye=Z(7849),tt=Z(8822);function _t(ut){if(ut instanceof Pe.y)return ut;if(null!=ut){if((0,Te.c)(ut))return function Je(ut){return new Pe.y(gt=>{const ke=ut[tt.L]();if((0,le.m)(ke.subscribe))return ke.subscribe(gt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ut);if((0,Y.z)(ut))return function pt(ut){return new Pe.y(gt=>{for(let ke=0;ke<ut.length&&!gt.closed;ke++)gt.next(ut[ke]);gt.complete()})}(ut);if((0,fe.t)(ut))return function Lt(ut){return new Pe.y(gt=>{ut.then(ke=>{gt.closed||(gt.next(ke),gt.complete())},ke=>gt.error(ke)).then(null,ye.h)})}(ut);if((0,ce.D)(ut))return Ht(ut);if((0,Re.T)(ut))return function zt(ut){return new Pe.y(gt=>{for(const ke of ut)if(gt.next(ke),gt.closed)return;gt.complete()})}(ut);if((0,Xe.L)(ut))return function on(ut){return Ht((0,Xe.Q)(ut))}(ut)}throw(0,Ce.z)(ut)}function Ht(ut){return new Pe.y(gt=>{(function Ft(ut,gt){var ke,Rt,it,Be;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ke=(0,d.KL)(ut);!(Rt=yield ke.next()).done;)if(gt.next(Rt.value),gt.closed)return}catch(ht){it={error:ht}}finally{try{Rt&&!Rt.done&&(Be=ke.return)&&(yield Be.call(ke))}finally{if(it)throw it.error}}gt.complete()})})(ut,gt).catch(ke=>gt.error(ke))})}},9646:(pn,lt,Z)=>{Z.d(lt,{of:()=>fe});var d=Z(3269),Y=Z(8996);function fe(...Pe){const Te=(0,d.yG)(Pe);return(0,Y.D)(Pe,Te)}},5403:(pn,lt,Z)=>{Z.d(lt,{x:()=>Y});var d=Z(930);function Y(Pe,Te,ce,Ce,Re){return new fe(Pe,Te,ce,Ce,Re)}class fe extends d.Lv{constructor(Te,ce,Ce,Re,Xe,le){super(Te),this.onFinalize=Xe,this.shouldUnsubscribe=le,this._next=ce?function(ye){try{ce(ye)}catch(tt){Te.error(tt)}}:super._next,this._error=Re?function(ye){try{Re(ye)}catch(tt){Te.error(tt)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(ye){Te.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},9300:(pn,lt,Z)=>{Z.d(lt,{h:()=>fe});var d=Z(4482),Y=Z(5403);function fe(Pe,Te){return(0,d.e)((ce,Ce)=>{let Re=0;ce.subscribe((0,Y.x)(Ce,Xe=>Pe.call(Te,Xe,Re++)&&Ce.next(Xe)))})}},4004:(pn,lt,Z)=>{Z.d(lt,{U:()=>fe});var d=Z(4482),Y=Z(5403);function fe(Pe,Te){return(0,d.e)((ce,Ce)=>{let Re=0;ce.subscribe((0,Y.x)(Ce,Xe=>{Ce.next(Pe.call(Te,Xe,Re++))}))})}},9718:(pn,lt,Z)=>{Z.d(lt,{h:()=>Y});var d=Z(4004);function Y(fe){return(0,d.U)(()=>fe)}},8189:(pn,lt,Z)=>{Z.d(lt,{J:()=>fe});var d=Z(5577),Y=Z(4671);function fe(Pe=1/0){return(0,d.z)(Y.y,Pe)}},5577:(pn,lt,Z)=>{Z.d(lt,{z:()=>Re});var d=Z(4004),Y=Z(8421),fe=Z(4482),Pe=Z(9672),Te=Z(5403),Ce=Z(576);function Re(Xe,le,ye=1/0){return(0,Ce.m)(le)?Re((tt,_t)=>(0,d.U)((Je,pt)=>le(tt,Je,_t,pt))((0,Y.Xf)(Xe(tt,_t))),ye):("number"==typeof le&&(ye=le),(0,fe.e)((tt,_t)=>function ce(Xe,le,ye,tt,_t,Je,pt,Lt){const zt=[];let Ht=0,on=0,Ft=!1;const ut=()=>{Ft&&!zt.length&&!Ht&&le.complete()},gt=Rt=>Ht<tt?ke(Rt):zt.push(Rt),ke=Rt=>{Je&&le.next(Rt),Ht++;let it=!1;(0,Y.Xf)(ye(Rt,on++)).subscribe((0,Te.x)(le,Be=>{_t?.(Be),Je?gt(Be):le.next(Be)},()=>{it=!0},void 0,()=>{if(it)try{for(Ht--;zt.length&&Ht<tt;){const Be=zt.shift();pt?(0,Pe.f)(le,pt,()=>ke(Be)):ke(Be)}ut()}catch(Be){le.error(Be)}}))};return Xe.subscribe((0,Te.x)(le,gt,()=>{Ft=!0,ut()})),()=>{Lt?.()}}(tt,_t,Xe,ye)))}},5363:(pn,lt,Z)=>{Z.d(lt,{Q:()=>Pe});var d=Z(9672),Y=Z(4482),fe=Z(5403);function Pe(Te,ce=0){return(0,Y.e)((Ce,Re)=>{Ce.subscribe((0,fe.x)(Re,Xe=>(0,d.f)(Re,Te,()=>Re.next(Xe),ce),()=>(0,d.f)(Re,Te,()=>Re.complete(),ce),Xe=>(0,d.f)(Re,Te,()=>Re.error(Xe),ce)))})}},8675:(pn,lt,Z)=>{Z.d(lt,{O:()=>Pe});var d=Z(7272),Y=Z(3269),fe=Z(4482);function Pe(...Te){const ce=(0,Y.yG)(Te);return(0,fe.e)((Ce,Re)=>{(ce?(0,d.z)(Te,Ce,ce):(0,d.z)(Te,Ce)).subscribe(Re)})}},9468:(pn,lt,Z)=>{Z.d(lt,{R:()=>Y});var d=Z(4482);function Y(fe,Pe=0){return(0,d.e)((Te,ce)=>{ce.add(fe.schedule(()=>Te.subscribe(ce),Pe))})}},3900:(pn,lt,Z)=>{Z.d(lt,{w:()=>Pe});var d=Z(8421),Y=Z(4482),fe=Z(5403);function Pe(Te,ce){return(0,Y.e)((Ce,Re)=>{let Xe=null,le=0,ye=!1;const tt=()=>ye&&!Xe&&Re.complete();Ce.subscribe((0,fe.x)(Re,_t=>{Xe?.unsubscribe();let Je=0;const pt=le++;(0,d.Xf)(Te(_t,pt)).subscribe(Xe=(0,fe.x)(Re,Lt=>Re.next(ce?ce(_t,Lt,pt,Je++):Lt),()=>{Xe=null,tt()}))},()=>{ye=!0,tt()}))})}},5698:(pn,lt,Z)=>{Z.d(lt,{q:()=>Pe});var d=Z(515),Y=Z(4482),fe=Z(5403);function Pe(Te){return Te<=0?()=>d.E:(0,Y.e)((ce,Ce)=>{let Re=0;ce.subscribe((0,fe.x)(Ce,Xe=>{++Re<=Te&&(Ce.next(Xe),Te<=Re&&Ce.complete())}))})}},8505:(pn,lt,Z)=>{Z.d(lt,{b:()=>Te});var d=Z(576),Y=Z(4482),fe=Z(5403),Pe=Z(4671);function Te(ce,Ce,Re){const Xe=(0,d.m)(ce)||Ce||Re?{next:ce,error:Ce,complete:Re}:ce;return Xe?(0,Y.e)((le,ye)=>{var tt;null===(tt=Xe.subscribe)||void 0===tt||tt.call(Xe);let _t=!0;le.subscribe((0,fe.x)(ye,Je=>{var pt;null===(pt=Xe.next)||void 0===pt||pt.call(Xe,Je),ye.next(Je)},()=>{var Je;_t=!1,null===(Je=Xe.complete)||void 0===Je||Je.call(Xe),ye.complete()},Je=>{var pt;_t=!1,null===(pt=Xe.error)||void 0===pt||pt.call(Xe,Je),ye.error(Je)},()=>{var Je,pt;_t&&(null===(Je=Xe.unsubscribe)||void 0===Je||Je.call(Xe)),null===(pt=Xe.finalize)||void 0===pt||pt.call(Xe)}))}):Pe.y}},4408:(pn,lt,Z)=>{Z.d(lt,{o:()=>Te});var d=Z(727);class Y extends d.w0{constructor(Ce,Re){super()}schedule(Ce,Re=0){return this}}const fe={setInterval(ce,Ce,...Re){const{delegate:Xe}=fe;return Xe?.setInterval?Xe.setInterval(ce,Ce,...Re):setInterval(ce,Ce,...Re)},clearInterval(ce){const{delegate:Ce}=fe;return(Ce?.clearInterval||clearInterval)(ce)},delegate:void 0};var Pe=Z(8737);class Te extends Y{constructor(Ce,Re){super(Ce,Re),this.scheduler=Ce,this.work=Re,this.pending=!1}schedule(Ce,Re=0){var Xe;if(this.closed)return this;this.state=Ce;const le=this.id,ye=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(ye,le,Re)),this.pending=!0,this.delay=Re,this.id=null!==(Xe=this.id)&&void 0!==Xe?Xe:this.requestAsyncId(ye,this.id,Re),this}requestAsyncId(Ce,Re,Xe=0){return fe.setInterval(Ce.flush.bind(Ce,this),Xe)}recycleAsyncId(Ce,Re,Xe=0){if(null!=Xe&&this.delay===Xe&&!1===this.pending)return Re;null!=Re&&fe.clearInterval(Re)}execute(Ce,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Xe=this._execute(Ce,Re);if(Xe)return Xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Re){let le,Xe=!1;try{this.work(Ce)}catch(ye){Xe=!0,le=ye||new Error("Scheduled action threw falsy error")}if(Xe)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Re}=this,{actions:Xe}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pe.P)(Xe,this),null!=Ce&&(this.id=this.recycleAsyncId(Re,Ce,null)),this.delay=null,super.unsubscribe()}}}},640:(pn,lt,Z)=>{Z.d(lt,{v:()=>fe});const d={now:()=>(d.delegate||Date).now(),delegate:void 0};class Y{constructor(Te,ce=Y.now){this.schedulerActionCtor=Te,this.now=ce}schedule(Te,ce=0,Ce){return new this.schedulerActionCtor(this,Te).schedule(Ce,ce)}}Y.now=d.now;class fe extends Y{constructor(Te,ce=Y.now){super(Te,ce),this.actions=[],this._active=!1}flush(Te){const{actions:ce}=this;if(this._active)return void ce.push(Te);let Ce;this._active=!0;do{if(Ce=Te.execute(Te.state,Te.delay))break}while(Te=ce.shift());if(this._active=!1,Ce){for(;Te=ce.shift();)Te.unsubscribe();throw Ce}}}},4986:(pn,lt,Z)=>{Z.d(lt,{P:()=>Pe,z:()=>fe});var d=Z(4408);const fe=new(Z(640).v)(d.o),Pe=fe},3410:(pn,lt,Z)=>{Z.d(lt,{z:()=>d});const d={setTimeout(Y,fe,...Pe){const{delegate:Te}=d;return Te?.setTimeout?Te.setTimeout(Y,fe,...Pe):setTimeout(Y,fe,...Pe)},clearTimeout(Y){const{delegate:fe}=d;return(fe?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(pn,lt,Z)=>{Z.d(lt,{h:()=>Y});const Y=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pn,lt,Z)=>{Z.d(lt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pn,lt,Z)=>{Z.d(lt,{_6:()=>ce,jO:()=>Pe,yG:()=>Te});var d=Z(576),Y=Z(3532);function fe(Ce){return Ce[Ce.length-1]}function Pe(Ce){return(0,d.m)(fe(Ce))?Ce.pop():void 0}function Te(Ce){return(0,Y.K)(fe(Ce))?Ce.pop():void 0}function ce(Ce,Re){return"number"==typeof fe(Ce)?Ce.pop():Re}},4742:(pn,lt,Z)=>{Z.d(lt,{D:()=>Te});const{isArray:d}=Array,{getPrototypeOf:Y,prototype:fe,keys:Pe}=Object;function Te(Ce){if(1===Ce.length){const Re=Ce[0];if(d(Re))return{args:Re,keys:null};if(function ce(Ce){return Ce&&"object"==typeof Ce&&Y(Ce)===fe}(Re)){const Xe=Pe(Re);return{args:Xe.map(le=>Re[le]),keys:Xe}}}return{args:Ce,keys:null}}},8737:(pn,lt,Z)=>{function d(Y,fe){if(Y){const Pe=Y.indexOf(fe);0<=Pe&&Y.splice(Pe,1)}}Z.d(lt,{P:()=>d})},3888:(pn,lt,Z)=>{function d(Y){const Pe=Y(Te=>{Error.call(Te),Te.stack=(new Error).stack});return Pe.prototype=Object.create(Error.prototype),Pe.prototype.constructor=Pe,Pe}Z.d(lt,{d:()=>d})},1810:(pn,lt,Z)=>{function d(Y,fe){return Y.reduce((Pe,Te,ce)=>(Pe[Te]=fe[ce],Pe),{})}Z.d(lt,{n:()=>d})},2806:(pn,lt,Z)=>{Z.d(lt,{O:()=>Pe,x:()=>fe});var d=Z(2416);let Y=null;function fe(Te){if(d.v.useDeprecatedSynchronousErrorHandling){const ce=!Y;if(ce&&(Y={errorThrown:!1,error:null}),Te(),ce){const{errorThrown:Ce,error:Re}=Y;if(Y=null,Ce)throw Re}}else Te()}function Pe(Te){d.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=Te)}},9672:(pn,lt,Z)=>{function d(Y,fe,Pe,Te=0,ce=!1){const Ce=fe.schedule(function(){Pe(),ce?Y.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(Y.add(Ce),!ce)return Ce}Z.d(lt,{f:()=>d})},4671:(pn,lt,Z)=>{function d(Y){return Y}Z.d(lt,{y:()=>d})},1144:(pn,lt,Z)=>{Z.d(lt,{z:()=>d});const d=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(pn,lt,Z)=>{Z.d(lt,{D:()=>Y});var d=Z(576);function Y(fe){return Symbol.asyncIterator&&(0,d.m)(fe?.[Symbol.asyncIterator])}},576:(pn,lt,Z)=>{function d(Y){return"function"==typeof Y}Z.d(lt,{m:()=>d})},3670:(pn,lt,Z)=>{Z.d(lt,{c:()=>fe});var d=Z(8822),Y=Z(576);function fe(Pe){return(0,Y.m)(Pe[d.L])}},6495:(pn,lt,Z)=>{Z.d(lt,{T:()=>fe});var d=Z(2202),Y=Z(576);function fe(Pe){return(0,Y.m)(Pe?.[d.h])}},8239:(pn,lt,Z)=>{Z.d(lt,{t:()=>Y});var d=Z(576);function Y(fe){return(0,d.m)(fe?.then)}},3260:(pn,lt,Z)=>{Z.d(lt,{L:()=>Pe,Q:()=>fe});var d=Z(655),Y=Z(576);function fe(Te){return(0,d.FC)(this,arguments,function*(){const Ce=Te.getReader();try{for(;;){const{value:Re,done:Xe}=yield(0,d.qq)(Ce.read());if(Xe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Re)}}finally{Ce.releaseLock()}})}function Pe(Te){return(0,Y.m)(Te?.getReader)}},3532:(pn,lt,Z)=>{Z.d(lt,{K:()=>Y});var d=Z(576);function Y(fe){return fe&&(0,d.m)(fe.schedule)}},4482:(pn,lt,Z)=>{Z.d(lt,{A:()=>Y,e:()=>fe});var d=Z(576);function Y(Pe){return(0,d.m)(Pe?.lift)}function fe(Pe){return Te=>{if(Y(Te))return Te.lift(function(ce){try{return Pe(ce,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pn,lt,Z)=>{Z.d(lt,{Z:()=>Pe});var d=Z(4004);const{isArray:Y}=Array;function Pe(Te){return(0,d.U)(ce=>function fe(Te,ce){return Y(ce)?Te(...ce):Te(ce)}(Te,ce))}},5032:(pn,lt,Z)=>{function d(){}Z.d(lt,{Z:()=>d})},9635:(pn,lt,Z)=>{Z.d(lt,{U:()=>fe,z:()=>Y});var d=Z(4671);function Y(...Pe){return fe(Pe)}function fe(Pe){return 0===Pe.length?d.y:1===Pe.length?Pe[0]:function(ce){return Pe.reduce((Ce,Re)=>Re(Ce),ce)}}},7849:(pn,lt,Z)=>{Z.d(lt,{h:()=>fe});var d=Z(2416),Y=Z(3410);function fe(Pe){Y.z.setTimeout(()=>{const{onUnhandledError:Te}=d.v;if(!Te)throw Pe;Te(Pe)})}},4532:(pn,lt,Z)=>{function d(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(lt,{z:()=>d})},655:(pn,lt,Z)=>{function Pe(Ae,Le){var ve={};for(var Fe in Ae)Object.prototype.hasOwnProperty.call(Ae,Fe)&&Le.indexOf(Fe)<0&&(ve[Fe]=Ae[Fe]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var bt=0;for(Fe=Object.getOwnPropertySymbols(Ae);bt<Fe.length;bt++)Le.indexOf(Fe[bt])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Fe[bt])&&(ve[Fe[bt]]=Ae[Fe[bt]])}return ve}function Re(Ae,Le,ve,Fe){return new(ve||(ve=Promise))(function(yt,Gt){function cn(ir){try{hn(Fe.next(ir))}catch(Dn){Gt(Dn)}}function or(ir){try{hn(Fe.throw(ir))}catch(Dn){Gt(Dn)}}function hn(ir){ir.done?yt(ir.value):function bt(yt){return yt instanceof ve?yt:new ve(function(Gt){Gt(yt)})}(ir.value).then(cn,or)}hn((Fe=Fe.apply(Ae,Le||[])).next())})}function zt(Ae){return this instanceof zt?(this.v=Ae,this):new zt(Ae)}function Ht(Ae,Le,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt,Fe=ve.apply(Ae,Le||[]),yt=[];return bt={},Gt("next"),Gt("throw"),Gt("return"),bt[Symbol.asyncIterator]=function(){return this},bt;function Gt(Vn){Fe[Vn]&&(bt[Vn]=function(Sr){return new Promise(function(Ar,ar){yt.push([Vn,Sr,Ar,ar])>1||cn(Vn,Sr)})})}function cn(Vn,Sr){try{!function or(Vn){Vn.value instanceof zt?Promise.resolve(Vn.value.v).then(hn,ir):Dn(yt[0][2],Vn)}(Fe[Vn](Sr))}catch(Ar){Dn(yt[0][3],Ar)}}function hn(Vn){cn("next",Vn)}function ir(Vn){cn("throw",Vn)}function Dn(Vn,Sr){Vn(Sr),yt.shift(),yt.length&&cn(yt[0][0],yt[0][1])}}function Ft(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,Le=Ae[Symbol.asyncIterator];return Le?Le.call(Ae):(Ae=function tt(Ae){var Le="function"==typeof Symbol&&Symbol.iterator,ve=Le&&Ae[Le],Fe=0;if(ve)return ve.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&Fe>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[Fe++],done:!Ae}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),ve={},Fe("next"),Fe("throw"),Fe("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Fe(yt){ve[yt]=Ae[yt]&&function(Gt){return new Promise(function(cn,or){!function bt(yt,Gt,cn,or){Promise.resolve(or).then(function(hn){yt({value:hn,done:cn})},Gt)}(cn,or,(Gt=Ae[yt](Gt)).done,Gt.value)})}}}Z.d(lt,{FC:()=>Ht,KL:()=>Ft,_T:()=>Pe,mG:()=>Re,qq:()=>zt})},6895:(pn,lt,Z)=>{Z.d(lt,{Do:()=>Ft,EM:()=>zi,HT:()=>Te,JF:()=>Wo,K0:()=>Ce,Mx:()=>Hi,NF:()=>Ta,O5:()=>Ve,OU:()=>Co,Ov:()=>co,S$:()=>zt,V_:()=>le,Ye:()=>ut,b0:()=>on,bD:()=>Ro,ez:()=>Hs,mk:()=>Ns,q:()=>fe,sg:()=>wi,tP:()=>gs,uU:()=>$s,w_:()=>ce});var d=Z(8256);let Y=null;function fe(){return Y}function Te(R){Y||(Y=R)}class ce{}const Ce=new d.OlP("DocumentToken");let Re=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return function Xe(){return(0,d.LFG)(ye)}()},providedIn:"platform"}),R})();const le=new d.OlP("Location Initialized");let ye=(()=>{class R extends Re{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(F){const te=fe().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",F,!1),()=>te.removeEventListener("popstate",F)}onHashChange(F){const te=fe().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",F,!1),()=>te.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,te,be){tt()?this._history.pushState(F,te,be):this.location.hash=be}replaceState(F,te,be){tt()?this._history.replaceState(F,te,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return R.\u0275fac=function(F){return new(F||R)(d.LFG(Ce))},R.\u0275prov=d.Yz7({token:R,factory:function(){return function _t(){return new ye((0,d.LFG)(Ce))}()},providedIn:"platform"}),R})();function tt(){return!!window.history.pushState}function Je(R,z){if(0==R.length)return z;if(0==z.length)return R;let F=0;return R.endsWith("/")&&F++,z.startsWith("/")&&F++,2==F?R+z.substring(1):1==F?R+z:R+"/"+z}function pt(R){const z=R.match(/#|\?|$/),F=z&&z.index||R.length;return R.slice(0,F-("/"===R[F-1]?1:0))+R.slice(F)}function Lt(R){return R&&"?"!==R[0]?"?"+R:R}let zt=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=d.Yz7({token:R,factory:function(){return(0,d.f3M)(on)},providedIn:"root"}),R})();const Ht=new d.OlP("appBaseHref");let on=(()=>{class R extends zt{constructor(F,te){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Je(this._baseHref,F)}path(F=!1){const te=this._platformLocation.pathname+Lt(this._platformLocation.search),be=this._platformLocation.hash;return be&&F?`${te}${be}`:te}pushState(F,te,be,nt){const Dt=this.prepareExternalUrl(be+Lt(nt));this._platformLocation.pushState(F,te,Dt)}replaceState(F,te,be,nt){const Dt=this.prepareExternalUrl(be+Lt(nt));this._platformLocation.replaceState(F,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(d.LFG(Re),d.LFG(Ht,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Ft=(()=>{class R extends zt{constructor(F,te){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(F){const te=Je(this._baseHref,F);return te.length>0?"#"+te:te}pushState(F,te,be,nt){let Dt=this.prepareExternalUrl(be+Lt(nt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(F,te,Dt)}replaceState(F,te,be,nt){let Dt=this.prepareExternalUrl(be+Lt(nt));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(F,te,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(d.LFG(Re),d.LFG(Ht,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),R})(),ut=(()=>{class R{constructor(F){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const te=this._locationStrategy.getBaseHref();this._baseHref=pt(Rt(te)),this._locationStrategy.onPopState(be=>{this._subject.emit({url:this.path(!0),pop:!0,state:be.state,type:be.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,te=""){return this.path()==this.normalize(F+Lt(te))}normalize(F){return R.stripTrailingSlash(function ke(R,z){return R&&z.startsWith(R)?z.substring(R.length):z}(this._baseHref,Rt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,te="",be=null){this._locationStrategy.pushState(be,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Lt(te)),be)}replaceState(F,te="",be=null){this._locationStrategy.replaceState(be,"",F,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+Lt(te)),be)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",te){this._urlChangeListeners.forEach(be=>be(F,te))}subscribe(F,te,be){return this._subject.subscribe({next:F,error:te,complete:be})}}return R.normalizeQueryParams=Lt,R.joinWithSlash=Je,R.stripTrailingSlash=pt,R.\u0275fac=function(F){return new(F||R)(d.LFG(zt))},R.\u0275prov=d.Yz7({token:R,factory:function(){return function gt(){return new ut((0,d.LFG)(zt))}()},providedIn:"root"}),R})();function Rt(R){return R.replace(/\/index.html$/,"")}var Ae=(()=>((Ae=Ae||{})[Ae.Format=0]="Format",Ae[Ae.Standalone=1]="Standalone",Ae))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),ve=(()=>((ve=ve||{})[ve.Short=0]="Short",ve[ve.Medium=1]="Medium",ve[ve.Long=2]="Long",ve[ve.Full=3]="Full",ve))(),Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Group=1]="Group",Fe[Fe.List=2]="List",Fe[Fe.PercentSign=3]="PercentSign",Fe[Fe.PlusSign=4]="PlusSign",Fe[Fe.MinusSign=5]="MinusSign",Fe[Fe.Exponential=6]="Exponential",Fe[Fe.SuperscriptingExponent=7]="SuperscriptingExponent",Fe[Fe.PerMille=8]="PerMille",Fe[Fe.Infinity=9]="Infinity",Fe[Fe.NaN=10]="NaN",Fe[Fe.TimeSeparator=11]="TimeSeparator",Fe[Fe.CurrencyDecimal=12]="CurrencyDecimal",Fe[Fe.CurrencyGroup=13]="CurrencyGroup",Fe))();function Vn(R,z){return dr((0,d.cg1)(R)[d.wAp.DateFormat],z)}function Sr(R,z){return dr((0,d.cg1)(R)[d.wAp.TimeFormat],z)}function Ar(R,z){return dr((0,d.cg1)(R)[d.wAp.DateTimeFormat],z)}function ar(R,z){const F=(0,d.cg1)(R),te=F[d.wAp.NumberSymbols][z];if(typeof te>"u"){if(z===Fe.CurrencyDecimal)return F[d.wAp.NumberSymbols][Fe.Decimal];if(z===Fe.CurrencyGroup)return F[d.wAp.NumberSymbols][Fe.Group]}return te}function Zi(R){if(!R[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dr(R,z){for(let F=z;F>-1;F--)if(typeof R[F]<"u")return R[F];throw new Error("Locale data API: locale data undefined")}function oi(R){const[z,F]=R.split(":");return{hours:+z,minutes:+F}}const Es=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hi={},Vr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mt=(()=>((Mt=Mt||{})[Mt.Short=0]="Short",Mt[Mt.ShortGMT=1]="ShortGMT",Mt[Mt.Long=2]="Long",Mt[Mt.Extended=3]="Extended",Mt))(),Ut=(()=>((Ut=Ut||{})[Ut.FullYear=0]="FullYear",Ut[Ut.Month=1]="Month",Ut[Ut.Date=2]="Date",Ut[Ut.Hours=3]="Hours",Ut[Ut.Minutes=4]="Minutes",Ut[Ut.Seconds=5]="Seconds",Ut[Ut.FractionalSeconds=6]="FractionalSeconds",Ut[Ut.Day=7]="Day",Ut))(),qt=(()=>((qt=qt||{})[qt.DayPeriods=0]="DayPeriods",qt[qt.Days=1]="Days",qt[qt.Months=2]="Months",qt[qt.Eras=3]="Eras",qt))();function Tr(R,z,F,te){let be=function Vt(R){if(kn(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[be,nt=1,Dt=1]=R.split("-").map(Yt=>+Yt);return Br(be,nt-1,Dt)}const F=parseFloat(R);if(!isNaN(R-F))return new Date(F);let te;if(te=R.match(Es))return function bn(R){const z=new Date(0);let F=0,te=0;const be=R[8]?z.setUTCFullYear:z.setFullYear,nt=R[8]?z.setUTCHours:z.setHours;R[9]&&(F=Number(R[9]+R[10]),te=Number(R[9]+R[11])),be.call(z,Number(R[1]),Number(R[2])-1,Number(R[3]));const Dt=Number(R[4]||0)-F,Yt=Number(R[5]||0)-te,sr=Number(R[6]||0),wr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return nt.call(z,Dt,Yt,sr,wr),z}(te)}const z=new Date(R);if(!kn(z))throw new Error(`Unable to convert "${R}" into a date`);return z}(R);z=Xn(F,z)||z;let Yt,Dt=[];for(;z;){if(Yt=Vr.exec(z),!Yt){Dt.push(z);break}{Dt=Dt.concat(Yt.slice(1));const Nr=Dt.pop();if(!Nr)break;z=Nr}}let sr=be.getTimezoneOffset();te&&(sr=Me(te,sr),be=function qe(R,z,F){const te=F?-1:1,be=R.getTimezoneOffset();return function rt(R,z){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+z),R}(R,te*(Me(z,be)-be))}(be,te,!0));let wr="";return Dt.forEach(Nr=>{const Dr=function pe(R){if(ge[R])return ge[R];let z;switch(R){case"G":case"GG":case"GGG":z=En(qt.Eras,Le.Abbreviated);break;case"GGGG":z=En(qt.Eras,Le.Wide);break;case"GGGGG":z=En(qt.Eras,Le.Narrow);break;case"y":z=Kt(Ut.FullYear,1,0,!1,!0);break;case"yy":z=Kt(Ut.FullYear,2,0,!0,!0);break;case"yyy":z=Kt(Ut.FullYear,3,0,!1,!0);break;case"yyyy":z=Kt(Ut.FullYear,4,0,!1,!0);break;case"Y":z=Bn(1);break;case"YY":z=Bn(2,!0);break;case"YYY":z=Bn(3);break;case"YYYY":z=Bn(4);break;case"M":case"L":z=Kt(Ut.Month,1,1);break;case"MM":case"LL":z=Kt(Ut.Month,2,1);break;case"MMM":z=En(qt.Months,Le.Abbreviated);break;case"MMMM":z=En(qt.Months,Le.Wide);break;case"MMMMM":z=En(qt.Months,Le.Narrow);break;case"LLL":z=En(qt.Months,Le.Abbreviated,Ae.Standalone);break;case"LLLL":z=En(qt.Months,Le.Wide,Ae.Standalone);break;case"LLLLL":z=En(qt.Months,Le.Narrow,Ae.Standalone);break;case"w":z=Cn(1);break;case"ww":z=Cn(2);break;case"W":z=Cn(1,!0);break;case"d":z=Kt(Ut.Date,1);break;case"dd":z=Kt(Ut.Date,2);break;case"c":case"cc":z=Kt(Ut.Day,1);break;case"ccc":z=En(qt.Days,Le.Abbreviated,Ae.Standalone);break;case"cccc":z=En(qt.Days,Le.Wide,Ae.Standalone);break;case"ccccc":z=En(qt.Days,Le.Narrow,Ae.Standalone);break;case"cccccc":z=En(qt.Days,Le.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":z=En(qt.Days,Le.Abbreviated);break;case"EEEE":z=En(qt.Days,Le.Wide);break;case"EEEEE":z=En(qt.Days,Le.Narrow);break;case"EEEEEE":z=En(qt.Days,Le.Short);break;case"a":case"aa":case"aaa":z=En(qt.DayPeriods,Le.Abbreviated);break;case"aaaa":z=En(qt.DayPeriods,Le.Wide);break;case"aaaaa":z=En(qt.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":z=En(qt.DayPeriods,Le.Abbreviated,Ae.Standalone,!0);break;case"bbbb":z=En(qt.DayPeriods,Le.Wide,Ae.Standalone,!0);break;case"bbbbb":z=En(qt.DayPeriods,Le.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":z=En(qt.DayPeriods,Le.Abbreviated,Ae.Format,!0);break;case"BBBB":z=En(qt.DayPeriods,Le.Wide,Ae.Format,!0);break;case"BBBBB":z=En(qt.DayPeriods,Le.Narrow,Ae.Format,!0);break;case"h":z=Kt(Ut.Hours,1,-12);break;case"hh":z=Kt(Ut.Hours,2,-12);break;case"H":z=Kt(Ut.Hours,1);break;case"HH":z=Kt(Ut.Hours,2);break;case"m":z=Kt(Ut.Minutes,1);break;case"mm":z=Kt(Ut.Minutes,2);break;case"s":z=Kt(Ut.Seconds,1);break;case"ss":z=Kt(Ut.Seconds,2);break;case"S":z=Kt(Ut.FractionalSeconds,1);break;case"SS":z=Kt(Ut.FractionalSeconds,2);break;case"SSS":z=Kt(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=Ui(Mt.Short);break;case"ZZZZZ":z=Ui(Mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=Ui(Mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=Ui(Mt.Long);break;default:return null}return ge[R]=z,z}(Nr);wr+=Dr?Dr(be,F,sr):"''"===Nr?"'":Nr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wr}function Br(R,z,F){const te=new Date(0);return te.setFullYear(R,z,F),te.setHours(0,0,0),te}function Xn(R,z){const F=function yt(R){return(0,d.cg1)(R)[d.wAp.LocaleId]}(R);if(hi[F]=hi[F]||{},hi[F][z])return hi[F][z];let te="";switch(z){case"shortDate":te=Vn(R,ve.Short);break;case"mediumDate":te=Vn(R,ve.Medium);break;case"longDate":te=Vn(R,ve.Long);break;case"fullDate":te=Vn(R,ve.Full);break;case"shortTime":te=Sr(R,ve.Short);break;case"mediumTime":te=Sr(R,ve.Medium);break;case"longTime":te=Sr(R,ve.Long);break;case"fullTime":te=Sr(R,ve.Full);break;case"short":const be=Xn(R,"shortTime"),nt=Xn(R,"shortDate");te=Rr(Ar(R,ve.Short),[be,nt]);break;case"medium":const Dt=Xn(R,"mediumTime"),Yt=Xn(R,"mediumDate");te=Rr(Ar(R,ve.Medium),[Dt,Yt]);break;case"long":const sr=Xn(R,"longTime"),wr=Xn(R,"longDate");te=Rr(Ar(R,ve.Long),[sr,wr]);break;case"full":const Nr=Xn(R,"fullTime"),Dr=Xn(R,"fullDate");te=Rr(Ar(R,ve.Full),[Nr,Dr])}return te&&(hi[F][z]=te),te}function Rr(R,z){return z&&(R=R.replace(/\{([^}]+)}/g,function(F,te){return null!=z&&te in z?z[te]:F})),R}function Rn(R,z,F="-",te,be){let nt="";(R<0||be&&R<=0)&&(be?R=1-R:(R=-R,nt=F));let Dt=String(R);for(;Dt.length<z;)Dt="0"+Dt;return te&&(Dt=Dt.slice(Dt.length-z)),nt+Dt}function Kt(R,z,F=0,te=!1,be=!1){return function(nt,Dt){let Yt=function ai(R,z){switch(R){case Ut.FullYear:return z.getFullYear();case Ut.Month:return z.getMonth();case Ut.Date:return z.getDate();case Ut.Hours:return z.getHours();case Ut.Minutes:return z.getMinutes();case Ut.Seconds:return z.getSeconds();case Ut.FractionalSeconds:return z.getMilliseconds();case Ut.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,nt);if((F>0||Yt>-F)&&(Yt+=F),R===Ut.Hours)0===Yt&&-12===F&&(Yt=12);else if(R===Ut.FractionalSeconds)return function Jr(R,z){return Rn(R,3).substring(0,z)}(Yt,z);const sr=ar(Dt,Fe.MinusSign);return Rn(Yt,z,sr,te,be)}}function En(R,z,F=Ae.Format,te=!1){return function(be,nt){return function Ai(R,z,F,te,be,nt){switch(F){case qt.Months:return function or(R,z,F){const te=(0,d.cg1)(R),nt=dr([te[d.wAp.MonthsFormat],te[d.wAp.MonthsStandalone]],z);return dr(nt,F)}(z,be,te)[R.getMonth()];case qt.Days:return function cn(R,z,F){const te=(0,d.cg1)(R),nt=dr([te[d.wAp.DaysFormat],te[d.wAp.DaysStandalone]],z);return dr(nt,F)}(z,be,te)[R.getDay()];case qt.DayPeriods:const Dt=R.getHours(),Yt=R.getMinutes();if(nt){const wr=function di(R){const z=(0,d.cg1)(R);return Zi(z),(z[d.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?oi(te):[oi(te[0]),oi(te[1])])}(z),Nr=function Wn(R,z,F){const te=(0,d.cg1)(R);Zi(te);const nt=dr([te[d.wAp.ExtraData][0],te[d.wAp.ExtraData][1]],z)||[];return dr(nt,F)||[]}(z,be,te),Dr=wr.findIndex(jr=>{if(Array.isArray(jr)){const[Mr,qn]=jr,fa=Dt>=Mr.hours&&Yt>=Mr.minutes,gi=Dt<qn.hours||Dt===qn.hours&&Yt<qn.minutes;if(Mr.hours<qn.hours){if(fa&&gi)return!0}else if(fa||gi)return!0}else if(jr.hours===Dt&&jr.minutes===Yt)return!0;return!1});if(-1!==Dr)return Nr[Dr]}return function Gt(R,z,F){const te=(0,d.cg1)(R),nt=dr([te[d.wAp.DayPeriodsFormat],te[d.wAp.DayPeriodsStandalone]],z);return dr(nt,F)}(z,be,te)[Dt<12?0:1];case qt.Eras:return function hn(R,z){return dr((0,d.cg1)(R)[d.wAp.Eras],z)}(z,te)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(be,nt,R,z,F,te)}}function Ui(R){return function(z,F,te){const be=-1*te,nt=ar(F,Fe.MinusSign),Dt=be>0?Math.floor(be/60):Math.ceil(be/60);switch(R){case Mt.Short:return(be>=0?"+":"")+Rn(Dt,2,nt)+Rn(Math.abs(be%60),2,nt);case Mt.ShortGMT:return"GMT"+(be>=0?"+":"")+Rn(Dt,1,nt);case Mt.Long:return"GMT"+(be>=0?"+":"")+Rn(Dt,2,nt)+":"+Rn(Math.abs(be%60),2,nt);case Mt.Extended:return 0===te?"Z":(be>=0?"+":"")+Rn(Dt,2,nt)+":"+Rn(Math.abs(be%60),2,nt);default:throw new Error(`Unknown zone width "${R}"`)}}}function an(R){return Br(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function Cn(R,z=!1){return function(F,te){let be;if(z){const nt=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Dt=F.getDate();be=1+Math.floor((Dt+nt)/7)}else{const nt=an(F),Dt=function Pt(R){const z=Br(R,0,1).getDay();return Br(R,0,1+(z<=4?4:11)-z)}(nt.getFullYear()),Yt=nt.getTime()-Dt.getTime();be=1+Math.round(Yt/6048e5)}return Rn(be,R,ar(te,Fe.MinusSign))}}function Bn(R,z=!1){return function(F,te){return Rn(an(F).getFullYear(),R,ar(te,Fe.MinusSign),z)}}const ge={};function Me(R,z){R=R.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(F)?z:F}function kn(R){return R instanceof Date&&!isNaN(R.valueOf())}function Hi(R,z){z=encodeURIComponent(z);for(const F of R.split(";")){const te=F.indexOf("="),[be,nt]=-1==te?[F,""]:[F.slice(0,te),F.slice(te+1)];if(be.trim()===z)return decodeURIComponent(nt)}return null}let Ns=(()=>{class R{constructor(F,te,be,nt){this._iterableDiffers=F,this._keyValueDiffers=te,this._ngEl=be,this._renderer=nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(te=>this._toggleClass(te.key,te.currentValue)),F.forEachChangedItem(te=>this._toggleClass(te.key,te.currentValue)),F.forEachRemovedItem(te=>{te.previousValue&&this._toggleClass(te.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(te=>{if("string"!=typeof te.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(te.item)}`);this._toggleClass(te.item,!0)}),F.forEachRemovedItem(te=>this._toggleClass(te.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(te=>this._toggleClass(te,!0)):Object.keys(F).forEach(te=>this._toggleClass(te,!!F[te])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(te=>this._toggleClass(te,!1)):Object.keys(F).forEach(te=>this._toggleClass(te,!1)))}_toggleClass(F,te){(F=F.trim())&&F.split(/\s+/g).forEach(be=>{te?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class Gi{constructor(z,F,te,be){this.$implicit=z,this.ngForOf=F,this.index=te,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{class R{constructor(F,te,be){this._viewContainer=F,this._template=te,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const te=this._viewContainer;F.forEachOperation((be,nt,Dt)=>{if(null==be.previousIndex)te.createEmbeddedView(this._template,new Gi(be.item,this._ngForOf,-1,-1),null===Dt?void 0:Dt);else if(null==Dt)te.remove(null===nt?void 0:nt);else if(null!==nt){const Yt=te.get(nt);te.move(Yt,Dt),$e(Yt,be)}});for(let be=0,nt=te.length;be<nt;be++){const Yt=te.get(be).context;Yt.index=be,Yt.count=nt,Yt.ngForOf=this._ngForOf}F.forEachIdentityChange(be=>{$e(te.get(be.currentIndex),be)})}static ngTemplateContextGuard(F,te){return!0}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function $e(R,z){R.context.$implicit=z.item}let Ve=(()=>{class R{constructor(F,te){this._viewContainer=F,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){It("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){It("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,te){return!0}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.s_b),d.Y36(d.Rgc))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function It(R,z){if(z&&!z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.AaK)(z)}'.`)}let gs=(()=>{class R{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:be,ngTemplateOutletContext:nt,ngTemplateOutletInjector:Dt}=this;this._viewRef=te.createEmbeddedView(be,nt,Dt?{injector:Dt}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.s_b))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),R})();function Oi(R,z){return new d.vHH(2100,!1)}class xo{createSubscription(z,F){return z.subscribe({next:F,error:te=>{throw te}})}dispose(z){z.unsubscribe()}}class Cs{createSubscription(z,F){return z.then(F,te=>{throw te})}dispose(z){}}const Xs=new Cs,Rs=new xo;let co=(()=>{class R{constructor(F){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=F}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,te=>this._updateLatestValue(F,te))}_selectStrategy(F){if((0,d.QGY)(F))return Xs;if((0,d.F4k)(F))return Rs;throw Oi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,te){F===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.sBO,16))},R.\u0275pipe=d.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})();const Ca=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let $s=(()=>{class R{constructor(F,te){this.locale=F,this.defaultTimezone=te}transform(F,te="mediumDate",be,nt){if(null==F||""===F||F!=F)return null;try{return Tr(F,te,nt||this.locale,be??this.defaultTimezone??void 0)}catch(Dt){throw Oi()}}}return R.\u0275fac=function(F){return new(F||R)(d.Y36(d.soG,16),d.Y36(Ca,24))},R.\u0275pipe=d.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),Co=(()=>{class R{transform(F,te,be){if(null==F)return null;if(!this.supports(F))throw Oi();return F.slice(te,be)}supports(F){return"string"==typeof F||Array.isArray(F)}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275pipe=d.Yjl({name:"slice",type:R,pure:!1,standalone:!0}),R})(),Hs=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({}),R})();const Ro="browser";function Ta(R){return R===Ro}let zi=(()=>{class R{}return R.\u0275prov=(0,d.Yz7)({token:R,providedIn:"root",factory:()=>new ls((0,d.LFG)(Ce),window)}),R})();class ls{constructor(z,F){this.document=z,this.window=F,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const F=function Po(R,z){const F=R.getElementById(z)||R.getElementsByName(z)[0];if(F)return F;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const te=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let be=te.currentNode;for(;be;){const nt=be.shadowRoot;if(nt){const Dt=nt.getElementById(z)||nt.querySelector(`[name="${z}"]`);if(Dt)return Dt}be=te.nextNode()}}return null}(this.document,z);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=z)}}scrollToElement(z){const F=z.getBoundingClientRect(),te=F.left+this.window.pageXOffset,be=F.top+this.window.pageYOffset,nt=this.offset();this.window.scrollTo(te-nt[0],be-nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=no(this.window.history)||no(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function no(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Wo{}},8256:(pn,lt,Z)=>{Z.d(lt,{QbO:()=>zD,tb:()=>mb,AFp:()=>fb,ip1:()=>hb,CZH:()=>u_,hGG:()=>xE,z2F:()=>d_,sBO:()=>mE,Sil:()=>QD,_Vd:()=>Ja,EJc:()=>YD,Xts:()=>Ie,SBq:()=>yc,lqb:()=>Bi,qLn:()=>kl,vpe:()=>Ac,XFs:()=>Mt,OlP:()=>Ti,zs3:()=>Lu,ZZ4:()=>ev,aQg:()=>tv,soG:()=>c_,YKP:()=>f0,h0i:()=>hp,PXZ:()=>cE,R0b:()=>du,FiY:()=>Yi,Lbi:()=>WD,g9A:()=>gb,Qsj:()=>bf,FYo:()=>vf,JOm:()=>_a,tp0:()=>za,Rgc:()=>Rg,dDg:()=>oE,eoX:()=>Eb,q4F:()=>su,GfV:()=>wf,s_b:()=>o_,ifc:()=>ai,LMc:()=>kE,MMx:()=>Ny,Lck:()=>Ww,eFA:()=>Ib,G48:()=>gE,Gpc:()=>on,f3M:()=>vn,_c5:()=>OE,c2e:()=>qD,zSh:()=>ci,wAp:()=>_r,vHH:()=>ke,lri:()=>wb,rWj:()=>Db,D6c:()=>RE,cg1:()=>by,kL8:()=>Fv,dqk:()=>En,Z0I:()=>ss,sIi:()=>Ah,CqO:()=>jh,QGY:()=>$h,QP$:()=>st,F4k:()=>Bm,RDi:()=>Su,AaK:()=>Lt,qOj:()=>Zf,TTD:()=>Gs,_Bn:()=>h0,jDz:()=>g0,xp6:()=>uh,uIk:()=>Jf,Tol:()=>hy,ekj:()=>lu,Suo:()=>j0,Xpm:()=>rt,lG2:()=>Ue,Yz7:()=>lr,cJS:()=>di,oAB:()=>kn,Yjl:()=>me,Y36:()=>Ad,_UZ:()=>rp,qZA:()=>Uh,TgZ:()=>np,EpF:()=>sp,n5z:()=>es,Ikx:()=>vy,SDv:()=>u0,QtT:()=>c0,pQV:()=>Ey,LFG:()=>ze,$8M:()=>Vo,$Z:()=>um,NdJ:()=>Pd,CRH:()=>H0,oxw:()=>$m,ALo:()=>O0,lcZ:()=>x0,xi3:()=>R0,Dn7:()=>P0,Hsn:()=>kd,F$t:()=>sy,Q6J:()=>Bh,s9C:()=>jm,MGl:()=>Gu,DdM:()=>D0,VKq:()=>E0,WLB:()=>C0,kEZ:()=>T0,iGM:()=>U0,MAs:()=>gg,KtG:()=>Is,CHM:()=>qo,LSH:()=>eu,Udp:()=>Km,YNc:()=>tp,W1O:()=>q0,_uU:()=>_y,Oqu:()=>Xm,hij:()=>Cg,AsE:()=>e_,Gf:()=>$0});var d=Z(7579),Y=Z(727),fe=Z(9751),Pe=Z(8189),Te=Z(8421),ce=Z(515),Ce=Z(3269),Re=Z(8996),le=Z(930),ye=Z(4482);function _t(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new le.Hp({next:()=>{a.unsubscribe(),n()}});return r(...s).subscribe(a)}function Je(n){for(let r in n)if(n[r]===Je)return r;throw Error("Could not find renamed property on target object.")}function pt(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Lt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Lt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function zt(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Ht=Je({__forward_ref__:Je});function on(n){return n.__forward_ref__=on,n.toString=function(){return Lt(this())},n}function Ft(n){return ut(n)?n():n}function ut(n){return"function"==typeof n&&n.hasOwnProperty(Ht)&&n.__forward_ref__===on}class ke extends Error{constructor(r,s){super(function Rt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function it(n){return"string"==typeof n?n:null==n?"":String(n)}function ve(n,r){throw new ke(-201,!1)}function Fn(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}function lr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function di(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wn(n){return dr(n,Qn)||dr(n,hi)}function ss(n){return null!==Wn(n)}function dr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Zn(n){return n&&(n.hasOwnProperty(Es)||n.hasOwnProperty(Vr))?n[Es]:null}const Qn=Je({\u0275prov:Je}),Es=Je({\u0275inj:Je}),hi=Je({ngInjectableDef:Je}),Vr=Je({ngInjectorDef:Je});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let Ut;function Tr(n){const r=Ut;return Ut=n,r}function Br(n,r,s){const a=Wn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Mt.Optional?null:void 0!==r?r:void ve(Lt(n))}function Rr(n){return{toString:n}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),ai=(()=>{return(n=ai||(ai={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ai;var n})();const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jt={},Ye=[],Pt=Je({\u0275cmp:Je}),an=Je({\u0275dir:Je}),Cn=Je({\u0275pipe:Je}),Bn=Je({\u0275mod:Je}),ge=Je({\u0275fac:Je}),pe=Je({__NG_ELEMENT_ID__:Je});let Me=0;function rt(n){return Rr(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ai.Emulated,id:"c"+Me++,styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.dependencies,D=n.features;return c.inputs=hr(n.inputs,a),c.outputs=hr(n.outputs),D&&D.forEach(S=>S(c)),c.directiveDefs=p?()=>("function"==typeof p?p():p).map(Vt).filter(bn):null,c.pipeDefs=p?()=>("function"==typeof p?p():p).map(Oe).filter(bn):null,c})}function Vt(n){return oe(n)||je(n)}function bn(n){return null!==n}function kn(n){return Rr(()=>({type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hr(n,r){if(null==n)return jt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),s[c]=a,r&&(r[c]=p)}return s}const Ue=rt;function me(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function oe(n){return n[Pt]||null}function je(n){return n[an]||null}function Oe(n){return n[Cn]||null}function st(n){const r=oe(n)||je(n)||Oe(n);return null!==r&&r.standalone}function wt(n,r){const s=n[Bn]||null;if(!s&&!0===r)throw new Error(`Type ${Lt(n)} does not have '\u0275mod' property.`);return s}function os(n){return Array.isArray(n)&&"object"==typeof n[1]}function gs(n){return Array.isArray(n)&&!0===n[1]}function na(n){return 0!=(8&n.flags)}function Oi(n){return 2==(2&n.flags)}function xo(n){return 1==(1&n.flags)}function Cs(n){return null!==n.template}function Xs(n){return 0!=(256&n[2])}function Hs(n,r){return n.hasOwnProperty(ge)?n[ge]:null}class Ro{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Gs(){return Ho}function Ho(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ta),xi}function xi(){const n=Ia(this),r=n?.current;if(r){const s=n.previous;if(s===jt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Ta(n,r,s,a){const c=Ia(n)||function po(n,r){return n[Go]=r}(n,{previous:jt,current:null}),p=c.current||(c.current={}),D=c.previous,S=this.declaredInputs[s],P=D[S];p[S]=new Ro(P&&P.currentValue,r,D===jt),n[a]=r}Gs.ngInherit=!0;const Go="__ngSimpleChanges__";function Ia(n){return n[Go]||null}function ur(n){for(;Array.isArray(n);)n=n[0];return n}function mo(n,r){return ur(r[n])}function Ei(n,r){return ur(r[n.index])}function ui(n,r){return n.data[r]}function Ms(n,r){return n[r]}function Yr(n,r){const s=r[n];return os(s)?s:s[0]}function Fs(n){return 64==(64&n[2])}function Ts(n,r){return null==r?null:n[r]}function Ci(n){n[18]=0}function $r(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Nn={lFrame:Dt(null),bindingsEnabled:!0};function yo(){return Nn.bindingsEnabled}function ft(){return Nn.lFrame.lView}function vr(){return Nn.lFrame.tView}function qo(n){return Nn.lFrame.contextLView=n,n[8]}function Is(n){return Nn.lFrame.contextLView=null,n}function U(){let n=V();for(;null!==n&&64===n.type;)n=n.parent;return n}function V(){return Nn.lFrame.currentTNode}function k(){const n=Nn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function ee(n,r){const s=Nn.lFrame;s.currentTNode=n,s.isParent=r}function Ze(){return Nn.lFrame.isParent}function Wt(){Nn.lFrame.isParent=!1}function qi(){const n=Nn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ss(){return Nn.lFrame.bindingIndex}function vo(){return Nn.lFrame.bindingIndex++}function Ls(n){const r=Nn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Na(n){Nn.lFrame.inI18n=n}function To(n,r){const s=Nn.lFrame;s.bindingIndex=s.bindingRootIndex=n,la(r)}function la(n){Nn.lFrame.currentDirectiveIndex=n}function R(){return Nn.lFrame.currentQueryIndex}function z(n){Nn.lFrame.currentQueryIndex=n}function F(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function te(n,r,s){if(s&Mt.SkipSelf){let c=r,p=n;for(;!(c=c.parent,null!==c||s&Mt.Host||(c=F(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;r=c,n=p}const a=Nn.lFrame=nt();return a.currentTNode=r,a.lView=n,!0}function be(n){const r=nt(),s=n[1];Nn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function nt(){const n=Nn.lFrame,r=null===n?null:n.child;return null===r?Dt(n):r}function Dt(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Yt(){const n=Nn.lFrame;return Nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const sr=Yt;function wr(){const n=Yt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jr(){return Nn.lFrame.selectedIndex}function Mr(n){Nn.lFrame.selectedIndex=n}function qn(){const n=Nn.lFrame;return ui(n.tView,n.selectedIndex)}function St(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const p=n.data[s].type.prototype,{ngAfterContentInit:D,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ne}=p;D&&(n.contentHooks||(n.contentHooks=[])).push(-s,D),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),P&&(n.viewHooks||(n.viewHooks=[])).push(-s,P),G&&((n.viewHooks||(n.viewHooks=[])).push(s,G),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,G)),null!=ne&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ne)}}function Ri(n,r,s){nn(n,r,3,s)}function Pi(n,r,s,a){(3&n[2])===s&&nn(n,r,s,a)}function ga(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function nn(n,r,s,a){const p=a??-1,D=r.length-1;let S=0;for(let P=void 0!==a?65535&n[18]:0;P<D;P++)if("number"==typeof r[P+1]){if(S=r[P],null!=a&&S>=a)break}else r[P]<0&&(n[18]+=65536),(S<p||-1==p)&&(mn(n,s,r,P),n[18]=(4294901760&n[18])+P+2),P++}function mn(n,r,s,a){const c=s[a]<0,p=s[a+1],S=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(S)}finally{}}}else try{p.call(S)}finally{}}const W=-1;class _{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Jt(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const p=s[a++],D=s[a++],S=s[a++];n.setAttribute(r,D,S,p)}else{const p=c,D=s[++a];pr(p)?n.setProperty(r,p,D):n.setAttribute(r,p,D),a++}}return a}function ln(n){return 3===n||4===n||6===n}function pr(n){return 64===n.charCodeAt(0)}function nr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ln(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function Ln(n,r,s,a,c){let p=0,D=n.length;if(-1===r)D=-1;else for(;p<n.length;){const S=n[p++];if("number"==typeof S){if(S===r){D=-1;break}if(S>r){D=p-1;break}}}for(;p<n.length;){const S=n[p];if("number"==typeof S)break;if(S===s){if(null===a)return void(null!==c&&(n[p+1]=c));if(a===n[p+1])return void(n[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==D&&(n.splice(D,0,r),p=D+1),n.splice(p++,0,s),null!==a&&n.splice(p++,0,a),null!==c&&n.splice(p++,0,c)}function jn(n){return n!==W}function Qt(n){return 32767&n}function mi(n,r){let s=function Hr(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let gr=!0;function At(n){const r=gr;return gr=n,r}let br=0;const Ot={};function Io(n,r){const s=bo(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,So(a.data,n),So(r,null),So(a.blueprint,null));const c=ma(n,r),p=n.injectorIndex;if(jn(c)){const D=Qt(c),S=mi(c,r),P=S[1].data;for(let G=0;G<8;G++)r[p+G]=S[D+G]|P[D+G]}return r[p+8]=c,p}function So(n,r){n.push(0,0,0,0,0,0,0,0,r)}function bo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ma(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Vs(c),null===a)return W;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return W}function Fo(n,r,s){!function Xi(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(pe)&&(a=s[pe]),null==a&&(a=s[pe]=br++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function rn(n,r,s){if(s&Mt.Optional||void 0!==n)return n;ve()}function On(n,r,s,a){if(s&Mt.Optional&&void 0===a&&(a=null),0==(s&(Mt.Self|Mt.Host))){const c=n[9],p=Tr(void 0);try{return c?c.get(r,a,s&Mt.Optional):Br(r,a,s&Mt.Optional)}finally{Tr(p)}}return rn(a,0,s)}function $n(n,r,s,a=Mt.Default,c){if(null!==n){if(1024&r[2]){const D=function Ma(n,r,s,a,c){let p=n,D=r;for(;null!==p&&null!==D&&1024&D[2]&&!(256&D[2]);){const S=_i(p,D,s,a|Mt.Self,Ot);if(S!==Ot)return S;let P=p.parent;if(!P){const G=D[21];if(G){const ne=G.get(s,Ot,a);if(ne!==Ot)return ne}P=Vs(D),D=D[15]}p=P}return c}(n,r,s,a,Ot);if(D!==Ot)return D}const p=_i(n,r,s,a,Ot);if(p!==Ot)return p}return On(r,s,a,c)}function _i(n,r,s,a,c){const p=function tr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(pe)?n[pe]:void 0;return"number"==typeof r?r>=0?255&r:oo:r}(s);if("function"==typeof p){if(!te(r,n,a))return a&Mt.Host?rn(c,0,a):On(r,s,a,c);try{const D=p(a);if(null!=D||a&Mt.Optional)return D;ve()}finally{sr()}}else if("number"==typeof p){let D=null,S=bo(n,r),P=W,G=a&Mt.Host?r[16][6]:null;for((-1===S||a&Mt.SkipSelf)&&(P=-1===S?ma(n,r):r[S+8],P!==W&&Lo(a,!1)?(D=r[1],S=Qt(P),r=mi(P,r)):S=-1);-1!==S;){const ne=r[1];if(et(p,S,ne.data)){const ae=so(S,r,s,D,a,G);if(ae!==Ot)return ae}P=r[S+8],P!==W&&Lo(a,r[1].data[S+8]===G)&&et(p,S,r)?(D=ne,S=Qt(P),r=mi(P,r)):S=-1}}return c}function so(n,r,s,a,c,p){const D=r[1],S=D.data[n+8],ne=cs(S,D,s,null==a?Oi(S)&&gr:a!=D&&0!=(3&S.type),c&Mt.Host&&p===S);return null!==ne?ki(r,D,ne,S):Ot}function cs(n,r,s,a,c){const p=n.providerIndexes,D=r.data,S=1048575&p,P=n.directiveStart,ne=p>>20,xe=c?S+ne:n.directiveEnd;for(let Ke=a?S:S+ne;Ke<xe;Ke++){const Et=D[Ke];if(Ke<P&&s===Et||Ke>=P&&Et.type===s)return Ke}if(c){const Ke=D[P];if(Ke&&Cs(Ke)&&Ke.type===s)return P}return null}function ki(n,r,s,a){let c=n[s];const p=r.data;if(function v(n){return n instanceof _}(c)){const D=c;D.resolving&&function ht(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ke(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():it(n)}(p[s]));const S=At(D.canSeeViewProviders);D.resolving=!0;const P=D.injectImpl?Tr(D.injectImpl):null;te(n,a,Mt.Default);try{c=n[s]=D.factory(void 0,p,n,a),r.firstCreatePass&&s>=a.directiveStart&&function tl(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const D=Ho(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,D),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,D)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),p&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,p),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,p))}(s,p[s],r)}finally{null!==P&&Tr(P),At(S),D.resolving=!1,sr()}}return c}function et(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Lo(n,r){return!(n&Mt.Self||n&Mt.Host&&r)}class Gr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return $n(this._tNode,this._lView,r,a,s)}}function oo(){return new Gr(U(),ft())}function es(n){return Rr(()=>{const r=n.prototype.constructor,s=r[ge]||Os(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const p=c[ge]||Os(c);if(p&&p!==s)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Os(n){return ut(n)?()=>{const r=Os(Ft(n));return r&&r()}:Hs(n)}function Vs(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Vo(n){return function Xt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const p=s[c];if(ln(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(p===r)return s[c+1];c+=2}}}return null}(U(),n)}const nl="__parameters__";function Bo(n,r,s){return Rr(()=>{const a=function gl(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const D=new c(...p);return S.annotation=D,S;function S(P,G,ne){const ae=P.hasOwnProperty(nl)?P[nl]:Object.defineProperty(P,nl,{value:[]})[nl];for(;ae.length<=ne;)ae.push(null);return(ae[ne]=ae[ne]||[]).push(D),P}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Ti{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=lr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),ts(a,r)):r!==n&&r.push(a)}return r}function C(n,r){n.forEach(s=>Array.isArray(s)?C(s,r):r(s))}function T(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function E(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function x(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function In(n,r,s){let a=ni(n,r);return a>=0?n[1|a]=s:(a=~a,function de(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function dn(n,r){const s=ni(n,r);if(s>=0)return n[1|s]}function ni(n,r){return function xa(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const p=a+(c-a>>1),D=n[p<<s];if(r===D)return p<<s;D>r?c=p:a=p+1}return~(c<<s)}(n,r,1)}const rl={},yl="__NG_DI_FLAG__",fu="ngTempTokenPath",pu=/\n/gm,$="__source";let X;function ue(n){const r=X;return X=n,r}function He(n,r=Mt.Default){if(void 0===X)throw new ke(-203,!1);return null===X?Br(n,void 0,r):X.get(n,r&Mt.Optional?null:void 0,r)}function ze(n,r=Mt.Default){return(function qt(){return Ut}()||He)(Ft(n),r)}function vn(n,r=Mt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),ze(n,r)}function Sn(n){const r=[];for(let s=0;s<n.length;s++){const a=Ft(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ke(900,!1);let c,p=Mt.Default;for(let D=0;D<a.length;D++){const S=a[D],P=Or(S);"number"==typeof P?-1===P?c=S.token:p|=P:c=S}r.push(ze(c,p))}else r.push(ze(a))}return r}function Mn(n,r){return n[yl]=r,n.prototype[yl]=r,n}function Or(n){return n[yl]}const Yi=Mn(Bo("Optional"),8),za=Mn(Bo("SkipSelf"),4);var _a=(()=>((_a=_a||{})[_a.Important=1]="Important",_a[_a.DashCase=2]="DashCase",_a))();const Fa=/^>|^->|<!--|-->|--!>|<!-$/g,Li=/(<|>)/;const sl=new Map;let Gd=0;const Kl="__ngContext__";function Ks(n,r){os(r)?(n[Kl]=r[20],function rs(n){sl.set(n[20],n)}(r)):n[Kl]=r}let El;function qd(n,r){return El(n,r)}function sc(n){const r=n[3];return gs(r)?r[3]:r}function wu(n){return uf(n[13])}function Yd(n){return uf(n[4])}function uf(n){for(;null!==n&&!gs(n);)n=n[4];return n}function Zl(n,r,s,a,c){if(null!=a){let p,D=!1;gs(a)?p=a:os(a)&&(D=!0,a=a[0]);const S=ur(a);0===n&&null!==s?null==c?Vc(r,s,S):ul(r,s,S,c||null,!0):1===n&&null!==s?ul(r,s,S,c||null,!0):2===n?hc(r,S,D):3===n&&r.destroyNode(S),null!=p&&function J(n,r,s,a,c){const p=s[7];p!==ur(s)&&Zl(r,n,a,p,c);for(let S=10;S<s.length;S++){const P=s[S];g(P[1],P,n,r,a,p)}}(r,n,p,s,c)}}function Du(n,r){return n.createText(r)}function Ql(n,r,s){n.setValue(r,s)}function Eu(n,r){return n.createComment(function rc(n){return n.replace(Fa,r=>r.replace(Li,"\u200b$1\u200b"))}(r))}function Jl(n,r,s){return n.createElement(r,s)}function cf(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,$r(c,-1)),s.splice(a,1)}function id(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&cf(c,a),r>0&&(n[s-1][4]=a[4]);const p=E(n,10+r);!function oc(n,r){g(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const D=p[19];null!==D&&D.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Lc(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&g(n,r,s,3,null,null),function mp(n){let r=n[13];if(!r)return sd(n[1],n);for(;r;){let s=null;if(os(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)os(r)&&sd(r[1],r),r=r[3];null===r&&(r=n),os(r)&&sd(r[1],r),s=r&&r[4]}r=s}}(r)}}function sd(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Qd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof _)){const p=s[a+1];if(Array.isArray(p))for(let D=0;D<p.length;D+=2){const S=c[p[D]],P=p[D+1];try{P.call(S)}finally{}}else try{p.call(c)}finally{}}}}(n,r),function ll(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let p=0;p<s.length-1;p+=2)if("string"==typeof s[p]){const D=s[p+1],S="function"==typeof D?D(r):ur(r[D]),P=a[c=s[p+2]],G=s[p+3];"boolean"==typeof G?S.removeEventListener(s[p],P,G):G>=0?a[c=G]():a[c=-G].unsubscribe(),p+=2}else{const D=a[c=s[p+1]];s[p].call(D)}if(null!==a){for(let p=c+1;p<a.length;p++)(0,a[p])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&gs(r[3])){s!==r[3]&&cf(s,r);const a=r[19];null!==a&&a.detachView(n)}!function bl(n){sl.delete(n[20])}(r)}}function Jd(n,r,s){return Ys(n,r.parent,s)}function Ys(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===ai.None||c===ai.Emulated)return null}return Ei(a,s)}function ul(n,r,s,a,c){n.insertBefore(r,s,a,c)}function Vc(n,r,s){n.appendChild(r,s)}function Rl(n,r,s,a,c){null!==a?ul(n,r,s,a,c):Vc(n,r,s)}function lc(n,r){return n.parentNode(r)}function Tu(n,r,s){return Bc(n,r,s)}function uc(n,r,s){return 40&n.type?Ei(n,s):null}let ad,fn,Iu,Bc=uc;function Xd(n,r){Bc=n,ad=r}function dl(n,r,s,a){const c=Jd(n,a,r),p=r[11],S=Tu(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let P=0;P<s.length;P++)Rl(p,c,s[P],S,!1);else Rl(p,c,s,S,!1);void 0!==ad&&ad(p,a,r,s,c)}function cc(n,r){if(null!==r){const s=r.type;if(3&s)return Ei(r,n);if(4&s)return dc(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return cc(n,a);{const c=n[r.index];return gs(c)?dc(-1,c):ur(c)}}if(32&s)return qd(r,n)()||ur(n[r.index]);{const a=df(n,r);return null!==a?Array.isArray(a)?a[0]:cc(sc(n[16]),a):cc(n,r.next)}}return null}function df(n,r){return null!==r?n[16][6].projection[r.projection]:null}function dc(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return cc(a,c)}return r[7]}function hc(n,r,s){const a=lc(n,r);a&&function cl(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}function I(n,r,s,a,c,p,D){for(;null!=s;){const S=a[s.index],P=s.type;if(D&&0===r&&(S&&Ks(ur(S),a),s.flags|=4),64!=(64&s.flags))if(8&P)I(n,r,s.child,a,c,p,!1),Zl(r,n,c,S,p);else if(32&P){const G=qd(s,a);let ne;for(;ne=G();)Zl(r,n,c,ne,p);Zl(r,n,c,S,p)}else 16&P?M(n,r,a,s,c,p):Zl(r,n,c,S,p);s=D?s.projectionNext:s.next}}function g(n,r,s,a,c,p){I(s,a,n.firstChild,r,c,p,!1)}function M(n,r,s,a,c,p){const D=s[16],P=D[6].projection[a.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)Zl(r,n,c,P[G],p);else I(n,r,P,D[3],c,p,!0)}function We(n,r,s){n.setAttribute(r,"style",s)}function Ct(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function cr(n){return function xn(){if(void 0===fn&&(fn=null,En.trustedTypes))try{fn=En.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fn}()?.createHTML(n)||n}function Su(n){Iu=n}class ud{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Au(n){return n instanceof ud?n.changingThisBreaksApplicationSecurity:n}class fd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(cr(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class Jo{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=cr(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=cr(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let c=s.length-1;0<c;c--){const D=s.item(c).name;("xmlns:ns1"===D||0===D.indexOf("ns1:"))&&r.removeAttribute(D)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const th=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function jc(n){return(n=String(n)).match(th)?n:"unsafe:"+n}function va(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Xl(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const vp=va("area,br,col,hr,img,wbr"),pf=va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pd=va("rp,rt"),mc=Xl(vp,Xl(pf,va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xl(pd,va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xl(pd,pf)),nh=va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mf=Xl(nh,va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var $o=(()=>(($o=$o||{})[$o.NONE=0]="NONE",$o[$o.HTML=1]="HTML",$o[$o.STYLE=2]="STYLE",$o[$o.SCRIPT=3]="SCRIPT",$o[$o.URL=4]="URL",$o[$o.RESOURCE_URL=5]="RESOURCE_URL",$o))();function eu(n){const r=function he(){const n=ft();return n&&n[12]}();return r?r.sanitize($o.URL,n)||"":function hd(n,r){const s=function Fg(n){return n instanceof ud&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Au(n):jc(it(n))}const Ie=new Ti("ENVIRONMENT_INITIALIZER"),Se=new Ti("INJECTOR",-1),at=new Ti("INJECTOR_DEF_TYPES");class dt{get(r,s=rl){if(s===rl){const a=new Error(`NullInjectorError: No provider for ${Lt(r)}!`);throw a.name="NullInjectorError",a}return s}}function _n(...n){return{\u0275providers:un(0,n)}}function un(n,...r){const s=[],a=new Set;let c;return C(r,p=>{const D=p;vi(D,s,[],a)&&(c||(c=[]),c.push(D))}),void 0!==c&&Tn(c,s),s}function Tn(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];C(c,p=>{r.push(p)})}}function vi(n,r,s,a){if(!(n=Ft(n)))return!1;let c=null,p=Zn(n);const D=!p&&oe(n);if(p||D){if(D&&!D.standalone)return!1;c=n}else{const P=n.ngModule;if(p=Zn(P),!p)return!1;c=P}const S=a.has(c);if(D){if(S)return!1;if(a.add(c),D.dependencies){const P="function"==typeof D.dependencies?D.dependencies():D.dependencies;for(const G of P)vi(G,r,s,a)}}else{if(!p)return!1;{if(null!=p.imports&&!S){let G;a.add(c);try{C(p.imports,ne=>{vi(ne,r,s,a)&&(G||(G=[]),G.push(ne))})}finally{}void 0!==G&&Tn(G,r)}if(!S){const G=Hs(c)||(()=>new c);r.push({provide:c,useFactory:G,deps:Ye},{provide:at,useValue:c,multi:!0},{provide:Ie,useValue:()=>ze(c),multi:!0})}const P=p.providers;null==P||S||C(P,ne=>{r.push(ne)})}}return c!==n&&void 0!==n.providers}const Ir=Je({provide:String,useValue:Je});function Qr(n){return null!==n&&"object"==typeof n&&Ir in n}function qr(n){return"function"==typeof n}const ci=new Ti("Set Injector scope."),Vi={},ji={};let lo;function is(){return void 0===lo&&(lo=new dt),lo}class Bi{}class Qa extends Bi{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ru(r,D=>this.processProvider(D)),this.records.set(Se,Qs(void 0,this)),c.has("environment")&&this.records.set(Bi,Qs(void 0,this));const p=this.records.get(ci);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(at.multi,Ye,Mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ue(this),a=Tr(void 0);try{return r()}finally{ue(s),Tr(a)}}get(r,s=rl,a=Mt.Default){this.assertNotDestroyed();const c=ue(this),p=Tr(void 0);try{if(!(a&Mt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const P=function md(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ti}(r)&&Wn(r);S=P&&this.injectableDefInScope(P)?Qs(Zs(r),Vi):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Mt.Self?is():this.parent).get(r,s=a&Mt.Optional&&s===rl?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[fu]=D[fu]||[]).unshift(Lt(r)),c)throw D;return function rr(n,r,s,a){const c=n[fu];throw r[$]&&c.unshift(r[$]),n.message=function ri(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Lt(r);if(Array.isArray(r))c=r.map(Lt).join(" -> ");else if("object"==typeof r){let p=[];for(let D in r)if(r.hasOwnProperty(D)){let S=r[D];p.push(D+":"+("string"==typeof S?JSON.stringify(S):Lt(S)))}c=`{${p.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(pu,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[fu]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{Tr(p),ue(c)}}resolveInjectorInitializers(){const r=ue(this),s=Tr(void 0);try{const a=this.get(Ie.multi,Ye,Mt.Self);for(const c of a)c()}finally{ue(r),Tr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Lt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processProvider(r){let s=qr(r=Ft(r))?r:Ft(r&&r.provide);const a=function el(n){return Qr(n)?Qs(void 0,n.useValue):Qs(Va(n),Vi)}(r);if(qr(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Qs(void 0,Vi,!0),c.factory=()=>Sn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Vi&&(s.value=ji,s.value=s.factory()),"object"==typeof s.value&&s.value&&function xu(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ft(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Zs(n){const r=Wn(n),s=null!==r?r.factory:Hs(n);if(null!==s)return s;if(n instanceof Ti)throw new ke(204,!1);if(n instanceof Function)return function Ou(n){const r=n.length;if(r>0)throw x(r,"?"),new ke(204,!1);const s=function oi(n){const r=n&&(n[Qn]||n[hi]);if(r){const s=function Kr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ke(204,!1)}function Va(n,r,s){let a;if(qr(n)){const c=Ft(n);return Hs(c)||Zs(c)}if(Qr(n))a=()=>Ft(n.useValue);else if(function bs(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Sn(n.deps||[]));else if(function Lr(n){return!(!n||!n.useExisting)}(n))a=()=>ze(Ft(n.useExisting));else{const c=Ft(n&&(n.useClass||n.provide));if(!function Wc(n){return!!n.deps}(n))return Hs(c)||Zs(c);a=()=>new c(...Sn(n.deps))}return a}function Qs(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function ih(n){return!!n.\u0275providers}function Ru(n,r){for(const s of n)Array.isArray(s)?Ru(s,r):ih(s)?Ru(s.\u0275providers,r):r(s)}class ku{}class iu{resolveComponentFactory(r){throw function ru(n){const r=Error(`No component factory found for ${Lt(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Ja=(()=>{class n{}return n.NULL=new iu,n})();function zc(){return Pl(U(),ft())}function Pl(n,r){return new yc(Ei(n,r))}let yc=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=zc,n})();function yf(n){return n instanceof yc?n.nativeElement:n}class vf{}let bf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _d(){const n=ft(),s=Yr(U().index,n);return(os(s)?s:n)[11]}(),n})(),Xo=(()=>{class n{}return n.\u0275prov=lr({token:n,providedIn:"root",factory:()=>null}),n})();class wf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const su=new wf("14.2.12"),vc={};function qc(n){return n.ngOriginalError}class kl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&qc(r);for(;s&&qc(s);)s=qc(s);return s||null}}function ou(n){return n instanceof Function?n():n}function zg(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||n.charCodeAt(c+p)<=32)return c}s=c+1}}const qg="ng-template";function bd(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==zg(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Kc(n){return 4===n.type&&n.value!==qg}function Sp(n,r,s){return r===(4!==n.type||s?n.value:qg)}function Cf(n,r,s){let a=4;const c=n.attrs||[],p=function Np(n){for(let r=0;r<n.length;r++)if(ln(n[r]))return r;return n.length}(c);let D=!1;for(let S=0;S<r.length;S++){const P=r[S];if("number"!=typeof P){if(!D)if(4&a){if(a=2|1&a,""!==P&&!Sp(n,P,s)||""===P&&1===r.length){if(Tl(a))return!1;D=!0}}else{const G=8&a?P:r[++S];if(8&a&&null!==n.attrs){if(!bd(n.attrs,G,s)){if(Tl(a))return!1;D=!0}continue}const ae=Kg(8&a?"class":P,c,Kc(n),s);if(-1===ae){if(Tl(a))return!1;D=!0;continue}if(""!==G){let xe;xe=ae>p?"":c[ae+1].toLowerCase();const Ke=8&a?xe:null;if(Ke&&-1!==zg(Ke,G,0)||2&a&&G!==xe){if(Tl(a))return!1;D=!0}}}}else{if(!D&&!Tl(a)&&!Tl(P))return!1;if(D&&Tl(P))continue;D=!1,a=P|1&a}}return Tl(a)||D}function Tl(n){return 0==(1&n)}function Kg(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let p=!1;for(;c<r.length;){const D=r[c];if(D===n)return c;if(3===D||6===D)p=!0;else{if(1===D||2===D){let S=r[++c];for(;"string"==typeof S;)S=r[++c];continue}if(4===D)break;if(0===D){c+=4;continue}}c+=p?1:2}return-1}return function w_(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ap(n,r,s=!1){for(let a=0;a<r.length;a++)if(Cf(n,r[a],s))return!0;return!1}function Mp(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function Op(n,r){return n?":not("+r.trim()+")":r}function Yg(n){let r=n[0],s=1,a=2,c="",p=!1;for(;s<n.length;){let D=n[s];if("string"==typeof D)if(2&a){const S=n[++s];c+="["+D+(S.length>0?'="'+S+'"':"")+"]"}else 8&a?c+="."+D:4&a&&(c+=" "+D);else""!==c&&!Tl(D)&&(r+=Op(p,c),c=""),a=D,p=p||!Tl(a);s++}return""!==c&&(r+=Op(p,c)),r}const Er={};function uh(n){If(vr(),ft(),jr()+n,!1)}function If(n,r,s,a){if(!a)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&Ri(r,p,s)}else{const p=n.preOrderHooks;null!==p&&Pi(r,p,0,s)}Mr(s)}function ch(n,r=null,s=null,a){const c=wd(n,r,s,a);return c.resolveInjectorInitializers(),c}function wd(n,r=null,s=null,a,c=new Set){const p=[s||Ye,_n(n)];return a=a||("object"==typeof n?void 0:Lt(n)),new Qa(p,r||is(),a||null,c)}let Lu=(()=>{class n{static create(s,a){if(Array.isArray(s))return ch({name:""},a,s,"");{const c=s.name??"";return ch({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=rl,n.NULL=new dt,n.\u0275prov=lr({token:n,providedIn:"any",factory:()=>ze(Se)}),n.__NG_ELEMENT_ID__=-1,n})();function Ad(n,r=Mt.Default){const s=ft();return null===s?ze(n,r):$n(U(),s,Ft(n),r)}function um(){throw new Error("invalid")}function dh(n,r){return n<<17|r<<2}function Fl(n){return n>>17&32767}function hh(n){return 2|n}function Bu(n){return(131068&n)>>2}function fh(n,r){return-131069&n|r<<2}function ph(n){return 1|n}function Vf(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],p=s[a+1];if(-1!==p){const D=n.data[p];z(c),D.contentQueries(2,r[p],p)}}}function Bf(n,r,s,a,c,p,D,S,P,G,ne){const ae=r.blueprint.slice();return ae[0]=c,ae[2]=76|a,(null!==ne||n&&1024&n[2])&&(ae[2]|=1024),Ci(ae),ae[3]=ae[15]=n,ae[8]=s,ae[10]=D||n&&n[10],ae[11]=S||n&&n[11],ae[12]=P||n&&n[12]||null,ae[9]=G||n&&n[9]||null,ae[6]=p,ae[20]=function Wd(){return Gd++}(),ae[21]=ne,ae[16]=2==r.type?n[16]:ae,ae}function Cc(n,r,s,a,c){let p=n.data[r];if(null===p)p=qp(n,r,s,a,c),function ja(){return Nn.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=s,p.value=a,p.attrs=c;const D=k();p.injectorIndex=null===D?-1:D.injectorIndex}return ee(p,!0),p}function qp(n,r,s,a,c){const p=V(),D=Ze(),P=n.data[r]=function B_(n,r,s,a,c,p){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,D?p:p&&p.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=P),null!==p&&(D?null==p.child&&null!==P.parent&&(p.child=P):null===p.next&&(p.next=P)),P}function Tc(n,r,s,a){if(0===s)return-1;const c=r.length;for(let p=0;p<s;p++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function vh(n,r,s){be(r);try{const a=n.viewQuery;null!==a&&Am(1,a,s);const c=n.template;null!==c&&Yc(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Vf(n,r),n.staticViewQueries&&Am(2,n.viewQuery,s);const p=n.components;null!==p&&function zp(n,r){for(let s=0;s<r.length;s++)Ch(n,r[s])}(r,p)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,wr()}}function Od(n,r,s,a){const c=r[2];if(128!=(128&c)){be(r);try{Ci(r),function Ko(n){return Nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Yc(n,r,s,2,a);const D=3==(3&c);if(D){const G=n.preOrderCheckHooks;null!==G&&Ri(r,G,null)}else{const G=n.preOrderHooks;null!==G&&Pi(r,G,0,null),ga(r,0)}if(function Im(n){for(let r=wu(n);null!==r;r=Yd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],p=c[3];0==(512&c[2])&&$r(p,1),c[2]|=512}}}(r),function Ii(n){for(let r=wu(n);null!==r;r=Yd(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];Fs(a)&&Od(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Vf(n,r),D){const G=n.contentCheckHooks;null!==G&&Ri(r,G)}else{const G=n.contentHooks;null!==G&&Pi(r,G,1),ga(r,1)}!function L_(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Mr(~c);else{const p=c,D=s[++a],S=s[++a];To(D,p),S(2,r[p])}}}finally{Mr(-1)}}(n,r);const S=n.components;null!==S&&function V_(n,r){for(let s=0;s<r.length;s++)Sm(n,r[s])}(r,S);const P=n.viewQuery;if(null!==P&&Am(2,P,a),D){const G=n.viewCheckHooks;null!==G&&Ri(r,G)}else{const G=n.viewHooks;null!==G&&Pi(r,G,2),ga(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,$r(r[3],-1))}finally{wr()}}}function Yc(n,r,s,a,c){const p=jr(),D=2&a;try{Mr(-1),D&&r.length>22&&If(n,r,22,!1),s(a,c)}finally{Mr(p)}}function bh(n,r,s){!yo()||(function j_(n,r,s,a){const c=s.directiveStart,p=s.directiveEnd;n.firstCreatePass||Io(s,r),Ks(a,r);const D=s.initialInputs;for(let S=c;S<p;S++){const P=n.data[S],G=Cs(P);G&&G_(r,s,P);const ne=ki(r,n,S,s);Ks(ne,r),null!==D&&W_(0,S-c,ne,P,0,D),G&&(Yr(s.index,r)[8]=ne)}}(n,r,s,Ei(s,r)),128==(128&s.flags)&&function eg(n,r,s){const a=s.directiveStart,c=s.directiveEnd,p=s.index,D=function aa(){return Nn.lFrame.currentDirectiveIndex}();try{Mr(p);for(let S=a;S<c;S++){const P=n.data[S],G=r[S];la(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&Dm(P,G)}}finally{Mr(-1),la(D)}}(n,r,s))}function Yp(n,r,s=Ei){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const D=a[p+1],S=-1===D?s(r,n):n[D];n[c++]=S}}}function Uf(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Ll(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Ll(n,r,s,a,c,p,D,S,P,G){const ne=22+a,ae=ne+c,xe=function Zp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Er);return s}(ne,ae),Ke="function"==typeof G?G():G;return xe[1]={type:n,blueprint:xe,template:s,queries:null,viewQuery:S,declTNode:r,data:xe.slice().fill(null,ne),bindingStartIndex:ne,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof D?D():D,firstChild:null,schemas:P,consts:Ke,incompleteFirstPass:!1}}function ym(n,r,s,a){const c=Y_(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&rg(n).push(a,c.length-1))}function $f(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function vm(n,r){const a=r.directiveEnd,c=n.data,p=r.attrs,D=[];let S=null,P=null;for(let G=r.directiveStart;G<a;G++){const ne=c[G],ae=ne.inputs,xe=null===p||Kc(r)?null:Tm(ae,p);D.push(xe),S=$f(ae,G,S),P=$f(ne.outputs,G,P)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=16),S.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=D,r.inputs=S,r.outputs=P}function hl(n,r,s,a,c,p,D,S){const P=Ei(r,s);let ne,G=r.inputs;!S&&null!=G&&(ne=G[a])?(sg(n,s,ne,a,c),Oi(r)&&jf(s,r.index)):3&r.type&&(a=function Jp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=D?D(c,r.value||"",a):c,p.setProperty(P,a,c))}function jf(n,r){const s=Yr(r,n);16&s[2]||(s[2]|=32)}function wh(n,r,s,a){let c=!1;if(yo()){const p=function tg(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const D=a[p];Ap(s,D.selectors,!1)&&(c||(c=[]),Fo(Io(s,r),n,D.type),Cs(D)?(Hf(n,s),c.unshift(D)):c.push(D))}return c}(n,r,s),D=null===a?null:{"":-1};if(null!==p){c=!0,Em(s,n.data.length,p.length);for(let ne=0;ne<p.length;ne++){const ae=p[ne];ae.providersResolver&&ae.providersResolver(ae)}let S=!1,P=!1,G=Tc(n,r,p.length,null);for(let ne=0;ne<p.length;ne++){const ae=p[ne];s.mergedAttrs=nr(s.mergedAttrs,ae.hostAttrs),Cm(n,s,r,G,ae),H_(G,ae,D),null!==ae.contentQueries&&(s.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(s.flags|=128);const xe=ae.type.prototype;!S&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),S=!0),!P&&(xe.ngOnChanges||xe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),P=!0),G++}vm(n,s)}D&&function ng(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const p=s[r[c+1]];if(null==p)throw new ke(-301,!1);a.push(r[c],p)}}}(s,a,D)}return s.mergedAttrs=nr(s.mergedAttrs,s.attrs),c}function Xp(n,r,s,a,c,p){const D=p.hostBindings;if(D){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const P=~r.index;(function $_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(S)!=P&&S.push(P),S.push(a,c,D)}}function Dm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Hf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function H_(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Cs(r)&&(s[""]=n)}}function Em(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Cm(n,r,s,a,c){n.data[a]=c;const p=c.factory||(c.factory=Hs(c.type)),D=new _(p,Cs(c),Ad);n.blueprint[a]=D,s[a]=D,Xp(n,r,0,a,Tc(n,s,c.hostVars,Er),c)}function G_(n,r,s){const a=Ei(r,n),c=Uf(s),p=n[10],D=uo(n,Bf(n,c,null,s.onPush?32:16,a,r,p,p.createRenderer(a,s),null,null,null));n[r.index]=D}function Dh(n,r,s,a,c,p,D){if(null==p)n.removeAttribute(r,c,s);else{const S=null==D?it(p):D(p,a||"",c);n.setAttribute(r,c,S,s)}}function W_(n,r,s,a,c,p){const D=p[r];if(null!==D){const S=a.setInput;for(let P=0;P<D.length;){const G=D[P++],ne=D[P++],ae=D[P++];null!==S?a.setInput(s,ae,G,ne):s[ne]=ae}}}function Tm(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Eh(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Sm(n,r){const s=Yr(r,n);if(Fs(s)){const a=s[1];48&s[2]?Od(a,s,a.template,s[8]):s[5]>0&&Gf(s)}}function Gf(n){for(let a=wu(n);null!==a;a=Yd(a))for(let c=10;c<a.length;c++){const p=a[c];if(Fs(p))if(512&p[2]){const D=p[1];Od(D,p,D.template,p[8])}else p[5]>0&&Gf(p)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Yr(s[a],n);Fs(c)&&c[5]>0&&Gf(c)}}function Ch(n,r){const s=Yr(r,n),a=s[1];(function q_(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),vh(a,s,s[8])}function uo(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function da(n){for(;n;){n[2]|=32;const r=sc(n);if(Xs(n)&&!r)return n;n=r}return null}function fl(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{Od(n,r,n.template,s)}catch(D){throw a&&Th(r,D),D}finally{c.end&&c.end()}}function Am(n,r,s){z(0),r(n,s)}function Y_(n){return n[7]||(n[7]=[])}function rg(n){return n.cleanup||(n.cleanup=[])}function Th(n,r){const s=n[9],a=s?s.get(kl,null):null;a&&a.handleError(r)}function sg(n,r,s,a,c){for(let p=0;p<s.length;){const D=s[p++],S=s[p++],P=r[D],G=n.data[D];null!==G.setInput?G.setInput(P,c,a,S):P[S]=c}}function Ic(n,r,s){const a=mo(r,n);Ql(n[11],a,s)}function Wf(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,p=0;if(null!==r)for(let D=0;D<r.length;D++){const S=r[D];"number"==typeof S?p=S:1==p?c=zt(c,S):2==p&&(a=zt(a,S+": "+r[++D]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function zf(n,r,s,a,c=!1){for(;null!==s;){const p=r[s.index];if(null!==p&&a.push(ur(p)),gs(p))for(let S=10;S<p.length;S++){const P=p[S],G=P[1].firstChild;null!==G&&zf(P[1],P,G,a)}const D=s.type;if(8&D)zf(n,r,s.child,a);else if(32&D){const S=qd(s,r);let P;for(;P=S();)a.push(P)}else if(16&D){const S=df(r,s);if(Array.isArray(S))a.push(...S);else{const P=sc(r[16]);zf(P[1],P,S,a,!0)}}s=c?s.projectionNext:s.next}return a}class Ih{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return zf(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(gs(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(id(r,a),E(s,a))}this._attachedToViewContainer=!1}Lc(this._lView[1],this._lView)}onDestroy(r){ym(this._lView[1],this._lView,null,r)}markForCheck(){da(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){fl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ac(n,r){g(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ke(902,!1);this._appRef=r}}class Z_ extends Ih{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;fl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class og extends Ja{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=oe(r);return new Zc(s,this.ngModule)}}function ag(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Nm{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,vc,a);return c!==vc||s===vc?c:this.parentInjector.get(r,s,a)}}class Zc extends ku{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function xp(n){return n.map(Yg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return ag(this.componentDef.inputs)}get outputs(){return ag(this.componentDef.outputs)}create(r,s,a,c){let p=(c=c||this.ngModule)instanceof Bi?c:c?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const D=p?new Nm(r,p):r,S=D.get(vf,null);if(null===S)throw new ke(407,!1);const P=D.get(Xo,null),G=S.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",ae=a?function Qp(n,r,s){return n.selectRootElement(r,s===ai.ShadowDom)}(G,a,this.componentDef.encapsulation):Jl(G,ne,function lg(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ne)),xe=this.componentDef.onPush?288:272,Ke=Ll(0,null,null,1,0,null,null,null,null,null),Et=Bf(null,Ke,null,xe,null,null,S,G,P,D,null);let Bt,sn;be(Et);try{const An=function xm(n,r,s,a,c,p){const D=s[1];s[22]=n;const P=Cc(D,22,2,"#host",null),G=P.mergedAttrs=r.hostAttrs;null!==G&&(Wf(P,G,!0),null!==n&&(Jt(c,n,G),null!==P.classes&&Ct(c,n,P.classes),null!==P.styles&&We(c,n,P.styles)));const ne=a.createRenderer(n,r),ae=Bf(s,Uf(r),null,r.onPush?32:16,s[22],P,a,ne,p||null,null,null);return D.firstCreatePass&&(Fo(Io(P,s),D,r.type),Hf(D,P),Em(P,s.length,1)),uo(s,ae),s[22]=ae}(ae,this.componentDef,Et,S,G);if(ae)if(a)Jt(G,ae,["ng-version",su.full]);else{const{attrs:Kn,classes:xt}=function Tf(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let p=n[a];if("string"==typeof p)2===c?""!==p&&r.push(p,n[++a]):8===c&&s.push(p);else{if(!Tl(c))break;c=p}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Kn&&Jt(G,ae,Kn),xt&&xt.length>0&&Ct(G,ae,xt.join(" "))}if(sn=ui(Ke,22),void 0!==s){const Kn=sn.projection=[];for(let xt=0;xt<this.ngContentSelectors.length;xt++){const Cr=s[xt];Kn.push(null!=Cr?Array.from(Cr):null)}}Bt=function Kf(n,r,s,a){const c=s[1],p=function wm(n,r,s){const a=U();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Cm(n,a,r,Tc(n,r,1,null),s),vm(n,a));const c=ki(r,n,a.directiveStart,a);Ks(c,r);const p=Ei(a,r);return p&&Ks(p,r),c}(c,s,r);if(n[8]=s[8]=p,null!==a)for(const S of a)S(p,r);if(r.contentQueries){const S=U();r.contentQueries(1,p,S.directiveStart)}const D=U();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Mr(D.index),Xp(s[1],D,0,D.directiveStart,D.directiveEnd,r),Dm(r,p)),p}(An,this.componentDef,Et,[cg]),vh(Ke,Et,null)}finally{wr()}return new qf(this.componentType,Bt,Pl(sn,Et),Et,sn)}}class qf extends class Pu{}{constructor(r,s,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=s,this.hostView=this.changeDetectorRef=new Z_(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const p=this._rootLView;sg(p[1],p,c,r,s),jf(p,this._tNode.index)}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function cg(){const n=U();St(ft()[1],n)}function Zf(n){let r=function Yf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Cs(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ke(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const D=n;D.inputs=Sh(n.inputs),D.declaredInputs=Sh(n.declaredInputs),D.outputs=Sh(n.outputs);const S=c.hostBindings;S&&X_(n,S);const P=c.viewQuery,G=c.contentQueries;if(P&&Q_(n,P),G&&J_(n,G),pt(n.inputs,c.inputs),pt(n.declaredInputs,c.declaredInputs),pt(n.outputs,c.outputs),Cs(c)&&c.data.animation){const ne=n.data;ne.animation=(ne.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let D=0;D<p.length;D++){const S=p[D];S&&S.ngInherit&&S(n),S===Zf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function xd(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=nr(c.hostAttrs,s=nr(s,c.hostAttrs))}}(a)}function Sh(n){return n===jt?{}:n===Ye?[]:n}function Q_(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function J_(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,p)=>{r(a,c,p),s(a,c,p)}:r}function X_(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Qf=null;function Qc(){if(!Qf){const n=En.Symbol;if(n&&n.iterator)Qf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Qf=a)}}}return Qf}function Ah(n){return!!km(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qc()in n)}function km(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ju(n,r,s){return n[r]=s}function Si(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Sc(n,r,s,a){const c=Si(n,r,s);return Si(n,r+1,a)||c}function Jf(n,r,s,a){const c=ft();return Si(c,vo(),r)&&(vr(),function Il(n,r,s,a,c,p){const D=Ei(n,r);Dh(r[11],D,p,n.value,s,a,c)}(qn(),c,n,r,s,a)),Jf}function Oh(n,r,s,a){return Si(n,vo(),s)?r+it(s)+a:Er}function tp(n,r,s,a,c,p,D,S){const P=ft(),G=vr(),ne=n+22,ae=G.firstCreatePass?function Rd(n,r,s,a,c,p,D,S,P){const G=r.consts,ne=Cc(r,n,4,D||null,Ts(G,S));wh(r,s,ne,Ts(G,P)),St(r,ne);const ae=ne.tViews=Ll(2,ne,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G);return null!==r.queries&&(r.queries.template(r,ne),ae.queries=r.queries.embeddedTView(ne)),ne}(ne,G,P,r,s,a,c,p,D):G.data[ne];ee(ae,!1);const xe=P[11].createComment("");dl(G,P,xe,ae),Ks(xe,P),uo(P,P[ne]=Eh(xe,P,xe,ae)),xo(ae)&&bh(G,P,ae),null!=D&&Yp(P,ae,S)}function gg(n){return Ms(function zs(){return Nn.lFrame.contextLView}(),22+n)}function Bh(n,r,s){const a=ft();return Si(a,vo(),r)&&hl(vr(),qn(),a,n,r,a[11],s,!1),Bh}function mg(n,r,s,a,c){const D=c?"class":"style";sg(n,s,r.inputs[D],D,a)}function np(n,r,s,a){const c=ft(),p=vr(),D=22+n,S=c[11],P=c[D]=Jl(S,r,function pa(){return Nn.lFrame.currentNamespace}()),G=p.firstCreatePass?function iy(n,r,s,a,c,p,D){const S=r.consts,G=Cc(r,n,2,c,Ts(S,p));return wh(r,s,G,Ts(S,D)),null!==G.attrs&&Wf(G,G.attrs,!1),null!==G.mergedAttrs&&Wf(G,G.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,G),G}(D,p,c,0,r,s,a):p.data[D];ee(G,!0);const ne=G.mergedAttrs;null!==ne&&Jt(S,P,ne);const ae=G.classes;null!==ae&&Ct(S,P,ae);const xe=G.styles;return null!==xe&&We(S,P,xe),64!=(64&G.flags)&&dl(p,c,P,G),0===function $a(){return Nn.lFrame.elementDepthCount}()&&Ks(P,c),function _o(){Nn.lFrame.elementDepthCount++}(),xo(G)&&(bh(p,c,G),function Kp(n,r,s){if(na(r)){const c=r.directiveEnd;for(let p=r.directiveStart;p<c;p++){const D=n.data[p];D.contentQueries&&D.contentQueries(1,s[p],p)}}}(p,G,c)),null!==a&&Yp(c,G),np}function Uh(){let n=U();Ze()?Wt():(n=n.parent,ee(n,!1));const r=n;!function oa(){Nn.lFrame.elementDepthCount--}();const s=vr();return s.firstCreatePass&&(St(s,n),na(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function we(n){return 0!=(16&n.flags)}(r)&&mg(s,r,ft(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ee(n){return 0!=(32&n.flags)}(r)&&mg(s,r,ft(),r.stylesWithoutHost,!1),Uh}function rp(n,r,s,a){return np(n,r,s,a),Uh(),rp}function sp(){return ft()}function $h(n){return!!n&&"function"==typeof n.then}function Bm(n){return!!n&&"function"==typeof n.subscribe}const jh=Bm;function Pd(n,r,s,a){const c=ft(),p=vr(),D=U();return function Um(n,r,s,a,c,p,D,S){const P=xo(a),ne=n.firstCreatePass&&rg(n),ae=r[8],xe=Y_(r);let Ke=!0;if(3&a.type||S){const sn=Ei(a,r),An=S?S(sn):sn,Kn=xe.length,xt=S?Ds=>S(ur(Ds[a.index])):a.index;let Cr=null;if(!S&&P&&(Cr=function vg(n,r,s,a){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const D=c[p];if(D===s&&c[p+1]===a){const S=r[7],P=c[p+2];return S.length>P?S[P]:null}"string"==typeof D&&(p+=2)}return null}(n,r,c,a.index)),null!==Cr)(Cr.__ngLastListenerFn__||Cr).__ngNextListenerFn__=p,Cr.__ngLastListenerFn__=p,Ke=!1;else{p=bg(a,r,ae,p,!1);const Ds=s.listen(An,c,p);xe.push(p,Ds),ne&&ne.push(c,xt,Kn,Kn+1)}}else p=bg(a,r,ae,p,!1);const Et=a.outputs;let Bt;if(Ke&&null!==Et&&(Bt=Et[c])){const sn=Bt.length;if(sn)for(let An=0;An<sn;An+=2){const Oo=r[Bt[An]][Bt[An+1]].subscribe(p),Xh=xe.length;xe.push(p,Oo),ne&&ne.push(c,a.index,Xh,-(Xh+1))}}}(p,c,c[11],D,n,r,0,a),Pd}function Hh(n,r,s,a){try{return!1!==s(a)}catch(c){return Th(n,c),!1}}function bg(n,r,s,a,c){return function p(D){if(D===Function)return a;da(2&n.flags?Yr(n.index,r):r);let P=Hh(r,0,a,D),G=p.__ngNextListenerFn__;for(;G;)P=Hh(r,0,G,D)&&P,G=G.__ngNextListenerFn__;return c&&!1===P&&(D.preventDefault(),D.returnValue=!1),P}}function $m(n=1){return function Nr(n){return(Nn.lFrame.contextLView=function Dr(n,r){for(;n>0;)r=r[15],n--;return r}(n,Nn.lFrame.contextLView))[8]}(n)}function wv(n,r){let s=null;const a=function b_(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?Ap(n,p,!0):Mp(a,p))return c}else s=c}return s}function sy(n){const r=ft()[16][6];if(!r.projection){const a=r.projection=x(n?n.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const D=n?wv(p,n):0;null!==D&&(c[D]?c[D].projectionNext=p:a[D]=p,c[D]=p),p=p.next}}}function kd(n,r=0,s){const a=ft(),c=vr(),p=Cc(c,22+n,16,null,s||null);null===p.projection&&(p.projection=r),Wt(),64!=(64&p.flags)&&function b(n,r,s){M(r[11],0,r,s,Jd(n,s,r),Tu(s.parent||r[6],s,r))}(c,a,p)}function jm(n,r,s){return Gu(n,"",r,"",s),jm}function Gu(n,r,s,a,c){const p=ft(),D=Oh(p,r,s,a);return D!==Er&&hl(vr(),qn(),p,n,D,p[11],c,!1),Gu}function dy(n,r,s,a,c){const p=n[s+1],D=null===r;let S=a?Fl(p):Bu(p),P=!1;for(;0!==S&&(!1===P||D);){const ne=n[S+1];Ev(n[S],r)&&(P=!0,n[S+1]=a?ph(ne):hh(ne)),S=a?Fl(ne):Bu(ne)}P&&(n[s+1]=a?hh(p):ph(p))}function Ev(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ni(n,r)>=0}const ea={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wg(n){return n.substring(ea.key,ea.keyEnd)}function Dg(n,r){const s=ea.textEnd;return s===r?-1:(r=ea.keyEnd=function ed(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,ea.key=r,s),zh(n,r,s))}function zh(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Km(n,r,s){return uu(n,r,s,!1),Km}function lu(n,r){return uu(n,r,null,!0),lu}function hy(n){!function cu(n,r,s,a){const c=vr(),p=Ls(2);c.firstUpdatePass&&Zm(c,null,p,a);const D=ft();if(s!==Er&&Si(D,p,s)){const S=c.data[jr()];if(my(S,a)&&!Ym(c,p)){let P=a?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(s=zt(P,s||"")),mg(c,S,D,s,a)}else!function gy(n,r,s,a,c,p,D,S){c===Er&&(c=Ye);let P=0,G=0,ne=0<c.length?c[0]:null,ae=0<p.length?p[0]:null;for(;null!==ne||null!==ae;){const xe=P<c.length?c[P+1]:void 0,Ke=G<p.length?p[G+1]:void 0;let Bt,Et=null;ne===ae?(P+=2,G+=2,xe!==Ke&&(Et=ae,Bt=Ke)):null===ae||null!==ne&&ne<ae?(P+=2,Et=ne):(G+=2,Et=ae,Bt=Ke),null!==Et&&Zh(n,r,s,a,Et,Bt,D,S),ne=P<c.length?c[P]:null,ae=G<p.length?p[G]:null}}(c,S,D,D[11],D[p+1],D[p+1]=function Iv(n,r,s){if(null==s||""===s)return Ye;const a=[],c=Au(s);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(a,p,c[p]);else"string"==typeof c&&r(a,c);return a}(n,r,s),a,p)}}(In,zu,n,!0)}function zu(n,r){for(let s=function Gm(n){return function lp(n){ea.key=0,ea.keyEnd=0,ea.value=0,ea.valueEnd=0,ea.textEnd=n.length}(n),Dg(n,zh(n,0,ea.textEnd))}(r);s>=0;s=Dg(r,s))In(n,wg(r),!0)}function uu(n,r,s,a){const c=ft(),p=vr(),D=Ls(2);p.firstUpdatePass&&Zm(p,n,D,a),r!==Er&&Si(c,D,r)&&Zh(p,p.data[jr()],c,c[11],n,c[D+1]=function Sv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Lt(Au(n)))),n}(r,s),a,D)}function Ym(n,r){return r>=n.expandoStartIndex}function Zm(n,r,s,a){const c=n.data;if(null===c[s+1]){const p=c[jr()],D=Ym(n,s);my(p,a)&&null===r&&!D&&(r=!1),r=function fy(n,r,s,a){const c=function Yo(n){const r=Nn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=up(s=Yh(null,n,r,s,a),r.attrs,a),p=null);else{const D=r.directiveStylingLast;if(-1===D||n[D]!==c)if(s=Yh(c,n,r,s,a),null===p){let P=function py(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Bu(a))return n[Fl(a)]}(n,r,a);void 0!==P&&Array.isArray(P)&&(P=Yh(null,n,r,P[1],a),P=up(P,r.attrs,a),function Tv(n,r,s,a){n[Fl(s?r.classBindings:r.styleBindings)]=a}(n,r,a,P))}else p=function Kh(n,r,s){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=up(a,n[p].hostAttrs,s);return up(a,r.attrs,s)}(n,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),s}(c,p,r,a),function Dv(n,r,s,a,c,p){let D=p?r.classBindings:r.styleBindings,S=Fl(D),P=Bu(D);n[a]=s;let ne,G=!1;if(Array.isArray(s)){const ae=s;ne=ae[1],(null===ne||ni(ae,ne)>0)&&(G=!0)}else ne=s;if(c)if(0!==P){const xe=Fl(n[S+1]);n[a+1]=dh(xe,S),0!==xe&&(n[xe+1]=fh(n[xe+1],a)),n[S+1]=function A_(n,r){return 131071&n|r<<17}(n[S+1],a)}else n[a+1]=dh(S,0),0!==S&&(n[S+1]=fh(n[S+1],a)),S=a;else n[a+1]=dh(P,0),0===S?S=a:n[P+1]=fh(n[P+1],a),P=a;G&&(n[a+1]=hh(n[a+1])),dy(n,ne,a,!0),dy(n,ne,a,!1),function ap(n,r,s,a,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&ni(p,r)>=0&&(s[a+1]=ph(s[a+1]))}(r,ne,n,a,p),D=dh(S,P),p?r.classBindings=D:r.styleBindings=D}(c,p,r,s,D,a)}}function Yh(n,r,s,a,c){let p=null;const D=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<D&&(p=r[S],a=up(a,p.hostAttrs,c),p!==n);)S++;return null!==n&&(s.directiveStylingLast=S),a}function up(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const D=r[p];"number"==typeof D?c=D:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),In(n,D,!!s||r[++p]))}return void 0===n?null:n}function Zh(n,r,s,a,c,p,D,S){if(!(3&r.type))return;const P=n.data,G=P[S+1];Eg(function cm(n){return 1==(1&n)}(G)?Jm(P,r,s,c,Bu(G),D):void 0)||(Eg(p)||function xf(n){return 2==(2&n)}(G)&&(p=Jm(P,null,s,c,S,D)),function se(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let p=-1===a.indexOf("-")?void 0:_a.DashCase;null==c?n.removeStyle(s,a,p):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),p|=_a.Important),n.setStyle(s,a,c,p))}}(a,D,mo(jr(),s),c,p))}function Jm(n,r,s,a,c,p){const D=null===r;let S;for(;c>0;){const P=n[c],G=Array.isArray(P),ne=G?P[1]:P,ae=null===ne;let xe=s[c+1];xe===Er&&(xe=ae?Ye:void 0);let Ke=ae?dn(xe,a):ne===a?xe:void 0;if(G&&!Eg(Ke)&&(Ke=dn(P,a)),Eg(Ke)&&(S=Ke,D))return S;const Et=n[c+1];c=D?Fl(Et):Bu(Et)}if(null!==r){let P=p?r.residualClasses:r.residualStyles;null!=P&&(S=dn(P,a))}return S}function Eg(n){return void 0!==n}function my(n,r){return 0!=(n.flags&(r?16:32))}function _y(n,r=""){const s=ft(),a=vr(),c=n+22,p=a.firstCreatePass?Cc(a,c,1,r,null):a.data[c],D=s[c]=Du(s[11],r);dl(a,s,D,p),ee(p,!1)}function Xm(n){return Cg("",n,""),Xm}function Cg(n,r,s){const a=ft(),c=Oh(a,n,r,s);return c!==Er&&Ic(a,jr(),c),Cg}function e_(n,r,s,a,c){const p=ft(),D=function xh(n,r,s,a,c,p){const S=Sc(n,Ss(),s,c);return Ls(2),S?r+it(s)+a+it(c)+p:Er}(p,n,r,s,a,c);return D!==Er&&Ic(p,jr(),D),e_}function vy(n,r,s){const a=ft();return Si(a,vo(),r)&&hl(vr(),qn(),a,n,r,a[11],s,!0),vy}const Qh=void 0;var Kb=["en",[["a","p"],["AM","PM"],Qh],[["AM","PM"],Qh,Qh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qh,"{1} 'at' {0}",Qh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qb(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let cp={};function by(n){const r=function Yb(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Lv(r);if(s)return s;const a=r.split("-")[0];if(s=Lv(a),s)return s;if("en"===a)return Kb;throw new ke(701,!1)}function Fv(n){return by(n)[_r.PluralCase]}function Lv(n){return n in cp||(cp[n]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[n]),cp[n]}var _r=(()=>((_r=_r||{})[_r.LocaleId=0]="LocaleId",_r[_r.DayPeriodsFormat=1]="DayPeriodsFormat",_r[_r.DayPeriodsStandalone=2]="DayPeriodsStandalone",_r[_r.DaysFormat=3]="DaysFormat",_r[_r.DaysStandalone=4]="DaysStandalone",_r[_r.MonthsFormat=5]="MonthsFormat",_r[_r.MonthsStandalone=6]="MonthsStandalone",_r[_r.Eras=7]="Eras",_r[_r.FirstDayOfWeek=8]="FirstDayOfWeek",_r[_r.WeekendRange=9]="WeekendRange",_r[_r.DateFormat=10]="DateFormat",_r[_r.TimeFormat=11]="TimeFormat",_r[_r.DateTimeFormat=12]="DateTimeFormat",_r[_r.NumberSymbols=13]="NumberSymbols",_r[_r.NumberFormats=14]="NumberFormats",_r[_r.CurrencyCode=15]="CurrencyCode",_r[_r.CurrencySymbol=16]="CurrencySymbol",_r[_r.CurrencyName=17]="CurrencyName",_r[_r.Currencies=18]="Currencies",_r[_r.Directionality=19]="Directionality",_r[_r.PluralCase=20]="PluralCase",_r[_r.ExtraData=21]="ExtraData",_r))();const Zb=["zero","one","two","few","many"],dp="en-US",t_={marker:"element"},n_={marker:"ICU"};var ta=(()=>((ta=ta||{})[ta.SHIFT=2]="SHIFT",ta[ta.APPEND_EAGERLY=1]="APPEND_EAGERLY",ta[ta.COMMENT=2]="COMMENT",ta))();let Vv=dp;function Bv(n){(function kr(n,r){null==n&&Fn(r,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(Vv=n.toLowerCase().replace(/_/g,"-"))}function Uv(n,r,s){const a=r.insertBeforeIndex,c=Array.isArray(a)?a[0]:a;return null===c?uc(n,0,s):ur(s[c])}function $v(n,r,s,a,c){const p=r.insertBeforeIndex;if(Array.isArray(p)){let D=a,S=null;if(3&r.type||(S=D,D=c),null!==D&&0==(2&r.flags))for(let P=1;P<p.length;P++)ul(n,D,s[p[P]],S,!1)}}function jv(n,r){if(n.push(r),n.length>1)for(let s=n.length-2;s>=0;s--){const a=n[s];Hv(a)||ew(a,r)&&null===tw(a)&&nw(a,r.index)}}function Hv(n){return!(64&n.type)}function ew(n,r){return Hv(r)||n.index>r.index}function tw(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function nw(n,r){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Xd(Uv,$v),n.insertBeforeIndex=r)}function Ig(n,r){const s=n.data[r];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function sw(n,r,s){const a=qp(n,s,64,null,null);return jv(r,a),a}function r_(n,r){const s=r[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function Gv(n){return n>>>17}function Wv(n){return(131070&n)>>>1}let Sg=0,Ag=0;function qv(n,r,s,a){const c=s[11];let D,p=null;for(let S=0;S<r.length;S++){const P=r[S];if("string"==typeof P){const G=r[++S];null===s[G]&&(s[G]=Du(c,P))}else if("number"==typeof P)switch(1&P){case 0:const G=Gv(P);let ne,ae;if(null===p&&(p=G,D=lc(c,a)),G===p?(ne=a,ae=D):(ne=null,ae=ur(s[G])),null!==ae){const Bt=Wv(P);ul(c,ae,s[Bt],ne,!1);const An=Ig(n,Bt);if(null!==An&&"object"==typeof An){const Kn=r_(An,s);null!==Kn&&qv(n,An.create[Kn],s,s[An.anchorIdx])}}break;case 1:const Ke=r[++S],Et=r[++S];Dh(c,mo(P>>>1,s),null,null,Ke,Et,null)}else switch(P){case n_:const G=r[++S],ne=r[++S];null===s[ne]&&Ks(s[ne]=Eu(c,G),s);break;case t_:const ae=r[++S],xe=r[++S];null===s[xe]&&Ks(s[xe]=Jl(c,ae,null),s)}}}function Kv(n,r,s,a,c){for(let p=0;p<s.length;p++){const D=s[p],S=s[++p];if(D&c){let P="";for(let G=p+1;G<=p+S;G++){const ne=s[G];if("string"==typeof ne)P+=ne;else if("number"==typeof ne)if(ne<0)P+=it(r[a-ne]);else{const ae=ne>>>2;switch(3&ne){case 1:const xe=s[++G],Ke=s[++G],Et=n.data[ae];"string"==typeof Et?Dh(r[11],r[ae],null,Et,xe,P,Ke):hl(n,Et,r,xe,P,r[11],Ke,!1);break;case 0:const Bt=r[ae];null!==Bt&&Ql(r[11],Bt,P);break;case 2:cw(n,Ig(n,ae),r,P);break;case 3:Yv(n,Ig(n,ae),a,r)}}}}else{const P=s[p+1];if(P>0&&3==(3&P)){const ne=Ig(n,P>>>2);r[ne.currentCaseLViewIndex]<0&&Yv(n,ne,a,r)}}p+=S}}function Yv(n,r,s,a){let c=a[r.currentCaseLViewIndex];if(null!==c){let p=Sg;c<0&&(c=a[r.currentCaseLViewIndex]=~c,p=-1),Kv(n,a,r.update[c],s,p)}}function cw(n,r,s,a){const c=function dw(n,r){let s=n.cases.indexOf(r);if(-1===s)switch(n.type){case 1:{const a=function Qb(n,r){const s=Fv(r)(parseInt(n,10)),a=Zb[s];return void 0!==a?a:"other"}(r,function Xb(){return Vv}());s=n.cases.indexOf(a),-1===s&&"other"!==a&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(r,a);if(r_(r,s)!==c&&(Zv(n,r,s),s[r.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const D=s[r.anchorIdx];D&&qv(n,r.create[c],s,D)}}function Zv(n,r,s){let a=r_(r,s);if(null!==a){const c=r.remove[a];for(let p=0;p<c.length;p++){const D=c[p];if(D>0){const S=mo(D,s);null!==S&&hc(s[11],S)}else Zv(n,Ig(n,~D),s)}}}function hw(){const n=[];let s,a,r=-1;function p(S,P){r=0;const G=r_(S,P);a=null!==G?S.remove[G]:Ye}function D(){if(r<a.length){const S=a[r++];return S>0?s[S]:(n.push(r,a),p(s[1].data[~S],s),D())}return 0===n.length?null:(a=n.pop(),r=n.pop(),D())}return function c(S,P){for(s=P;n.length;)n.pop();return p(S.value,P),D}}const i_=/\ufffd(\d+):?\d*\ufffd/gi,pw=/\ufffd(\d+)\ufffd/,Jv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,gw=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,mw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_w=/\uE500/g;function Xv(n,r,s,a,c,p,D){const S=Tc(n,a,1,null);let P=S<<ta.SHIFT,G=k();r===G&&(G=null),null===G&&(P|=ta.APPEND_EAGERLY),D&&(P|=ta.COMMENT,function La(n){void 0===El&&(El=n())}(hw)),c.push(P,null===p?"":p);const ne=qp(n,S,D?32:1,null===p?"":p,null);jv(s,ne);const ae=ne.index;return ee(ne,!1),null!==G&&r!==G&&function iw(n,r){let s=n.insertBeforeIndex;null===s?(Xd(Uv,$v),s=n.insertBeforeIndex=[null,r]):(function cn(n,r,s){n!=r&&Fn(s,n,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(G,ae),ne}function bw(n,r,s,a,c,p,D){const S=D.match(i_),P=Xv(n,r,s,p,a,S?null:D,!1);S&&Mg(c,D,P.index,null,0,null)}function Mg(n,r,s,a,c,p){const D=n.length,S=D+1;n.push(null,null);const P=D+2,G=r.split(i_);let ne=0;for(let ae=0;ae<G.length;ae++){const xe=G[ae];if(1&ae){const Ke=c+parseInt(xe,10);n.push(-1-Ke),ne|=e0(Ke)}else""!==xe&&n.push(xe)}return n.push(s<<2|(a?1:0)),a&&n.push(a,p),n[D]=ne,n[S]=n.length-P,ne}function e0(n){return 1<<Math.min(n,31)}function t0(n){let r,p,s="",a=0,c=!1;for(;null!==(r=gw.exec(n));)c?r[0]===`\ufffd/*${p}\ufffd`&&(a=r.index,c=!1):(s+=n.substring(a,r.index+r[0].length),p=r[1],c=!0);return s+=n.slice(a),s}function n0(n,r,s,a,c,p){let D=0;const S={type:c.type,currentCaseLViewIndex:Tc(n,r,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Aw(n,r,s){n.push(e0(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,c,p),function rw(n,r,s){const a=n.data[r];null===a?n.data[r]=s:a.value=s}(n,p,S);const P=c.values;for(let G=0;G<P.length;G++){const ne=P[G],ae=[];for(let xe=0;xe<ne.length;xe++){const Ke=ne[xe];if("string"!=typeof Ke){const Et=ae.push(Ke)-1;ne[xe]=`\x3c!--\ufffd${Et}\ufffd--\x3e`}}D=Iw(n,S,r,s,a,c.cases[G],ne.join(""),ae)|D}D&&function Nw(n,r,s){n.push(r,1,s<<2|3)}(s,D,p)}function Tw(n){const r=[],s=[];let a=1,c=0;const p=wy(n=n.replace(Jv,function(D,S,P){return a="select"===P?0:1,c=parseInt(S.slice(1),10),""}));for(let D=0;D<p.length;){let S=p[D++].trim();1===a&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&r.push(S);const P=wy(p[D++]);r.length>s.length&&s.push(P)}return{type:a,mainBinding:c,cases:r,values:s}}function wy(n){if(!n)return[];let r=0;const s=[],a=[],c=/[{}]/g;let p;for(c.lastIndex=0;p=c.exec(n);){const S=p.index;if("}"==p[0]){if(s.pop(),0==s.length){const P=n.substring(r,S);Jv.test(P)?a.push(Tw(P)):a.push(P),r=S+1}}else{if(0==s.length){const P=n.substring(r,S);a.push(P),r=S+1}s.push("{")}}const D=n.substring(r);return a.push(D),a}function Iw(n,r,s,a,c,p,D,S){const P=[],G=[],ne=[];r.cases.push(p),r.create.push(P),r.remove.push(G),r.update.push(ne);const xe=function yp(n){const r=new Jo(n);return function eh(){try{return!!(new window.DOMParser).parseFromString(cr(""),"text/html")}catch{return!1}}()?new fd(r):r}(function Uc(){return void 0!==Iu?Iu:typeof document<"u"?document:void 0}()).getInertBodyElement(D),Ke=function _f(n){return"content"in n&&function Ep(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(xe)||xe;return Ke?r0(n,r,s,a,P,G,ne,Ke,c,S,0):0}function r0(n,r,s,a,c,p,D,S,P,G,ne){let ae=0,xe=S.firstChild;for(;xe;){const Ke=Tc(n,s,1,null);switch(xe.nodeType){case Node.ELEMENT_NODE:const Et=xe,Bt=Et.tagName.toLowerCase();if(mc.hasOwnProperty(Bt)){Dy(c,t_,Bt,P,Ke),n.data[Ke]=Bt;const xt=Et.attributes;for(let Cr=0;Cr<xt.length;Cr++){const Ds=xt.item(Cr),Oo=Ds.name.toLowerCase();Ds.value.match(i_)?mf.hasOwnProperty(Oo)&&Mg(D,Ds.value,Ke,Ds.name,0,nh[Oo]?jc:null):Mw(c,Ke,Ds)}ae=r0(n,r,s,a,c,p,D,xe,Ke,G,ne+1)|ae,s0(p,Ke,ne)}break;case Node.TEXT_NODE:const sn=xe.textContent||"",An=sn.match(i_);Dy(c,null,An?"":sn,P,Ke),s0(p,Ke,ne),An&&(ae=Mg(D,sn,Ke,null,0,null)|ae);break;case Node.COMMENT_NODE:const Kn=pw.exec(xe.textContent||"");if(Kn){const Cr=G[parseInt(Kn[1],10)];Dy(c,n_,"",P,Ke),n0(n,s,a,P,Cr,Ke),Sw(p,Ke,ne)}}xe=xe.nextSibling}return ae}function s0(n,r,s){0===s&&n.push(r)}function Sw(n,r,s){0===s&&(n.push(~r),n.push(r))}function Dy(n,r,s,a,c){null!==r&&n.push(r),n.push(s,c,function ow(n,r,s){return n|r<<17|s<<1}(0,a,c))}function Mw(n,r,s){n.push(r<<1|1,s.name,s.value)}function a0(n,r,s=-1){const a=vr(),c=ft(),p=22+n,D=Ts(a.consts,r),S=k();a.firstCreatePass&&function vw(n,r,s,a,c,p){const D=k(),S=[],P=[],G=[[]];c=function Cw(n,r){if(function Ew(n){return-1===n}(r))return t0(n);{const s=n.indexOf(`:${r}\ufffd`)+2+r.toString().length,a=n.search(new RegExp(`\ufffd\\/\\*\\d+:${r}\ufffd`));return t0(n.substring(s,a))}}(c,p);const ne=function yw(n){return n.replace(_w," ")}(c).split(mw);for(let ae=0;ae<ne.length;ae++){let xe=ne[ae];if(0==(1&ae)){const Ke=wy(xe);for(let Et=0;Et<Ke.length;Et++){let Bt=Ke[Et];if(0==(1&Et)){const sn=Bt;""!==sn&&bw(n,D,G[0],S,P,s,sn)}else{const sn=Bt;if("object"!=typeof sn)throw new Error(`Unable to parse ICU expression in "${c}" message.`);n0(n,s,P,r,sn,Xv(n,D,G[0],s,S,"",!0).index)}}}else{const Ke=47===xe.charCodeAt(0),Bt=(xe.charCodeAt(Ke?1:0),22+Number.parseInt(xe.substring(Ke?2:1)));if(Ke)G.shift(),ee(k(),!1);else{const sn=sw(n,G[0],Bt);G.unshift([]),ee(sn,!0)}}}n.data[a]={create:S,update:P}}(a,null===S?0:S.index,c,p,D,s);const P=a.data[p],ne=Ys(a,S===c[6]?null:S,c);(function uw(n,r,s,a){const c=n[11];for(let p=0;p<r.length;p++){const D=r[p++],S=r[p],P=(D&ta.COMMENT)===ta.COMMENT,G=(D&ta.APPEND_EAGERLY)===ta.APPEND_EAGERLY,ne=D>>>ta.SHIFT;let ae=n[ne];null===ae&&(ae=n[ne]=P?c.createComment(S):Du(c,S)),G&&null!==s&&ul(c,s,ae,a,!1)}})(c,P.create,ne,S&&8&S.type?c[S.index]:null),Na(!0)}function u0(n,r,s){a0(n,r,s),function l0(){Na(!1)}()}function Ey(n){return function aw(n){n&&(Sg|=1<<Math.min(Ag,31)),Ag++}(Si(ft(),vo(),n)),Ey}function c0(n){!function lw(n,r,s){if(Ag>0){const a=n.data[s];Kv(n,r,Array.isArray(a)?a:a.update,Ss()-Ag-1,Sg)}Sg=0,Ag=0}(vr(),ft(),n+22)}function Cy(n,r,s,a,c){if(n=Ft(n),Array.isArray(n))for(let p=0;p<n.length;p++)Cy(n[p],r,s,a,c);else{const p=vr(),D=ft();let S=qr(n)?n:Ft(n.provide),P=Va(n);const G=U(),ne=1048575&G.providerIndexes,ae=G.directiveStart,xe=G.providerIndexes>>20;if(qr(n)||!n.multi){const Ke=new _(P,c,Ad),Et=Iy(S,r,c?ne:ne+xe,ae);-1===Et?(Fo(Io(G,D),p,S),Ty(p,n,r.length),r.push(S),G.directiveStart++,G.directiveEnd++,c&&(G.providerIndexes+=1048576),s.push(Ke),D.push(Ke)):(s[Et]=Ke,D[Et]=Ke)}else{const Ke=Iy(S,r,ne+xe,ae),Et=Iy(S,r,ne,ne+xe),Bt=Ke>=0&&s[Ke],sn=Et>=0&&s[Et];if(c&&!sn||!c&&!Bt){Fo(Io(G,D),p,S);const An=function Gw(n,r,s,a,c){const p=new _(n,s,Ad);return p.multi=[],p.index=r,p.componentProviders=0,d0(p,c,a&&!s),p}(c?Hw:jw,s.length,c,a,P);!c&&sn&&(s[Et].providerFactory=An),Ty(p,n,r.length,0),r.push(S),G.directiveStart++,G.directiveEnd++,c&&(G.providerIndexes+=1048576),s.push(An),D.push(An)}else Ty(p,n,Ke>-1?Ke:Et,d0(s[c?Et:Ke],P,!c&&a));!c&&a&&sn&&s[Et].componentProviders++}}}function Ty(n,r,s,a){const c=qr(r),p=function mr(n){return!!n.useClass}(r);if(c||p){const P=(p?Ft(r.useClass):r).prototype.ngOnDestroy;if(P){const G=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const ne=G.indexOf(s);-1===ne?G.push(s,[a,P]):G[ne+1].push(a,P)}else G.push(s,P)}}}function d0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Iy(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function jw(n,r,s,a){return Sy(this.multi,[])}function Hw(n,r,s,a){const c=this.multi;let p;if(this.providerFactory){const D=this.providerFactory.componentProviders,S=ki(s,s[1],this.providerFactory.index,a);p=S.slice(0,D),Sy(c,p);for(let P=D;P<S.length;P++)p.push(S[P])}else p=[],Sy(c,p);return p}function Sy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function h0(n,r=[]){return s=>{s.providersResolver=(a,c)=>function $w(n,r,s){const a=vr();if(a.firstCreatePass){const c=Cs(n);Cy(s,a.data,a.blueprint,c,!0),Cy(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class hp{}class f0{}function Ww(n,r){return new p0(n,r??null)}class p0 extends hp{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new og(this);const a=wt(r);this._bootstrapComponents=ou(a.bootstrap),this._r3Injector=wd(r,s,[{provide:hp,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],Lt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ay extends f0{constructor(r){super(),this.moduleType=r}create(r){return new p0(this.moduleType,r)}}class zw extends hp{constructor(r,s,a){super(),this.componentFactoryResolver=new og(this),this.instance=null;const c=new Qa([...r,{provide:hp,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],s||is(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Ny(n,r,s=null){return new zw(n,r,s).injector}let qw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=un(0,s.type),c=a.length>0?Ny([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=lr({token:n,providedIn:"environment",factory:()=>new n(ze(Bi))}),n})();function g0(n){n.getStandaloneInjector=r=>r.get(qw).getOrCreateStandaloneInjector(n)}function D0(n,r,s){const a=qi()+n,c=ft();return c[a]===Er?ju(c,a,s?r.call(s):r()):function Nh(n,r){return n[r]}(c,a)}function E0(n,r,s,a){return I0(ft(),qi(),n,r,s,a)}function C0(n,r,s,a,c){return S0(ft(),qi(),n,r,s,a,c)}function T0(n,r,s,a,c,p){return A0(ft(),qi(),n,r,s,a,c,p)}function Og(n,r){const s=n[r];return s===Er?void 0:s}function I0(n,r,s,a,c,p){const D=r+s;return Si(n,D,c)?ju(n,D+1,p?a.call(p,c):a(c)):Og(n,D+1)}function S0(n,r,s,a,c,p,D){const S=r+s;return Sc(n,S,c,p)?ju(n,S+2,D?a.call(D,c,p):a(c,p)):Og(n,S+2)}function A0(n,r,s,a,c,p,D,S){const P=r+s;return function hg(n,r,s,a,c){const p=Sc(n,r,s,a);return Si(n,r+2,c)||p}(n,P,c,p,D)?ju(n,P+3,S?a.call(S,c,p,D):a(c,p,D)):Og(n,P+3)}function O0(n,r){const s=vr();let a;const c=n+22;s.firstCreatePass?(a=function lD(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const p=a.factory||(a.factory=Hs(a.type)),D=Tr(Ad);try{const S=At(!1),P=p();return At(S),function Vh(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,ft(),c,P),P}finally{Tr(D)}}function x0(n,r,s){const a=n+22,c=ft(),p=Ms(c,a);return xg(c,a)?I0(c,qi(),r,p.transform,s,p):p.transform(s)}function R0(n,r,s,a){const c=n+22,p=ft(),D=Ms(p,c);return xg(p,c)?S0(p,qi(),r,D.transform,s,a,D):D.transform(s,a)}function P0(n,r,s,a,c){const p=n+22,D=ft(),S=Ms(D,p);return xg(D,p)?A0(D,qi(),r,S.transform,s,a,c,S):S.transform(s,a,c)}function xg(n,r){return n[1].data[r].pure}function Oy(n){return r=>{setTimeout(n,void 0,r)}}const Ac=class dD extends d.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,p=s||(()=>null),D=a;if(r&&"object"==typeof r){const P=r;c=P.next?.bind(P),p=P.error?.bind(P),D=P.complete?.bind(P)}this.__isAsync&&(p=Oy(p),c&&(c=Oy(c)),D&&(D=Oy(D)));const S=super.subscribe({next:c,error:p,complete:D});return r instanceof Y.w0&&r.add(S),S}};function hD(){return this._results[Qc()]()}class xy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Qc(),a=xy.prototype;a[s]||(a[s]=hD)}get changes(){return this._changes||(this._changes=new Ac)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=ts(r);(this._changesDetected=!function Wa(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],p=r[a];if(s&&(c=s(c),p=s(p)),p!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rg=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();const fD=Rg,pD=class extends fD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Bf(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[19];return null!==D&&(c[19]=D.createEmbeddedView(a)),vh(a,c,r),new Ih(c)}};function gD(){return s_(U(),ft())}function s_(n,r){return 4&n.type?new pD(r,n,Pl(n,r)):null}let o_=(()=>{class n{}return n.__NG_ELEMENT_ID__=mD,n})();function mD(){return L0(U(),ft())}const _D=o_,k0=class extends _D{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const r=ma(this._hostTNode,this._hostLView);if(jn(r)){const s=mi(r,this._hostLView),a=Qt(r);return new Gr(s[1].data[a+8],s)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=F0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,p;"number"==typeof a?c=a:null!=a&&(c=a.index,p=a.injector);const D=r.createEmbeddedView(s||{},p);return this.insert(D,c),D}createComponent(r,s,a,c,p){const D=r&&!function Uo(n){return"function"==typeof n}(r);let S;if(D)S=s;else{const ae=s||{};S=ae.index,a=ae.injector,c=ae.projectableNodes,p=ae.environmentInjector||ae.ngModuleRef}const P=D?r:new Zc(oe(r)),G=a||this.parentInjector;if(!p&&null==P.ngModule){const xe=(D?G:this.parentInjector).get(Bi,null);xe&&(p=xe)}const ne=P.create(G,c,void 0,p);return this.insert(ne.hostView,S),ne}insert(r,s){const a=r._lView,c=a[1];if(function ro(n){return gs(n[3])}(a)){const ne=this.indexOf(r);if(-1!==ne)this.detach(ne);else{const ae=a[3],xe=new k0(ae,ae[6],ae[3]);xe.detach(xe.indexOf(r))}}const p=this._adjustIndex(s),D=this._lContainer;!function rd(n,r,s,a){const c=10+a,p=s.length;a>0&&(s[c-1][4]=r),a<p-10?(r[4]=s[c],T(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const D=r[17];null!==D&&s!==D&&function xl(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(D,r);const S=r[19];null!==S&&S.insertView(n),r[2]|=64}(c,a,D,p);const S=dc(p,D),P=a[11],G=lc(P,D[7]);return null!==G&&function Zd(n,r,s,a,c,p){a[0]=c,a[6]=r,g(n,a,s,1,c,p)}(c,D[6],P,a,G,S),r.attachToViewContainerRef(),T(Ry(D),p,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=F0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=id(this._lContainer,s);a&&(E(Ry(this._lContainer),s),Lc(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=id(this._lContainer,s);return a&&null!=E(Ry(this._lContainer),s)?new Ih(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function F0(n){return n[8]}function Ry(n){return n[8]||(n[8]=[])}function L0(n,r){let s;const a=r[n.index];if(gs(a))s=a;else{let c;if(8&n.type)c=ur(a);else{const p=r[11];c=p.createComment("");const D=Ei(n,r);ul(p,lc(p,D),c,function Cu(n,r){return n.nextSibling(r)}(p,D),!1)}r[n.index]=s=Eh(a,r,c,n),uo(r,s)}return new k0(s,n,r)}class Py{constructor(r){this.queryList=r,this.matches=null}clone(){return new Py(this.queryList)}setDirty(){this.queryList.setDirty()}}class ky{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let p=0;p<a;p++){const D=s.getByIndex(p);c.push(this.queries[D.indexInDeclarationView].clone())}return new ky(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==z0(r,s).matches&&this.queries[s].setDirty()}}class V0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Fy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==s?s.push(p):s=[p])}return null!==s?new Fy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ly{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ly(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,s,bD(s,p)),this.matchTNodeWithReadOption(r,s,cs(s,r,p,!1,!1))}else a===Rg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,cs(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===yc||c===o_||c===Rg&&4&s.type)this.addMatch(s.index,-2);else{const p=cs(s,r,c,!1,!1);null!==p&&this.addMatch(s.index,p)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function bD(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function DD(n,r,s,a){return-1===s?function wD(n,r){return 11&n.type?Pl(n,r):4&n.type?s_(n,r):null}(r,n):-2===s?function ED(n,r,s){return s===yc?Pl(r,n):s===Rg?s_(r,n):s===o_?L0(r,n):void 0}(n,r,a):ki(n,n[1],s,r)}function B0(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const p=n.data,D=s.matches,S=[];for(let P=0;P<D.length;P+=2){const G=D[P];S.push(G<0?null:DD(r,p[G],D[P+1],s.metadata.read))}c.matches=S}return c.matches}function Vy(n,r,s,a){const c=n.queries.getByIndex(s),p=c.matches;if(null!==p){const D=B0(n,r,c,s);for(let S=0;S<p.length;S+=2){const P=p[S];if(P>0)a.push(D[S/2]);else{const G=p[S+1],ne=r[-P];for(let ae=10;ae<ne.length;ae++){const xe=ne[ae];xe[17]===xe[3]&&Vy(xe[1],xe,G,a)}if(null!==ne[9]){const ae=ne[9];for(let xe=0;xe<ae.length;xe++){const Ke=ae[xe];Vy(Ke[1],Ke,G,a)}}}}}return a}function U0(n){const r=ft(),s=vr(),a=R();z(a+1);const c=z0(s,a);if(n.dirty&&function sa(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?Vy(s,r,a,[]):B0(s,r,c,a);n.reset(p,yf),n.notifyOnChanges()}return!0}return!1}function $0(n,r,s){const a=vr();a.firstCreatePass&&(W0(a,new V0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),G0(a,ft(),r)}function j0(n,r,s,a){const c=vr();if(c.firstCreatePass){const p=U();W0(c,new V0(r,s,a),p.index),function TD(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}G0(c,ft(),s)}function H0(){return function CD(n,r){return n[19].queries[r].queryList}(ft(),R())}function G0(n,r,s){const a=new xy(4==(4&s));ym(n,r,a,a.destroy),null===r[19]&&(r[19]=new ky),r[19].queries.push(new Py(a))}function W0(n,r,s){null===n.queries&&(n.queries=new Fy),n.queries.track(new Ly(r,s))}function z0(n,r){return n.queries.getByIndex(r)}function q0(n,r){return s_(n,r)}function l_(...n){}const hb=new Ti("Application Initializer");let u_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=l_,this.reject=l_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if($h(p))s.push(p);else if(jh(p)){const D=new Promise((S,P)=>{p.subscribe({complete:S,error:P})});s.push(D)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ze(hb,8))},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fb=new Ti("AppId",{providedIn:"root",factory:function pb(){return`${Hy()}${Hy()}${Hy()}`}});function Hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gb=new Ti("Platform Initializer"),WD=new Ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mb=new Ti("appBootstrapListener"),zD=new Ti("AnimationModuleType");let qD=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const c_=new Ti("LocaleId",{providedIn:"root",factory:()=>vn(c_,Mt.Optional|Mt.SkipSelf)||function KD(){return typeof $localize<"u"&&$localize.locale||dp}()}),YD=new Ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let QD=(()=>{class n{compileModuleSync(s){return new Ay(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),p=ou(wt(s).declarations).reduce((D,S)=>{const P=oe(S);return P&&D.push(new Zc(P)),D},[]);return new ZD(a,p)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=(()=>Promise.resolve(0))();function Gy(n){typeof Zone>"u"?eE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class du{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ac(!1),this.onMicrotaskEmpty=new Ac(!1),this.onStable=new Ac(!1),this.onError=new Ac(!1),typeof Zone>"u")throw new ke(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function tE(){let n=En.requestAnimationFrame,r=En.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function iE(n){const r=()=>{!function rE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(En,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zy(n),n.isCheckStableRunning=!0,Wy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,p,D,S)=>{try{return vb(n),s.invokeTask(c,p,D,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),bb(n)}},onInvoke:(s,a,c,p,D,S,P)=>{try{return vb(n),s.invoke(c,p,D,S,P)}finally{n.shouldCoalesceRunChangeDetection&&r(),bb(n)}},onHasTask:(s,a,c,p)=>{s.hasTask(c,p),a===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,zy(n),Wy(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(s,a,c,p)=>(s.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new ke(909,!1)}static assertNotInAngularZone(){if(du.isInAngularZone())throw new ke(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const p=this._inner,D=p.scheduleEventTask("NgZoneEvent: "+c,r,nE,l_,l_);try{return p.runTask(D,s,a)}finally{p.cancelTask(D)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const nE={};function Wy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bb(n){n._nesting--,Wy(n)}class sE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ac,this.onMicrotaskEmpty=new Ac,this.onStable=new Ac,this.onError=new Ac}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const wb=new Ti(""),Db=new Ti("");let qy,oE=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,qy||(function aE(n){qy=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),Gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==p),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:p,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ze(du),ze(Eb),ze(Db))},n.\u0275prov=lr({token:n,factory:n.\u0275fac}),n})(),Eb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return qy?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Bd=null;const Cb=new Ti("AllowMultipleToken"),Ky=new Ti("PlatformDestroyListeners");class cE{constructor(r,s){this.name=r,this.token=s}}function Ib(n,r,s=[]){const a=`Platform: ${r}`,c=new Ti(a);return(p=[])=>{let D=Yy();if(!D||D.injector.get(Cb,!1)){const S=[...s,...p,{provide:c,useValue:!0}];n?n(S):function dE(n){if(Bd&&!Bd.get(Cb,!1))throw new ke(400,!1);Bd=n;const r=n.get(Ab);(function Tb(n){const r=n.get(gb,null);r&&r.forEach(s=>s())})(n)}(function Sb(n=[],r){return Lu.create({name:r,providers:[{provide:ci,useValue:"platform"},{provide:Ky,useValue:new Set([()=>Bd=null])},...n]})}(S,a))}return function fE(n){const r=Yy();if(!r)throw new ke(401,!1);return r}()}}function Yy(){return Bd?.get(Ab)??null}let Ab=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function Mb(n,r){let s;return s="noop"===n?new sE:("zone.js"===n?void 0:n)||new du(r),s}(a?.ngZone,function Nb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),p=[{provide:du,useValue:c}];return c.run(()=>{const D=Lu.create({providers:p,parent:this.injector,name:s.moduleType.name}),S=s.create(D),P=S.injector.get(kl,null);if(!P)throw new ke(402,!1);return c.runOutsideAngular(()=>{const G=c.onError.subscribe({next:ne=>{P.handleError(ne)}});S.onDestroy(()=>{h_(this._modules,S),G.unsubscribe()})}),function Ob(n,r,s){try{const a=s();return $h(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(P,c,()=>{const G=S.injector.get(u_);return G.runInitializers(),G.donePromise.then(()=>(Bv(S.injector.get(c_,dp)||dp),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,a=[]){const c=xb({},a);return function lE(n,r,s){const a=new Ay(s);return Promise.resolve(a)}(0,0,s).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(s){const a=s.injector.get(d_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ke(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Ky,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ze(Lu))},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function xb(n,r){return Array.isArray(r)?r.reduce(xb,n):{...n,...r}}let d_=(()=>{class n{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new fe.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new fe.y(S=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),Gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{P.unsubscribe(),G.unsubscribe()}});this.isStable=function Xe(...n){const r=(0,Ce.yG)(n),s=(0,Ce._6)(n,1/0),a=n;return a.length?1===a.length?(0,Te.Xf)(a[0]):(0,Pe.J)(s)((0,Re.D)(a,r)):ce.E}(p,D.pipe(function tt(n={}){const{connector:r=(()=>new d.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return p=>{let D,S,P,G=0,ne=!1,ae=!1;const xe=()=>{S?.unsubscribe(),S=void 0},Ke=()=>{xe(),D=P=void 0,ne=ae=!1},Et=()=>{const Bt=D;Ke(),Bt?.unsubscribe()};return(0,ye.e)((Bt,sn)=>{G++,!ae&&!ne&&xe();const An=P=P??r();sn.add(()=>{G--,0===G&&!ae&&!ne&&(S=_t(Et,c))}),An.subscribe(sn),!D&&G>0&&(D=new le.Hp({next:Kn=>An.next(Kn),error:Kn=>{ae=!0,xe(),S=_t(Ke,s,Kn),An.error(Kn)},complete:()=>{ne=!0,xe(),S=_t(Ke,a),An.complete()}}),(0,Te.Xf)(Bt).subscribe(D))})(p)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof ku;if(!this._injector.get(u_).done)throw!c&&st(s),new ke(405,false);let D;D=c?s:this._injector.get(Ja).resolveComponentFactory(s),this.componentTypes.push(D.componentType);const S=function uE(n){return n.isBoundToModule}(D)?void 0:this._injector.get(hp),G=D.create(Lu.NULL,[],a||D.selector,S),ne=G.location.nativeElement,ae=G.injector.get(wb,null);return ae?.registerApplication(ne),G.onDestroy(()=>{this.detachView(G.hostView),h_(this.components,G),ae?.unregisterApplication(ne)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new ke(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;h_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(mb,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>h_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ke(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ze(du),ze(Bi),ze(kl))},n.\u0275prov=lr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Pb=!0;function gE(){Pb=!1}let mE=(()=>{class n{}return n.__NG_ELEMENT_ID__=_E,n})();function _E(n){return function yE(n,r,s){if(Oi(n)&&!s){const a=Yr(n.index,r);return new Ih(a,a)}return 47&n.type?new Ih(r[16],r):null}(U(),ft(),16==(16&n))}class Bb{constructor(){}supports(r){return Ah(r)}create(r){return new CE(r)}}const EE=(n,r)=>r;class CE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||EE}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,p=null;for(;s||a;){const D=!a||s&&s.currentIndex<$b(a,c,p)?s:a,S=$b(D,c,p),P=D.currentIndex;if(D===a)c--,a=a._nextRemoved;else if(s=s._next,null==D.previousIndex)c++;else{p||(p=[]);const G=S-c,ne=P-c;if(G!=ne){for(let xe=0;xe<G;xe++){const Ke=xe<p.length?p[xe]:p[xe]=0,Et=Ke+xe;ne<=Et&&Et<G&&(p[xe]=Ke+1)}p[D.previousIndex]=ne-G}}S!==P&&r(D,S,P)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ah(r))throw new ke(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,D,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)p=r[S],D=this._trackByFn(S,p),null!==s&&Object.is(s.trackById,D)?(a&&(s=this._verifyReinsertion(s,p,D,S)),Object.is(s.item,p)||this._addIdentityChange(s,p)):(s=this._mismatch(s,p,D,S),a=!0),s=s._next}else c=0,function ty(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Qc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,S=>{D=this._trackByFn(c,S),null!==s&&Object.is(s.trackById,D)?(a&&(s=this._verifyReinsertion(s,S,D,c)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,D,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,p,c)):r=this._addAfter(new TE(s,a),p,c),r}_verifyReinsertion(r,s,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class TE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Ub{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new IE,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $b(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class jb{constructor(){}supports(r){return r instanceof Map||km(r)}create(){return new SE}}class SE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||km(r)))throw new ke(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const p=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,p)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const p=c._prev,D=c._next;return p&&(p._next=D),D&&(D._prev=p),c._next=null,c._prev=null,c}const a=new AE(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class AE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new ev([new Bb])}let ev=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Hb()),deps:[[n,new za,new Yi]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ke(901,!1)}}return n.\u0275prov=lr({token:n,providedIn:"root",factory:Hb}),n})();function Gb(){return new tv([new jb])}let tv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Gb()),deps:[[n,new za,new Yi]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ke(901,!1)}}return n.\u0275prov=lr({token:n,providedIn:"root",factory:Gb}),n})();const OE=Ib(null,"core",[]);let xE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ze(d_))},n.\u0275mod=kn({type:n}),n.\u0275inj=di({}),n})();function RE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function kE(n,r){const s=oe(n),a=r.elementInjector||is();return new Zc(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}},433:(pn,lt,Z)=>{Z.d(lt,{Fj:()=>ut,qu:()=>ft,NI:()=>er,oH:()=>_s,u:()=>Hs,sg:()=>Ur,u5:()=>$a,JJ:()=>Vr,JL:()=>Mt,YN:()=>Ta,wV:()=>Wi,UX:()=>_o,Q7:()=>Ei,EJ:()=>xi,kI:()=>Ae,_Y:()=>co,Kr:()=>ls});var d=Z(8256),Y=Z(6895),fe=Z(8996),Pe=Z(9751),Te=Z(4742),ce=Z(8421),Ce=Z(3269),Re=Z(5403),Xe=Z(3268),le=Z(1810),tt=Z(4004);let _t=(()=>{class U{constructor(k,ee){this._renderer=k,this._elementRef=ee,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(k,ee){this._renderer.setProperty(this._elementRef.nativeElement,k,ee)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(d.Qsj),d.Y36(d.SBq))},U.\u0275dir=d.lG2({type:U}),U})(),Je=(()=>{class U extends _t{}return U.\u0275fac=function(){let V;return function(ee){return(V||(V=d.n5z(U)))(ee||U)}}(),U.\u0275dir=d.lG2({type:U,features:[d.qOj]}),U})();const pt=new d.OlP("NgValueAccessor"),Ht={provide:pt,useExisting:(0,d.Gpc)(()=>ut),multi:!0},Ft=new d.OlP("CompositionEventMode");let ut=(()=>{class U extends _t{constructor(k,ee,Ze){super(k,ee),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function on(){const U=(0,Y.q)()?(0,Y.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ft,8))},U.\u0275dir=d.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,ee){1&k&&d.NdJ("input",function(Wt){return ee._handleInput(Wt.target.value)})("blur",function(){return ee.onTouched()})("compositionstart",function(){return ee._compositionStart()})("compositionend",function(Wt){return ee._compositionEnd(Wt.target.value)})},features:[d._Bn([Ht]),d.qOj]}),U})();function ke(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Rt(U){return null!=U&&"number"==typeof U.length}const it=new d.OlP("NgValidators"),Be=new d.OlP("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ae{static min(V){return function Le(U){return V=>{if(ke(V.value)||ke(U))return null;const k=parseFloat(V.value);return!isNaN(k)&&k<U?{min:{min:U,actual:V.value}}:null}}(V)}static max(V){return function ve(U){return V=>{if(ke(V.value)||ke(U))return null;const k=parseFloat(V.value);return!isNaN(k)&&k>U?{max:{max:U,actual:V.value}}:null}}(V)}static required(V){return Fe(V)}static requiredTrue(V){return function bt(U){return!0===U.value?null:{required:!0}}(V)}static email(V){return function yt(U){return ke(U.value)||ht.test(U.value)?null:{email:!0}}(V)}static minLength(V){return function Gt(U){return V=>ke(V.value)||!Rt(V.value)?null:V.value.length<U?{minlength:{requiredLength:U,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function cn(U){return V=>Rt(V.value)&&V.value.length>U?{maxlength:{requiredLength:U,actualLength:V.value.length}}:null}(V)}static pattern(V){return function or(U){if(!U)return hn;let V,k;return"string"==typeof U?(k="","^"!==U.charAt(0)&&(k+="^"),k+=U,"$"!==U.charAt(U.length-1)&&(k+="$"),V=new RegExp(k)):(k=U.toString(),V=U),ee=>{if(ke(ee.value))return null;const Ze=ee.value;return V.test(Ze)?null:{pattern:{requiredPattern:k,actualValue:Ze}}}}(V)}static nullValidator(V){return null}static compose(V){return kr(V)}static composeAsync(V){return yn(V)}}function Fe(U){return ke(U.value)?{required:!0}:null}function hn(U){return null}function ir(U){return null!=U}function Dn(U){return(0,d.QGY)(U)?(0,fe.D)(U):U}function Vn(U){let V={};return U.forEach(k=>{V=null!=k?{...V,...k}:V}),0===Object.keys(V).length?null:V}function Sr(U,V){return V.map(k=>k(U))}function ar(U){return U.map(V=>function Ar(U){return!U.validate}(V)?V:k=>V.validate(k))}function kr(U){if(!U)return null;const V=U.filter(ir);return 0==V.length?null:function(k){return Vn(Sr(k,V))}}function Fn(U){return null!=U?kr(ar(U)):null}function yn(U){if(!U)return null;const V=U.filter(ir);return 0==V.length?null:function(k){return function ye(...U){const V=(0,Ce.jO)(U),{args:k,keys:ee}=(0,Te.D)(U),Ze=new Pe.y(Wt=>{const{length:Xr}=k;if(!Xr)return void Wt.complete();const zs=new Array(Xr);let io=Xr,qs=Xr;for(let qi=0;qi<Xr;qi++){let Ss=!1;(0,ce.Xf)(k[qi]).subscribe((0,Re.x)(Wt,Ko=>{Ss||(Ss=!0,qs--),zs[qi]=Ko},()=>io--,void 0,()=>{(!io||!Ss)&&(qs||Wt.next(ee?(0,le.n)(ee,zs):zs),Wt.complete())}))}});return V?Ze.pipe((0,Xe.Z)(V)):Ze}(Sr(k,V).map(Dn)).pipe((0,tt.U)(Vn))}}function Yn(U){return null!=U?yn(ar(U)):null}function xr(U,V){return null===U?[V]:Array.isArray(U)?[...U,V]:[U,V]}function lr(U){return U._rawValidators}function Zi(U){return U._rawAsyncValidators}function di(U){return U?Array.isArray(U)?U:[U]:[]}function Wn(U,V){return Array.isArray(U)?U.includes(V):U===V}function ss(U,V){const k=di(V);return di(U).forEach(Ze=>{Wn(k,Ze)||k.push(Ze)}),k}function dr(U,V){return di(V).filter(k=>!Wn(U,k))}class oi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Fn(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,k){return!!this.control&&this.control.hasError(V,k)}getError(V,k){return this.control?this.control.getError(V,k):null}}class Kr extends oi{get formDirective(){return null}get path(){return null}}class Zn extends oi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qn{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vr=(()=>{class U extends Qn{constructor(k){super(k)}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(Zn,2))},U.\u0275dir=d.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,ee){2&k&&d.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)},features:[d.qOj]}),U})(),Mt=(()=>{class U extends Qn{constructor(k){super(k)}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(Kr,10))},U.\u0275dir=d.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,ee){2&k&&d.ekj("ng-untouched",ee.isUntouched)("ng-touched",ee.isTouched)("ng-pristine",ee.isPristine)("ng-dirty",ee.isDirty)("ng-valid",ee.isValid)("ng-invalid",ee.isInvalid)("ng-pending",ee.isPending)("ng-submitted",ee.isSubmitted)},features:[d.qOj]}),U})();const Bn="VALID",ge="INVALID",pe="PENDING",Me="DISABLED";function rt(U){return(kn(U)?U.validators:U)||null}function qe(U){return Array.isArray(U)?Fn(U):U||null}function Vt(U,V){return(kn(V)?V.asyncValidators:U)||null}function bn(U){return Array.isArray(U)?Yn(U):U||null}function kn(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function Pr(U,V,k){const ee=U.controls;if(!(V?Object.keys(ee):ee).length)throw new d.vHH(1e3,"");if(!ee[k])throw new d.vHH(1001,"")}function hr(U,V,k){U._forEachChild((ee,Ze)=>{if(void 0===k[Ze])throw new d.vHH(1002,"")})}class Ue{constructor(V,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=k,this._composedValidatorFn=qe(this._rawValidators),this._composedAsyncValidatorFn=bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===ge}get pending(){return this.status==pe}get disabled(){return this.status===Me}get enabled(){return this.status!==Me}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=qe(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=bn(V)}addValidators(V){this.setValidators(ss(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(ss(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(dr(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(dr(V,this._rawAsyncValidators))}hasValidator(V){return Wn(this._rawValidators,V)}hasAsyncValidator(V){return Wn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=pe,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const k=this._parentMarkedDirty(V.onlySelf);this.status=Me,this.errors=null,this._forEachChild(ee=>{ee.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:k}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(V={}){const k=this._parentMarkedDirty(V.onlySelf);this.status=Bn,this._forEachChild(ee=>{ee.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:k}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===pe)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Me:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;const k=Dn(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,k={}){this.errors=V,this._updateControlsErrors(!1!==k.emitEvent)}get(V){let k=V;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((ee,Ze)=>ee&&ee._find(Ze),this)}getError(V,k){const ee=k?this.get(k):this;return ee&&ee.errors?ee.errors[V]:null}hasError(V,k){return!!this.getError(V,k)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Me:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(ge)?ge:Bn}_anyControlsHaveStatus(V){return this._anyControls(k=>k.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){kn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}}class me extends Ue{constructor(V,k,ee){super(rt(k),Vt(ee,k)),this.controls=V,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,k){return this.controls[V]?this.controls[V]:(this.controls[V]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(V,k,ee={}){this.registerControl(V,k),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(V,k={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(V,k,ee={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],k&&this.registerControl(V,k),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,k={}){hr(this,0,V),Object.keys(V).forEach(ee=>{Pr(this,!0,ee),this.controls[ee].setValue(V[ee],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(V,k={}){null!=V&&(Object.keys(V).forEach(ee=>{const Ze=this.controls[ee];Ze&&Ze.patchValue(V[ee],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(V={},k={}){this._forEachChild((ee,Ze)=>{ee.reset(V[Ze],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(V,k,ee)=>(V[ee]=k.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(k,ee)=>!!ee._syncPendingControls()||k);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(k=>{const ee=this.controls[k];ee&&V(ee,k)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[k,ee]of Object.entries(this.controls))if(this.contains(k)&&V(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,ee,Ze)=>((ee.enabled||this.disabled)&&(k[Ze]=ee.value),k))}_reduceChildren(V,k){let ee=V;return this._forEachChild((Ze,Wt)=>{ee=k(ee,Ze,Wt)}),ee}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class Oe extends me{}function en(U,V){ei(U,V),V.valueAccessor.writeValue(U.value),U.disabled&&V.valueAccessor.setDisabledState?.(!0),function yr(U,V){V.valueAccessor.registerOnChange(k=>{U._pendingValue=k,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&wn(U,V)})}(U,V),function ti(U,V){const k=(ee,Ze)=>{V.valueAccessor.writeValue(ee),Ze&&V.viewToModelUpdate(ee)};U.registerOnChange(k),V._registerOnDestroy(()=>{U._unregisterOnChange(k)})}(U,V),function $i(U,V){V.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&wn(U,V),"submit"!==U.updateOn&&U.markAsTouched()})}(U,V),function zn(U,V){if(V.valueAccessor.setDisabledState){const k=ee=>{V.valueAccessor.setDisabledState(ee)};U.registerOnDisabledChange(k),V._registerOnDestroy(()=>{U._unregisterOnDisabledChange(k)})}}(U,V)}function mt(U,V,k=!0){const ee=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(ee),V.valueAccessor.registerOnTouched(ee)),fi(U,V),U&&(V._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Zt(U,V){U.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(V)})}function ei(U,V){const k=lr(U);null!==V.validator?U.setValidators(xr(k,V.validator)):"function"==typeof k&&U.setValidators([k]);const ee=Zi(U);null!==V.asyncValidator?U.setAsyncValidators(xr(ee,V.asyncValidator)):"function"==typeof ee&&U.setAsyncValidators([ee]);const Ze=()=>U.updateValueAndValidity();Zt(V._rawValidators,Ze),Zt(V._rawAsyncValidators,Ze)}function fi(U,V){let k=!1;if(null!==U){if(null!==V.validator){const Ze=lr(U);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(Xr=>Xr!==V.validator);Wt.length!==Ze.length&&(k=!0,U.setValidators(Wt))}}if(null!==V.asyncValidator){const Ze=Zi(U);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(Xr=>Xr!==V.asyncValidator);Wt.length!==Ze.length&&(k=!0,U.setAsyncValidators(Wt))}}}const ee=()=>{};return Zt(V._rawValidators,ee),Zt(V._rawAsyncValidators,ee),k}function wn(U,V){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function li(U,V){if(!U.hasOwnProperty("model"))return!1;const k=U.model;return!!k.isFirstChange()||!Object.is(V,k.currentValue)}function wi(U,V){if(!V)return null;let k,ee,Ze;return Array.isArray(V),V.forEach(Wt=>{Wt.constructor===ut?k=Wt:function Mi(U){return Object.getPrototypeOf(U.constructor)===Je}(Wt)?ee=Wt:Ze=Wt}),Ze||ee||k||null}function tn(U,V){const k=U.indexOf(V);k>-1&&U.splice(k,1)}function Un(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const er=class extends Ue{constructor(V=null,k,ee){super(rt(k),Vt(ee,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kn(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Un(V)?V.value:V)}setValue(V,k={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(V,k={}){this.setValue(V,k)}reset(V=this.defaultValue,k={}){this._applyFormState(V),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){tn(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){tn(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Un(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let co=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275dir=d.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const ho={provide:pt,useExisting:(0,d.Gpc)(()=>Wi),multi:!0};let Wi=(()=>{class U extends Je{writeValue(k){this.setProperty("value",k??"")}registerOnChange(k){this.onChange=ee=>{k(""==ee?null:parseFloat(ee))}}}return U.\u0275fac=function(){let V;return function(ee){return(V||(V=d.n5z(U)))(ee||U)}}(),U.\u0275dir=d.lG2({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(k,ee){1&k&&d.NdJ("input",function(Wt){return ee.onChange(Wt.target.value)})("blur",function(){return ee.onTouched()})},features:[d._Bn([ho]),d.qOj]}),U})(),Ca=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({}),U})();const ms=new d.OlP("NgModelWithFormControlWarning"),to={provide:Zn,useExisting:(0,d.Gpc)(()=>_s)};let _s=(()=>{class U extends Zn{constructor(k,ee,Ze,Wt){super(),this._ngModelWarningConfig=Wt,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(k),this._setAsyncValidators(ee),this.valueAccessor=wi(0,Ze)}set isDisabled(k){}ngOnChanges(k){if(this._isControlChanged(k)){const ee=k.form.previousValue;ee&&mt(ee,this,!1),en(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}li(k,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&mt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_isControlChanged(k){return k.hasOwnProperty("form")}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(k){return new(k||U)(d.Y36(it,10),d.Y36(Be,10),d.Y36(pt,10),d.Y36(ms,8))},U.\u0275dir=d.lG2({type:U,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([to]),d.qOj,d.TTD]}),U})();const Ba={provide:Kr,useExisting:(0,d.Gpc)(()=>Ur)};let Ur=(()=>{class U extends Kr{constructor(k,ee){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(k),this._setAsyncValidators(ee)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const ee=this.form.get(k.path);return en(ee,k),ee.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),ee}getControl(k){return this.form.get(k.path)}removeControl(k){mt(k.control||null,k,!1),function $e(U,V){const k=U.indexOf(V);k>-1&&U.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,ee){this.form.get(k.path).setValue(ee)}onSubmit(k){return this.submitted=!0,function Gi(U,V){U._syncPendingControls(),V.forEach(k=>{const ee=k.control;"submit"===ee.updateOn&&ee._pendingChange&&(k.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const ee=k.control,Ze=this.form.get(k.path);ee!==Ze&&(mt(ee||null,k),(U=>U instanceof er)(Ze)&&(en(Ze,k),k.control=Ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const ee=this.form.get(k.path);(function Ni(U,V){ei(U,V)})(ee,k),ee.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const ee=this.form.get(k.path);ee&&function Pn(U,V){return fi(U,V)}(ee,k)&&ee.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ei(this.form,this),this._oldForm&&fi(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(it,10),d.Y36(Be,10))},U.\u0275dir=d.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(k,ee){1&k&&d.NdJ("submit",function(Wt){return ee.onSubmit(Wt)})("reset",function(){return ee.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ba]),d.qOj,d.TTD]}),U})();const ra={provide:Zn,useExisting:(0,d.Gpc)(()=>Hs)};let Hs=(()=>{class U extends Zn{constructor(k,ee,Ze,Wt,Xr){super(),this._ngModelWarningConfig=Xr,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(ee),this._setAsyncValidators(Ze),this.valueAccessor=wi(0,Wt)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),li(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function wt(U,V){return[...V.path,U]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(k){return new(k||U)(d.Y36(Kr,13),d.Y36(it,10),d.Y36(Be,10),d.Y36(pt,10),d.Y36(ms,8))},U.\u0275dir=d.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ra]),d.qOj,d.TTD]}),U})();const Ro={provide:pt,useExisting:(0,d.Gpc)(()=>xi),multi:!0};function Gs(U,V){return null==U?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let xi=(()=>{class U extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const Ze=Gs(this._getOptionId(k),k);this.setProperty("value",Ze)}registerOnChange(k){this.onChange=ee=>{this.value=this._getOptionValue(ee),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee),k))return ee;return null}_getOptionValue(k){const ee=function Ho(U){return U.split(":")[0]}(k);return this._optionMap.has(ee)?this._optionMap.get(ee):k}}return U.\u0275fac=function(){let V;return function(ee){return(V||(V=d.n5z(U)))(ee||U)}}(),U.\u0275dir=d.lG2({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,ee){1&k&&d.NdJ("change",function(Wt){return ee.onChange(Wt.target.value)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Ro]),d.qOj]}),U})(),Ta=(()=>{class U{constructor(k,ee,Ze){this._element=k,this._renderer=ee,this._select=Ze,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(Gs(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(xi,9))},U.\u0275dir=d.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})();const Go={provide:pt,useExisting:(0,d.Gpc)(()=>zi),multi:!0};function Ia(U,V){return null==U?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${U}: ${V}`.slice(0,50))}let zi=(()=>{class U extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let ee;if(this.value=k,Array.isArray(k)){const Ze=k.map(Wt=>this._getOptionId(Wt));ee=(Wt,Xr)=>{Wt._setSelected(Ze.indexOf(Xr.toString())>-1)}}else ee=(Ze,Wt)=>{Ze._setSelected(!1)};this._optionMap.forEach(ee)}registerOnChange(k){this.onChange=ee=>{const Ze=[],Wt=ee.selectedOptions;if(void 0!==Wt){const Xr=Wt;for(let zs=0;zs<Xr.length;zs++){const qs=this._getOptionValue(Xr[zs].value);Ze.push(qs)}}else{const Xr=ee.options;for(let zs=0;zs<Xr.length;zs++){const io=Xr[zs];if(io.selected){const qs=this._getOptionValue(io.value);Ze.push(qs)}}}this.value=Ze,k(Ze)}}_registerOption(k){const ee=(this._idCounter++).toString();return this._optionMap.set(ee,k),ee}_getOptionId(k){for(const ee of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ee)._value,k))return ee;return null}_getOptionValue(k){const ee=function po(U){return U.split(":")[0]}(k);return this._optionMap.has(ee)?this._optionMap.get(ee)._value:k}}return U.\u0275fac=function(){let V;return function(ee){return(V||(V=d.n5z(U)))(ee||U)}}(),U.\u0275dir=d.lG2({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,ee){1&k&&d.NdJ("change",function(Wt){return ee.onChange(Wt.target)})("blur",function(){return ee.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Go]),d.qOj]}),U})(),ls=(()=>{class U{constructor(k,ee,Ze){this._element=k,this._renderer=ee,this._select=Ze,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(Ia(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(Ia(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return U.\u0275fac=function(k){return new(k||U)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(zi,9))},U.\u0275dir=d.lG2({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),U})(),us=(()=>{class U{constructor(){this._validator=hn}ngOnChanges(k){if(this.inputName in k){const ee=this.normalizeInput(k[this.inputName].currentValue);this._enabled=this.enabled(ee),this._validator=this._enabled?this.createValidator(ee):hn,this._onChange&&this._onChange()}}validate(k){return this._validator(k)}registerOnValidatorChange(k){this._onChange=k}enabled(k){return null!=k}}return U.\u0275fac=function(k){return new(k||U)},U.\u0275dir=d.lG2({type:U,features:[d.TTD]}),U})();const ia={provide:it,useExisting:(0,d.Gpc)(()=>Ei),multi:!0};let Ei=(()=>{class U extends us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=k=>Fe}enabled(k){return k}}return U.\u0275fac=function(){let V;return function(ee){return(V||(V=d.n5z(U)))(ee||U)}}(),U.\u0275dir=d.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,ee){2&k&&d.uIk("required",ee._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([ia]),d.qOj]}),U})(),ko=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({imports:[Ca]}),U})(),$a=(()=>{class U{}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({imports:[ko]}),U})(),_o=(()=>{class U{static withConfig(k){return{ngModule:U,providers:[{provide:ms,useValue:k.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(k){return new(k||U)},U.\u0275mod=d.oAB({type:U}),U.\u0275inj=d.cJS({imports:[ko]}),U})();class oa extends Ue{constructor(V,k,ee){super(rt(k),Vt(ee,k)),this.controls=V,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,k={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(V,k,ee={}){this.controls.splice(V,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:ee.emitEvent})}removeAt(V,k={}){let ee=this._adjustIndex(V);ee<0&&(ee=0),this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),this.controls.splice(ee,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(V,k,ee={}){let Ze=this._adjustIndex(V);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),k&&(this.controls.splice(Ze,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,k={}){hr(this,0,V),V.forEach((ee,Ze)=>{Pr(this,!1,Ze),this.at(Ze).setValue(ee,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(V,k={}){null!=V&&(V.forEach((ee,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(ee,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(V=[],k={}){this._forEachChild((ee,Ze)=>{ee.reset(V[Ze],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((k,ee)=>!!ee._syncPendingControls()||k,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((k,ee)=>{V(k,ee)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(k=>k.enabled&&V(k))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function Aa(U){return!!U&&(void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn)}let ft=(()=>{class U{constructor(){this.useNonNullable=!1}get nonNullable(){const k=new U;return k.useNonNullable=!0,k}group(k,ee=null){const Ze=this._reduceControls(k);let Wt={};return Aa(ee)?Wt=ee:null!==ee&&(Wt.validators=ee.validator,Wt.asyncValidators=ee.asyncValidator),new me(Ze,Wt)}record(k,ee=null){const Ze=this._reduceControls(k);return new Oe(Ze,ee)}control(k,ee,Ze){let Wt={};return this.useNonNullable?(Aa(ee)?Wt=ee:(Wt.validators=ee,Wt.asyncValidators=Ze),new er(k,{...Wt,nonNullable:!0})):new er(k,ee,Ze)}array(k,ee,Ze){const Wt=k.map(Xr=>this._createControl(Xr));return new oa(Wt,ee,Ze)}_reduceControls(k){const ee={};return Object.keys(k).forEach(Ze=>{ee[Ze]=this._createControl(k[Ze])}),ee}_createControl(k){return k instanceof er||k instanceof Ue?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return U.\u0275fac=function(k){return new(k||U)},U.\u0275prov=d.Yz7({token:U,factory:U.\u0275fac,providedIn:_o}),U})()},1481:(pn,lt,Z)=>{Z.d(lt,{Dx:()=>Vr,b2:()=>Kr,q6:()=>Wn,se:()=>Fe});var d=Z(6895),Y=Z(8256);class fe extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Pe extends fe{static makeCurrent(){(0,d.HT)(new Pe)}onAndCancel(me,oe,je){return me.addEventListener(oe,je,!1),()=>{me.removeEventListener(oe,je,!1)}}dispatchEvent(me,oe){me.dispatchEvent(oe)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,oe){return(oe=oe||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,oe){return"window"===oe?window:"document"===oe?me:"body"===oe?me.body:null}getBaseHref(me){const oe=function ce(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==oe?null:function Re(Ue){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",Ue);const me=Ce.pathname;return"/"===me.charAt(0)?me:`/${me}`}(oe)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,d.Mx)(document.cookie,me)}}let Ce,Te=null;const Xe=new Y.OlP("TRANSITION_ID"),ye=[{provide:Y.ip1,useFactory:function le(Ue,me,oe){return()=>{oe.get(Y.CZH).donePromise.then(()=>{const je=(0,d.q)(),Oe=me.querySelectorAll(`style[ng-transition="${Ue}"]`);for(let st=0;st<Oe.length;st++)je.remove(Oe[st])})}},deps:[Xe,d.K0,Y.zs3],multi:!0}];let _t=(()=>{class Ue{build(){return new XMLHttpRequest}}return Ue.\u0275fac=function(oe){return new(oe||Ue)},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Je=new Y.OlP("EventManagerPlugins");let pt=(()=>{class Ue{constructor(oe,je){this._zone=je,this._eventNameToPlugin=new Map,oe.forEach(Oe=>Oe.manager=this),this._plugins=oe.slice().reverse()}addEventListener(oe,je,Oe){return this._findPluginFor(je).addEventListener(oe,je,Oe)}addGlobalEventListener(oe,je,Oe){return this._findPluginFor(je).addGlobalEventListener(oe,je,Oe)}getZone(){return this._zone}_findPluginFor(oe){const je=this._eventNameToPlugin.get(oe);if(je)return je;const Oe=this._plugins;for(let st=0;st<Oe.length;st++){const wt=Oe[st];if(wt.supports(oe))return this._eventNameToPlugin.set(oe,wt),wt}throw new Error(`No event manager plugin found for event ${oe}`)}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(Je),Y.LFG(Y.R0b))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class Lt{constructor(me){this._doc=me}addGlobalEventListener(me,oe,je){const Oe=(0,d.q)().getGlobalEventTarget(this._doc,me);if(!Oe)throw new Error(`Unsupported event target ${Oe} for event ${oe}`);return this.addEventListener(Oe,oe,je)}}let zt=(()=>{class Ue{constructor(){this._stylesSet=new Set}addStyles(oe){const je=new Set;oe.forEach(Oe=>{this._stylesSet.has(Oe)||(this._stylesSet.add(Oe),je.add(Oe))}),this.onStylesAdded(je)}onStylesAdded(oe){}getAllStyles(){return Array.from(this._stylesSet)}}return Ue.\u0275fac=function(oe){return new(oe||Ue)},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),Ht=(()=>{class Ue extends zt{constructor(oe){super(),this._doc=oe,this._hostNodes=new Map,this._hostNodes.set(oe.head,[])}_addStylesToHost(oe,je,Oe){oe.forEach(st=>{const wt=this._doc.createElement("style");wt.textContent=st,Oe.push(je.appendChild(wt))})}addHost(oe){const je=[];this._addStylesToHost(this._stylesSet,oe,je),this._hostNodes.set(oe,je)}removeHost(oe){const je=this._hostNodes.get(oe);je&&je.forEach(on),this._hostNodes.delete(oe)}onStylesAdded(oe){this._hostNodes.forEach((je,Oe)=>{this._addStylesToHost(oe,Oe,je)})}ngOnDestroy(){this._hostNodes.forEach(oe=>oe.forEach(on))}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(d.K0))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();function on(Ue){(0,d.q)().remove(Ue)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g;function Ae(Ue,me,oe){for(let je=0;je<me.length;je++){let Oe=me[je];Array.isArray(Oe)?Ae(Ue,Oe,oe):(Oe=Oe.replace(ut,Ue),oe.push(Oe))}return oe}function Le(Ue){return me=>{if("__ngUnwrap__"===me)return Ue;!1===Ue(me)&&(me.preventDefault(),me.returnValue=!1)}}let Fe=(()=>{class Ue{constructor(oe,je,Oe){this.eventManager=oe,this.sharedStylesHost=je,this.appId=Oe,this.rendererByCompId=new Map,this.defaultRenderer=new bt(oe)}createRenderer(oe,je){if(!oe||!je)return this.defaultRenderer;switch(je.encapsulation){case Y.ifc.Emulated:{let Oe=this.rendererByCompId.get(je.id);return Oe||(Oe=new or(this.eventManager,this.sharedStylesHost,je,this.appId),this.rendererByCompId.set(je.id,Oe)),Oe.applyToHost(oe),Oe}case 1:case Y.ifc.ShadowDom:return new hn(this.eventManager,this.sharedStylesHost,oe,je);default:if(!this.rendererByCompId.has(je.id)){const Oe=Ae(je.id,je.styles,[]);this.sharedStylesHost.addStyles(Oe),this.rendererByCompId.set(je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(pt),Y.LFG(Ht),Y.LFG(Y.AFp))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class bt{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,oe){return oe?document.createElementNS(Ft[oe]||oe,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,oe){(cn(me)?me.content:me).appendChild(oe)}insertBefore(me,oe,je){me&&(cn(me)?me.content:me).insertBefore(oe,je)}removeChild(me,oe){me&&me.removeChild(oe)}selectRootElement(me,oe){let je="string"==typeof me?document.querySelector(me):me;if(!je)throw new Error(`The selector "${me}" did not match any elements`);return oe||(je.textContent=""),je}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,oe,je,Oe){if(Oe){oe=Oe+":"+oe;const st=Ft[Oe];st?me.setAttributeNS(st,oe,je):me.setAttribute(oe,je)}else me.setAttribute(oe,je)}removeAttribute(me,oe,je){if(je){const Oe=Ft[je];Oe?me.removeAttributeNS(Oe,oe):me.removeAttribute(`${je}:${oe}`)}else me.removeAttribute(oe)}addClass(me,oe){me.classList.add(oe)}removeClass(me,oe){me.classList.remove(oe)}setStyle(me,oe,je,Oe){Oe&(Y.JOm.DashCase|Y.JOm.Important)?me.style.setProperty(oe,je,Oe&Y.JOm.Important?"important":""):me.style[oe]=je}removeStyle(me,oe,je){je&Y.JOm.DashCase?me.style.removeProperty(oe):me.style[oe]=""}setProperty(me,oe,je){me[oe]=je}setValue(me,oe){me.nodeValue=oe}listen(me,oe,je){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,oe,Le(je)):this.eventManager.addEventListener(me,oe,Le(je))}}function cn(Ue){return"TEMPLATE"===Ue.tagName&&void 0!==Ue.content}class or extends bt{constructor(me,oe,je,Oe){super(me),this.component=je;const st=Ae(Oe+"-"+je.id,je.styles,[]);oe.addStyles(st),this.contentAttr=function Be(Ue){return"_ngcontent-%COMP%".replace(ut,Ue)}(Oe+"-"+je.id),this.hostAttr=function ht(Ue){return"_nghost-%COMP%".replace(ut,Ue)}(Oe+"-"+je.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,oe){const je=super.createElement(me,oe);return super.setAttribute(je,this.contentAttr,""),je}}class hn extends bt{constructor(me,oe,je,Oe){super(me),this.sharedStylesHost=oe,this.hostEl=je,this.shadowRoot=je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const st=Ae(Oe.id,Oe.styles,[]);for(let wt=0;wt<st.length;wt++){const en=document.createElement("style");en.textContent=st[wt],this.shadowRoot.appendChild(en)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,oe){return super.appendChild(this.nodeOrShadowRoot(me),oe)}insertBefore(me,oe,je){return super.insertBefore(this.nodeOrShadowRoot(me),oe,je)}removeChild(me,oe){return super.removeChild(this.nodeOrShadowRoot(me),oe)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let ir=(()=>{class Ue extends Lt{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,je,Oe){return oe.addEventListener(je,Oe,!1),()=>this.removeEventListener(oe,je,Oe)}removeEventListener(oe,je,Oe){return oe.removeEventListener(je,Oe)}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(d.K0))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Dn=["alt","control","meta","shift"],Vn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sr={alt:Ue=>Ue.altKey,control:Ue=>Ue.ctrlKey,meta:Ue=>Ue.metaKey,shift:Ue=>Ue.shiftKey};let Ar=(()=>{class Ue extends Lt{constructor(oe){super(oe)}supports(oe){return null!=Ue.parseEventName(oe)}addEventListener(oe,je,Oe){const st=Ue.parseEventName(je),wt=Ue.eventCallback(st.fullKey,Oe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(oe,st.domEventName,wt))}static parseEventName(oe){const je=oe.toLowerCase().split("."),Oe=je.shift();if(0===je.length||"keydown"!==Oe&&"keyup"!==Oe)return null;const st=Ue._normalizeKey(je.pop());let wt="",en=je.indexOf("code");if(en>-1&&(je.splice(en,1),wt="code."),Dn.forEach(Zt=>{const zn=je.indexOf(Zt);zn>-1&&(je.splice(zn,1),wt+=Zt+".")}),wt+=st,0!=je.length||0===st.length)return null;const mt={};return mt.domEventName=Oe,mt.fullKey=wt,mt}static matchEventFullKeyCode(oe,je){let Oe=Vn[oe.key]||oe.key,st="";return je.indexOf("code.")>-1&&(Oe=oe.code,st="code."),!(null==Oe||!Oe)&&(Oe=Oe.toLowerCase()," "===Oe?Oe="space":"."===Oe&&(Oe="dot"),Dn.forEach(wt=>{wt!==Oe&&(0,Sr[wt])(oe)&&(st+=wt+".")}),st+=Oe,st===je)}static eventCallback(oe,je,Oe){return st=>{Ue.matchEventFullKeyCode(st,oe)&&Oe.runGuarded(()=>je(st))}}static _normalizeKey(oe){return"esc"===oe?"escape":oe}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(d.K0))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Wn=(0,Y.eFA)(Y._c5,"browser",[{provide:Y.Lbi,useValue:d.bD},{provide:Y.g9A,useValue:function xr(){Pe.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function Zi(){return(0,Y.RDi)(document),document},deps:[]}]),ss=new Y.OlP(""),dr=[{provide:Y.rWj,useClass:class tt{addToWindow(me){Y.dqk.getAngularTestability=(je,Oe=!0)=>{const st=me.findTestabilityInTree(je,Oe);if(null==st)throw new Error("Could not find testability for element.");return st},Y.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),Y.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),Y.dqk.frameworkStabilizers||(Y.dqk.frameworkStabilizers=[]),Y.dqk.frameworkStabilizers.push(je=>{const Oe=Y.dqk.getAllAngularTestabilities();let st=Oe.length,wt=!1;const en=function(mt){wt=wt||mt,st--,0==st&&je(wt)};Oe.forEach(function(mt){mt.whenStable(en)})})}findTestabilityInTree(me,oe,je){return null==oe?null:me.getTestability(oe)??(je?(0,d.q)().isShadowRoot(oe)?this.findTestabilityInTree(me,oe.host,!0):this.findTestabilityInTree(me,oe.parentElement,!0):null)}},deps:[]},{provide:Y.lri,useClass:Y.dDg,deps:[Y.R0b,Y.eoX,Y.rWj]},{provide:Y.dDg,useClass:Y.dDg,deps:[Y.R0b,Y.eoX,Y.rWj]}],oi=[{provide:Y.zSh,useValue:"root"},{provide:Y.qLn,useFactory:function lr(){return new Y.qLn},deps:[]},{provide:Je,useClass:ir,multi:!0,deps:[d.K0,Y.R0b,Y.Lbi]},{provide:Je,useClass:Ar,multi:!0,deps:[d.K0]},{provide:Fe,useClass:Fe,deps:[pt,Ht,Y.AFp]},{provide:Y.FYo,useExisting:Fe},{provide:zt,useExisting:Ht},{provide:Ht,useClass:Ht,deps:[d.K0]},{provide:pt,useClass:pt,deps:[Je,Y.R0b]},{provide:d.JF,useClass:_t,deps:[]},[]];let Kr=(()=>{class Ue{constructor(oe){}static withServerTransition(oe){return{ngModule:Ue,providers:[{provide:Y.AFp,useValue:oe.appId},{provide:Xe,useExisting:Y.AFp},ye]}}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(ss,12))},Ue.\u0275mod=Y.oAB({type:Ue}),Ue.\u0275inj=Y.cJS({providers:[...oi,...dr],imports:[d.ez,Y.hGG]}),Ue})(),Vr=(()=>{class Ue{constructor(oe){this._doc=oe}getTitle(){return this._doc.title}setTitle(oe){this._doc.title=oe||""}}return Ue.\u0275fac=function(oe){return new(oe||Ue)(Y.LFG(d.K0))},Ue.\u0275prov=Y.Yz7({token:Ue,factory:function(oe){let je=null;return je=oe?new oe:function hi(){return new Vr((0,Y.LFG)(d.K0))}(),je},providedIn:"root"}),Ue})();typeof window<"u"&&window},2655:(pn,lt,Z)=>{Z.d(lt,{yS:()=>so,Bz:()=>Fi,lC:()=>ls});var d=Z(8256),Y=Z(8996),fe=Z(9646),Pe=Z(1135);const ce=(0,Z(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"});var Ce=Z(9841),Re=Z(7272),Xe=Z(9751),le=Z(8421);function ye(C){return new Xe.y(T=>{(0,le.Xf)(C()).subscribe(T)})}var tt=Z(9635),_t=Z(576);function Je(C,T){const E=(0,_t.m)(C)?C:()=>C,x=B=>B.error(E());return new Xe.y(T?B=>T.schedule(x,0,B):x)}var pt=Z(515),Lt=Z(727),zt=Z(4482),Ht=Z(5403);function on(){return(0,zt.e)((C,T)=>{let E=null;C._refCount++;const x=(0,Ht.x)(T,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(E=null);const B=C._connection,Q=E;E=null,B&&(!Q||B===Q)&&B.unsubscribe(),T.unsubscribe()});C.subscribe(x),x.closed||(E=C.connect())})}class Ft extends Xe.y{constructor(T,E){super(),this.source=T,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,zt.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Lt.w0;const E=this.getSubject();T.add(this.source.subscribe((0,Ht.x)(E,void 0,()=>{this._teardown(),E.complete()},x=>{this._teardown(),E.error(x)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Lt.w0.EMPTY)}return T}refCount(){return on()(this)}}var ut=Z(7579),gt=Z(6895),ke=Z(4004),Rt=Z(3900),it=Z(5698),Be=Z(8675),ht=Z(9300),Ae=Z(5577);function Le(C){return(0,zt.e)((T,E)=>{let x=!1;T.subscribe((0,Ht.x)(E,B=>{x=!0,E.next(B)},()=>{x||E.next(C),E.complete()}))})}function ve(C=Fe){return(0,zt.e)((T,E)=>{let x=!1;T.subscribe((0,Ht.x)(E,B=>{x=!0,E.next(B)},()=>x?E.complete():E.error(C())))})}function Fe(){return new ce}var bt=Z(4671);function yt(C,T){const E=arguments.length>=2;return x=>x.pipe(C?(0,ht.h)((B,Q)=>C(B,Q,x)):bt.y,(0,it.q)(1),E?Le(T):ve(()=>new ce))}function Gt(C,T){return(0,_t.m)(T)?(0,Ae.z)(C,T,1):(0,Ae.z)(C,1)}var cn=Z(8505);function or(C){return(0,zt.e)((T,E)=>{let Q,x=null,B=!1;x=T.subscribe((0,Ht.x)(E,void 0,void 0,de=>{Q=(0,le.Xf)(C(de,or(C)(T))),x?(x.unsubscribe(),x=null,Q.subscribe(E)):B=!0})),B&&(x.unsubscribe(),x=null,Q.subscribe(E))})}function hn(C,T,E,x,B){return(Q,de)=>{let _e=E,ot=T,$t=0;Q.subscribe((0,Ht.x)(de,In=>{const dn=$t++;ot=_e?C(ot,In,dn):(_e=!0,In),x&&de.next(ot)},B&&(()=>{_e&&de.next(ot),de.complete()})))}}function ir(C,T){return(0,zt.e)(hn(C,T,arguments.length>=2,!0))}function Dn(C){return C<=0?()=>pt.E:(0,zt.e)((T,E)=>{let x=[];T.subscribe((0,Ht.x)(E,B=>{x.push(B),C<x.length&&x.shift()},()=>{for(const B of x)E.next(B);E.complete()},void 0,()=>{x=null}))})}function Vn(C,T){const E=arguments.length>=2;return x=>x.pipe(C?(0,ht.h)((B,Q)=>C(B,Q,x)):bt.y,Dn(1),E?Le(T):ve(()=>new ce))}var Ar=Z(9718);function ar(C){return(0,zt.e)((T,E)=>{try{T.subscribe(E)}finally{E.add(C)}})}var kr=Z(8189),Fn=Z(1481);const yn="primary",Yn=Symbol("RouteTitle");class xr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E[0]:E}return null}getAll(T){if(this.has(T)){const E=this.params[T];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function lr(C){return new xr(C)}function Zi(C,T,E){const x=E.path.split("/");if(x.length>C.length||"full"===E.pathMatch&&(T.hasChildren()||x.length<C.length))return null;const B={};for(let Q=0;Q<x.length;Q++){const de=x[Q],_e=C[Q];if(de.startsWith(":"))B[de.substring(1)]=_e;else if(de!==_e.path)return null}return{consumed:C.slice(0,x.length),posParams:B}}function Wn(C,T){const E=C?Object.keys(C):void 0,x=T?Object.keys(T):void 0;if(!E||!x||E.length!=x.length)return!1;let B;for(let Q=0;Q<E.length;Q++)if(B=E[Q],!ss(C[B],T[B]))return!1;return!0}function ss(C,T){if(Array.isArray(C)&&Array.isArray(T)){if(C.length!==T.length)return!1;const E=[...C].sort(),x=[...T].sort();return E.every((B,Q)=>x[Q]===B)}return C===T}function dr(C){return Array.prototype.concat.apply([],C)}function oi(C){return C.length>0?C[C.length-1]:null}function Zn(C,T){for(const E in C)C.hasOwnProperty(E)&&T(C[E],E)}function Qn(C){return(0,d.CqO)(C)?C:(0,d.QGY)(C)?(0,Y.D)(Promise.resolve(C)):(0,fe.of)(C)}const Vr={exact:function Tr(C,T,E){if(!Ai(C.segments,T.segments)||!Rn(C.segments,T.segments,E)||C.numberOfChildren!==T.numberOfChildren)return!1;for(const x in T.children)if(!C.children[x]||!Tr(C.children[x],T.children[x],E))return!1;return!0},subset:Xn},Mt={exact:function qt(C,T){return Wn(C,T)},subset:function Br(C,T){return Object.keys(T).length<=Object.keys(C).length&&Object.keys(T).every(E=>ss(C[E],T[E]))},ignored:()=>!0};function Ut(C,T,E){return Vr[E.paths](C.root,T.root,E.matrixParams)&&Mt[E.queryParams](C.queryParams,T.queryParams)&&!("exact"===E.fragment&&C.fragment!==T.fragment)}function Xn(C,T,E){return Rr(C,T,T.segments,E)}function Rr(C,T,E,x){if(C.segments.length>E.length){const B=C.segments.slice(0,E.length);return!(!Ai(B,E)||T.hasChildren()||!Rn(B,E,x))}if(C.segments.length===E.length){if(!Ai(C.segments,E)||!Rn(C.segments,E,x))return!1;for(const B in T.children)if(!C.children[B]||!Xn(C.children[B],T.children[B],x))return!1;return!0}{const B=E.slice(0,C.segments.length),Q=E.slice(C.segments.length);return!!(Ai(C.segments,B)&&Rn(C.segments,B,x)&&C.children[yn])&&Rr(C.children[yn],T,Q,x)}}function Rn(C,T,E){return T.every((x,B)=>Mt[E](C[B].parameters,x.parameters))}class Jr{constructor(T,E,x){this.root=T,this.queryParams=E,this.fragment=x}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return Pt.serialize(this)}}class Kt{constructor(T,E){this.segments=T,this.children=E,this.parent=null,Zn(E,(x,B)=>x.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class ai{constructor(T,E){this.path=T,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=lr(this.parameters)),this._parameterMap}toString(){return Vt(this)}}function Ai(C,T){return C.length===T.length&&C.every((E,x)=>E.path===T[x].path)}let jt=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=d.Yz7({token:C,factory:function(){return new Ye},providedIn:"root"}),C})();class Ye{parse(T){const E=new Oe(T);return new Jr(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(T){const E=`/${Cn(T.root,!0)}`,x=function kn(C){const T=Object.keys(C).map(E=>{const x=C[E];return Array.isArray(x)?x.map(B=>`${ge(E)}=${ge(B)}`).join("&"):`${ge(E)}=${ge(x)}`}).filter(E=>!!E);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${E}${x}${"string"==typeof T.fragment?`#${function pe(C){return encodeURI(C)}(T.fragment)}`:""}`}}const Pt=new Ye;function an(C){return C.segments.map(T=>Vt(T)).join("/")}function Cn(C,T){if(!C.hasChildren())return an(C);if(T){const E=C.children[yn]?Cn(C.children[yn],!1):"",x=[];return Zn(C.children,(B,Q)=>{Q!==yn&&x.push(`${Q}:${Cn(B,!1)}`)}),x.length>0?`${E}(${x.join("//")})`:E}{const E=function Ui(C,T){let E=[];return Zn(C.children,(x,B)=>{B===yn&&(E=E.concat(T(x,B)))}),Zn(C.children,(x,B)=>{B!==yn&&(E=E.concat(T(x,B)))}),E}(C,(x,B)=>B===yn?[Cn(C.children[yn],!1)]:[`${B}:${Cn(x,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[yn]?`${an(C)}/${E[0]}`:`${an(C)}/(${E.join("//")})`}}function Bn(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ge(C){return Bn(C).replace(/%3B/gi,";")}function Me(C){return Bn(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(C){return decodeURIComponent(C)}function qe(C){return rt(C.replace(/\+/g,"%20"))}function Vt(C){return`${Me(C.path)}${function bn(C){return Object.keys(C).map(T=>`;${Me(T)}=${Me(C[T])}`).join("")}(C.parameters)}`}const Pr=/^[^\/()?;=#]+/;function hr(C){const T=C.match(Pr);return T?T[0]:""}const Ue=/^[^=?&#]+/,oe=/^[^&#]+/;class Oe{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let x={};return this.peekStartsWith("(")&&(x=this.parseParens(!1)),(T.length>0||Object.keys(E).length>0)&&(x[yn]=new Kt(T,E)),x}parseSegment(){const T=hr(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(T),new ai(rt(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const E=hr(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const B=hr(this.remaining);B&&(x=B,this.capture(x))}T[rt(E)]=rt(x)}parseQueryParam(T){const E=function me(C){const T=C.match(Ue);return T?T[0]:""}(this.remaining);if(!E)return;this.capture(E);let x="";if(this.consumeOptional("=")){const de=function je(C){const T=C.match(oe);return T?T[0]:""}(this.remaining);de&&(x=de,this.capture(x))}const B=qe(E),Q=qe(x);if(T.hasOwnProperty(B)){let de=T[B];Array.isArray(de)||(de=[de],T[B]=de),de.push(Q)}else T[B]=Q}parseParens(T){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const x=hr(this.remaining),B=this.remaining[x.length];if("/"!==B&&")"!==B&&";"!==B)throw new d.vHH(4010,!1);let Q;x.indexOf(":")>-1?(Q=x.slice(0,x.indexOf(":")),this.capture(Q),this.capture(":")):T&&(Q=yn);const de=this.parseChildren();E[Q]=1===Object.keys(de).length?de[yn]:new Kt([],de),this.consumeOptional("//")}return E}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new d.vHH(4011,!1)}}function st(C){return C.segments.length>0?new Kt([],{[yn]:C}):C}function wt(C){const T={};for(const x of Object.keys(C.children)){const Q=wt(C.children[x]);(Q.segments.length>0||Q.hasChildren())&&(T[x]=Q)}return function en(C){if(1===C.numberOfChildren&&C.children[yn]){const T=C.children[yn];return new Kt(C.segments.concat(T.segments),T.children)}return C}(new Kt(C.segments,T))}function mt(C){return C instanceof Jr}function yr(C,T,E,x,B){if(0===E.length)return ti(T.root,T.root,T.root,x,B);const Q=function bi(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Pn(!0,0,C);let T=0,E=!1;const x=C.reduce((B,Q,de)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const _e={};return Zn(Q.outlets,(ot,$t)=>{_e[$t]="string"==typeof ot?ot.split("/"):ot}),[...B,{outlets:_e}]}if(Q.segmentPath)return[...B,Q.segmentPath]}return"string"!=typeof Q?[...B,Q]:0===de?(Q.split("/").forEach((_e,ot)=>{0==ot&&"."===_e||(0==ot&&""===_e?E=!0:".."===_e?T++:""!=_e&&B.push(_e))}),B):[...B,Q]},[]);return new Pn(E,T,x)}(E);return Q.toRoot()?ti(T.root,T.root,new Kt([],{}),x,B):function de(ot){const $t=function ii(C,T,E,x){if(C.isAbsolute)return new Hi(T.root,!0,0);if(-1===x)return new Hi(E,E===T.root,0);return function li(C,T,E){let x=C,B=T,Q=E;for(;Q>B;){if(Q-=B,x=x.parent,!x)throw new d.vHH(4005,!1);B=x.segments.length}return new Hi(x,!1,B-Q)}(E,x+($i(C.commands[0])?0:1),C.numberOfDoubleDots)}(Q,T,C.snapshot?._urlSegment,ot),In=$t.processChildren?wi($t.segmentGroup,$t.index,Q.commands):Gi($t.segmentGroup,$t.index,Q.commands);return ti(T.root,$t.segmentGroup,In,x,B)}(C.snapshot?._lastPathIndex)}function $i(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function wn(C){return"object"==typeof C&&null!=C&&C.outlets}function ti(C,T,E,x,B){let de,Q={};x&&Zn(x,(ot,$t)=>{Q[$t]=Array.isArray(ot)?ot.map(In=>`${In}`):`${ot}`}),de=C===T?E:Ni(C,T,E);const _e=st(wt(de));return new Jr(_e,Q,B)}function Ni(C,T,E){const x={};return Zn(C.children,(B,Q)=>{x[Q]=B===T?E:Ni(B,T,E)}),new Kt(C.segments,x)}class Pn{constructor(T,E,x){if(this.isAbsolute=T,this.numberOfDoubleDots=E,this.commands=x,T&&x.length>0&&$i(x[0]))throw new d.vHH(4003,!1);const B=x.find(wn);if(B&&B!==oi(x))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hi{constructor(T,E,x){this.segmentGroup=T,this.processChildren=E,this.index=x}}function Gi(C,T,E){if(C||(C=new Kt([],{})),0===C.segments.length&&C.hasChildren())return wi(C,T,E);const x=function $e(C,T,E){let x=0,B=T;const Q={match:!1,pathIndex:0,commandIndex:0};for(;B<C.segments.length;){if(x>=E.length)return Q;const de=C.segments[B],_e=E[x];if(wn(_e))break;const ot=`${_e}`,$t=x<E.length-1?E[x+1]:null;if(B>0&&void 0===ot)break;if(ot&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!It(ot,$t,de))return Q;x+=2}else{if(!It(ot,{},de))return Q;x++}B++}return{match:!0,pathIndex:B,commandIndex:x}}(C,T,E),B=E.slice(x.commandIndex);if(x.match&&x.pathIndex<C.segments.length){const Q=new Kt(C.segments.slice(0,x.pathIndex),{});return Q.children[yn]=new Kt(C.segments.slice(x.pathIndex),C.children),wi(Q,0,B)}return x.match&&0===B.length?new Kt(C.segments,{}):x.match&&!C.hasChildren()?Ne(C,T,E):x.match?wi(C,0,B):Ne(C,T,E)}function wi(C,T,E){if(0===E.length)return new Kt(C.segments,{});{const x=function Mi(C){return wn(C[0])?C[0].outlets:{[yn]:C}}(E),B={};return Zn(x,(Q,de)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(B[de]=Gi(C.children[de],T,Q))}),Zn(C.children,(Q,de)=>{void 0===x[de]&&(B[de]=Q)}),new Kt(C.segments,B)}}function Ne(C,T,E){const x=C.segments.slice(0,T);let B=0;for(;B<E.length;){const Q=E[B];if(wn(Q)){const ot=Ve(Q.outlets);return new Kt(x,ot)}if(0===B&&$i(E[0])){x.push(new ai(C.segments[T].path,ct(E[0]))),B++;continue}const de=wn(Q)?Q.outlets[yn]:`${Q}`,_e=B<E.length-1?E[B+1]:null;de&&_e&&$i(_e)?(x.push(new ai(de,ct(_e))),B+=2):(x.push(new ai(de,{})),B++)}return new Kt(x,{})}function Ve(C){const T={};return Zn(C,(E,x)=>{"string"==typeof E&&(E=[E]),null!==E&&(T[x]=Ne(new Kt([],{}),0,E))}),T}function ct(C){const T={};return Zn(C,(E,x)=>T[x]=`${E}`),T}function It(C,T,E){return C==E.path&&Wn(T,E.parameters)}class tn{constructor(T,E){this.id=T,this.url=E}}class Un extends tn{constructor(T,E,x="imperative",B=null){super(T,E),this.type=0,this.navigationTrigger=x,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class er extends tn{constructor(T,E,x){super(T,E),this.urlAfterRedirects=x,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fr extends tn{constructor(T,E,x,B){super(T,E),this.reason=x,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Di extends tn{constructor(T,E,x,B){super(T,E),this.error=x,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pi extends tn{constructor(T,E,x,B){super(T,E),this.urlAfterRedirects=x,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends tn{constructor(T,E,x,B){super(T,E),this.urlAfterRedirects=x,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends tn{constructor(T,E,x,B,Q){super(T,E),this.urlAfterRedirects=x,this.state=B,this.shouldActivate=Q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gs extends tn{constructor(T,E,x,B){super(T,E),this.urlAfterRedirects=x,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class na extends tn{constructor(T,E,x,B){super(T,E),this.urlAfterRedirects=x,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xo{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cs{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(T,E,x){this.routerEvent=T,this.position=E,this.anchor=x,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Da{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const E=this.pathFromRoot(T);return E.length>1?E[E.length-2]:null}children(T){const E=Ea(T,this._root);return E?E.children.map(x=>x.value):[]}firstChild(T){const E=Ea(T,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(T){const E=Ca(T,this._root);return E.length<2?[]:E[E.length-2].children.map(B=>B.value).filter(B=>B!==T)}pathFromRoot(T){return Ca(T,this._root).map(E=>E.value)}}function Ea(C,T){if(C===T.value)return T;for(const E of T.children){const x=Ea(C,E);if(x)return x}return null}function Ca(C,T){if(C===T.value)return[T];for(const E of T.children){const x=Ca(C,E);if(x.length)return x.unshift(T),x}return[]}class $s{constructor(T,E){this.value=T,this.children=E}toString(){return`TreeNode(${this.value})`}}function Ps(C){const T={};return C&&C.children.forEach(E=>T[E.value.outlet]=E),T}class jo extends Da{constructor(T,E){super(T),this.snapshot=E,js(this,T)}toString(){return this.snapshot.toString()}}function eo(C,T){const E=function ms(C,T){const de=new Ur([],{},{},"",{},yn,T,null,C.root,-1,{});return new fo("",new $s(de,[]))}(C,T),x=new Pe.X([new ai("",{})]),B=new Pe.X({}),Q=new Pe.X({}),de=new Pe.X({}),_e=new Pe.X(""),ot=new to(x,B,de,_e,Q,yn,T,E.root);return ot.snapshot=E.root,new jo(new $s(ot,[]),E)}class to{constructor(T,E,x,B,Q,de,_e,ot){this.url=T,this.params=E,this.queryParams=x,this.fragment=B,this.data=Q,this.outlet=de,this.component=_e,this.title=this.data?.pipe((0,ke.U)($t=>$t[Yn]))??(0,fe.of)(void 0),this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(T=>lr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(T=>lr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _s(C,T="emptyOnly"){const E=C.pathFromRoot;let x=0;if("always"!==T)for(x=E.length-1;x>=1;){const B=E[x],Q=E[x-1];if(B.routeConfig&&""===B.routeConfig.path)x--;else{if(Q.component)break;x--}}return function Ba(C){return C.reduce((T,E)=>({params:{...T.params,...E.params},data:{...T.data,...E.data},resolve:{...E.data,...T.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(x))}class Ur{constructor(T,E,x,B,Q,de,_e,ot,$t,In,dn,ni){this.url=T,this.params=E,this.queryParams=x,this.fragment=B,this.data=Q,this.outlet=de,this.component=_e,this.title=this.data?.[Yn],this.routeConfig=ot,this._urlSegment=$t,this._lastPathIndex=In,this._correctedLastPathIndex=ni??In,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(x=>x.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fo extends Da{constructor(T,E){super(E),this.url=T,js(this,E)}toString(){return ks(this._root)}}function js(C,T){T.value._routerState=C,T.children.forEach(E=>js(C,E))}function ks(C){const T=C.children.length>0?` { ${C.children.map(ks).join(", ")} } `:"";return`${C.value}${T}`}function as(C){if(C.snapshot){const T=C.snapshot,E=C._futureSnapshot;C.snapshot=E,Wn(T.queryParams,E.queryParams)||C.queryParams.next(E.queryParams),T.fragment!==E.fragment&&C.fragment.next(E.fragment),Wn(T.params,E.params)||C.params.next(E.params),function di(C,T){if(C.length!==T.length)return!1;for(let E=0;E<C.length;++E)if(!Wn(C[E],T[E]))return!1;return!0}(T.url,E.url)||C.url.next(E.url),Wn(T.data,E.data)||C.data.next(E.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function Co(C,T){const E=Wn(C.params,T.params)&&function En(C,T){return Ai(C,T)&&C.every((E,x)=>Wn(E.parameters,T[x].parameters))}(C.url,T.url);return E&&!(!C.parent!=!T.parent)&&(!C.parent||Co(C.parent,T.parent))}function Hs(C,T,E){if(E&&C.shouldReuseRoute(T.value,E.value.snapshot)){const x=E.value;x._futureSnapshot=T.value;const B=function Ro(C,T,E){return T.children.map(x=>{for(const B of E.children)if(C.shouldReuseRoute(x.value,B.value.snapshot))return Hs(C,x,B);return Hs(C,x)})}(C,T,E);return new $s(x,B)}{if(C.shouldAttach(T.value)){const Q=C.retrieve(T.value);if(null!==Q){const de=Q.route;return de.value._futureSnapshot=T.value,de.children=T.children.map(_e=>Hs(C,_e)),de}}const x=function Gs(C){return new to(new Pe.X(C.url),new Pe.X(C.params),new Pe.X(C.queryParams),new Pe.X(C.fragment),new Pe.X(C.data),C.outlet,C.component,C)}(T.value),B=T.children.map(Q=>Hs(C,Q));return new $s(x,B)}}const Ho="ngNavigationCancelingError";function xi(C,T){const{redirectTo:E,navigationBehaviorOptions:x}=mt(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,B=Ta(!1,0,T);return B.url=E,B.navigationBehaviorOptions=x,B}function Ta(C,T,E){const x=new Error("NavigationCancelingError: "+(C||""));return x[Ho]=!0,x.cancellationCode=T,E&&(x.url=E),x}function Go(C){return Ia(C)&&mt(C.url)}function Ia(C){return C&&C[Ho]}class po{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new go,this.attachRef=null}}let go=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(E,x){const B=this.getOrCreateContext(E);B.outlet=x,this.contexts.set(E,B)}onChildOutletDestroyed(E){const x=this.getContext(E);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let x=this.getContext(E);return x||(x=new po,this.contexts.set(E,x)),x}getContext(E){return this.contexts.get(E)||null}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const zi=!1;let ls=(()=>{class C{constructor(E,x,B,Q,de){this.parentContexts=E,this.location=x,this.changeDetector=Q,this.environmentInjector=de,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=B||yn,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,zi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,zi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,zi);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,x){this.activated=E,this._activatedRoute=x,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,x){if(this.isActivated)throw new d.vHH(4013,zi);this._activatedRoute=E;const B=this.location,de=E._futureSnapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,ot=new no(E,_e,B.injector);if(x&&function Po(C){return!!C.resolveComponentFactory}(x)){const $t=x.resolveComponentFactory(de);this.activated=B.createComponent($t,B.length,ot)}else this.activated=B.createComponent(de,{index:B.length,injector:ot,environmentInjector:x??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(E){return new(E||C)(d.Y36(go),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},C.\u0275dir=d.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),C})();class no{constructor(T,E,x){this.route=T,this.childContexts=E,this.parent=x}get(T,E){return T===to?this.route:T===go?this.childContexts:this.parent.get(T,E)}}let us=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=d.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(E,x){1&E&&d._UZ(0,"router-outlet")},dependencies:[ls],encapsulation:2}),C})();function Wo(C,T){return C.providers&&!C._injector&&(C._injector=(0,d.MMx)(C.providers,T,`Route: ${C.path}`)),C._injector??T}function Ms(C){const T=C.children&&C.children.map(Ms),E=T?{...C,children:T}:{...C};return!E.component&&!E.loadComponent&&(T||E.loadChildren)&&E.outlet&&E.outlet!==yn&&(E.component=us),E}function Yr(C){return C.outlet||yn}function sa(C,T){const E=C.filter(x=>Yr(x)===T);return E.push(...C.filter(x=>Yr(x)!==T)),E}function Fs(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let T=C.parent;T;T=T.parent){const E=T.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Ts{constructor(T,E,x,B){this.routeReuseStrategy=T,this.futureState=E,this.currState=x,this.forwardEvent=B}activate(T){const E=this.futureState._root,x=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,x,T),as(this.futureState.root),this.activateChildRoutes(E,x,T)}deactivateChildRoutes(T,E,x){const B=Ps(E);T.children.forEach(Q=>{const de=Q.value.outlet;this.deactivateRoutes(Q,B[de],x),delete B[de]}),Zn(B,(Q,de)=>{this.deactivateRouteAndItsChildren(Q,x)})}deactivateRoutes(T,E,x){const B=T.value,Q=E?E.value:null;if(B===Q)if(B.component){const de=x.getContext(B.outlet);de&&this.deactivateChildRoutes(T,E,de.children)}else this.deactivateChildRoutes(T,E,x);else Q&&this.deactivateRouteAndItsChildren(E,x)}deactivateRouteAndItsChildren(T,E){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,E):this.deactivateRouteAndOutlet(T,E)}detachAndStoreRouteSubtree(T,E){const x=E.getContext(T.value.outlet),B=x&&T.value.component?x.children:E,Q=Ps(T);for(const de of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[de],B);if(x&&x.outlet){const de=x.outlet.detach(),_e=x.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:de,route:T,contexts:_e})}}deactivateRouteAndOutlet(T,E){const x=E.getContext(T.value.outlet),B=x&&T.value.component?x.children:E,Q=Ps(T);for(const de of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[de],B);x&&x.outlet&&(x.outlet.deactivate(),x.children.onOutletDeactivated(),x.attachRef=null,x.resolver=null,x.route=null)}activateChildRoutes(T,E,x){const B=Ps(E);T.children.forEach(Q=>{this.activateRoutes(Q,B[Q.value.outlet],x),this.forwardEvent(new co(Q.value.snapshot))}),T.children.length&&this.forwardEvent(new Xs(T.value.snapshot))}activateRoutes(T,E,x){const B=T.value,Q=E?E.value:null;if(as(B),B===Q)if(B.component){const de=x.getOrCreateContext(B.outlet);this.activateChildRoutes(T,E,de.children)}else this.activateChildRoutes(T,E,x);else if(B.component){const de=x.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const _e=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),de.children.onOutletReAttached(_e.contexts),de.attachRef=_e.componentRef,de.route=_e.route.value,de.outlet&&de.outlet.attach(_e.componentRef,_e.route.value),as(_e.route.value),this.activateChildRoutes(T,null,de.children)}else{const _e=Fs(B.snapshot),ot=_e?.get(d._Vd)??null;de.attachRef=null,de.route=B,de.resolver=ot,de.injector=_e,de.outlet&&de.outlet.activateWith(B,de.injector),this.activateChildRoutes(T,null,de.children)}}else this.activateChildRoutes(T,null,x)}}class Ci{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class $r{constructor(T,E){this.component=T,this.route=E}}function Nn(C,T,E){const x=C._root;return $a(x,T?T._root:null,E,[x.value])}function ko(C,T){const E=Symbol(),x=T.get(C,E);return x===E?"function"!=typeof C||(0,d.Z0I)(C)?T.get(C):C:x}function $a(C,T,E,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const Q=Ps(T);return C.children.forEach(de=>{(function _o(C,T,E,x,B={canDeactivateChecks:[],canActivateChecks:[]}){const Q=C.value,de=T?T.value:null,_e=E?E.getContext(C.value.outlet):null;if(de&&Q.routeConfig===de.routeConfig){const ot=function oa(C,T,E){if("function"==typeof E)return E(C,T);switch(E){case"pathParamsChange":return!Ai(C.url,T.url);case"pathParamsOrQueryParamsChange":return!Ai(C.url,T.url)||!Wn(C.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(C,T)||!Wn(C.queryParams,T.queryParams);default:return!Co(C,T)}}(de,Q,Q.routeConfig.runGuardsAndResolvers);ot?B.canActivateChecks.push(new Ci(x)):(Q.data=de.data,Q._resolvedData=de._resolvedData),$a(C,T,Q.component?_e?_e.children:null:E,x,B),ot&&_e&&_e.outlet&&_e.outlet.isActivated&&B.canDeactivateChecks.push(new $r(_e.outlet.component,de))}else de&&yo(T,_e,B),B.canActivateChecks.push(new Ci(x)),$a(C,null,Q.component?_e?_e.children:null:E,x,B)})(de,Q[de.value.outlet],E,x.concat([de.value]),B),delete Q[de.value.outlet]}),Zn(Q,(de,_e)=>yo(de,E.getContext(_e),B)),B}function yo(C,T,E){const x=Ps(C),B=C.value;Zn(x,(Q,de)=>{yo(Q,B.component?T?T.children.getContext(de):null:T,E)}),E.canDeactivateChecks.push(new $r(B.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,B))}function Ws(C){return"function"==typeof C}function ee(C){return C instanceof ce||"EmptyError"===C?.name}const Ze=Symbol("INITIAL_VALUE");function Wt(){return(0,Rt.w)(C=>(0,Ce.a)(C.map(T=>T.pipe((0,it.q)(1),(0,Be.O)(Ze)))).pipe((0,ke.U)(T=>{for(const E of T)if(!0!==E){if(E===Ze)return Ze;if(!1===E||E instanceof Jr)return E}return!0}),(0,ht.h)(T=>T!==Ze),(0,it.q)(1)))}function ja(C){return(0,tt.z)((0,cn.b)(T=>{if(mt(T))throw xi(0,T)}),(0,ke.U)(T=>!0===T))}const To={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aa(C,T,E,x,B){const Q=la(C,T,E);return Q.matched?function Na(C,T,E,x){const B=T.canMatch;if(!B||0===B.length)return(0,fe.of)(!0);const Q=B.map(de=>{const _e=ko(de,C);return Qn(function U(C){return C&&Ws(C.canMatch)}(_e)?_e.canMatch(T,E):C.runInContext(()=>_e(T,E)))});return(0,fe.of)(Q).pipe(Wt(),ja())}(x=Wo(T,x),T,E).pipe((0,ke.U)(de=>!0===de?Q:{...To})):(0,fe.of)(Q)}function la(C,T,E){if(""===T.path)return"full"===T.pathMatch&&(C.hasChildren()||E.length>0)?{...To}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const B=(T.matcher||Zi)(E,C,T);if(!B)return{...To};const Q={};Zn(B.posParams,(_e,ot)=>{Q[ot]=_e.path});const de=B.consumed.length>0?{...Q,...B.consumed[B.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:B.consumed,remainingSegments:E.slice(B.consumed.length),parameters:de,positionalParamSegments:B.posParams??{}}}function Yo(C,T,E,x,B="corrected"){if(E.length>0&&function F(C,T,E){return E.some(x=>be(C,T,x)&&Yr(x)!==yn)}(C,E,x)){const de=new Kt(T,function z(C,T,E,x){const B={};B[yn]=x,x._sourceSegment=C,x._segmentIndexShift=T.length;for(const Q of E)if(""===Q.path&&Yr(Q)!==yn){const de=new Kt([],{});de._sourceSegment=C,de._segmentIndexShift=T.length,B[Yr(Q)]=de}return B}(C,T,x,new Kt(E,C.children)));return de._sourceSegment=C,de._segmentIndexShift=T.length,{segmentGroup:de,slicedSegments:[]}}if(0===E.length&&function te(C,T,E){return E.some(x=>be(C,T,x))}(C,E,x)){const de=new Kt(C.segments,function R(C,T,E,x,B,Q){const de={};for(const _e of x)if(be(C,E,_e)&&!B[Yr(_e)]){const ot=new Kt([],{});ot._sourceSegment=C,ot._segmentIndexShift="legacy"===Q?C.segments.length:T.length,de[Yr(_e)]=ot}return{...B,...de}}(C,T,E,x,C.children,B));return de._sourceSegment=C,de._segmentIndexShift=T.length,{segmentGroup:de,slicedSegments:E}}const Q=new Kt(C.segments,C.children);return Q._sourceSegment=C,Q._segmentIndexShift=T.length,{segmentGroup:Q,slicedSegments:E}}function be(C,T,E){return(!(C.hasChildren()||T.length>0)||"full"!==E.pathMatch)&&""===E.path}function nt(C,T,E,x){return!!(Yr(C)===x||x!==yn&&be(T,E,C))&&("**"===C.path||la(T,C,E).matched)}function Dt(C,T,E){return 0===T.length&&!C.children[E]}const Yt=!1;class sr{constructor(T){this.segmentGroup=T||null}}class wr{constructor(T){this.urlTree=T}}function Nr(C){return Je(new sr(C))}function Dr(C){return Je(new wr(C))}class fa{constructor(T,E,x,B,Q){this.injector=T,this.configLoader=E,this.urlSerializer=x,this.urlTree=B,this.config=Q,this.allowRedirects=!0}apply(){const T=Yo(this.urlTree.root,[],[],this.config).segmentGroup,E=new Kt(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,E,yn).pipe((0,ke.U)(Q=>this.createUrlTree(wt(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(or(Q=>{if(Q instanceof wr)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof sr?this.noMatchError(Q):Q}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,yn).pipe((0,ke.U)(B=>this.createUrlTree(wt(B),T.queryParams,T.fragment))).pipe(or(B=>{throw B instanceof sr?this.noMatchError(B):B}))}noMatchError(T){return new d.vHH(4002,Yt)}createUrlTree(T,E,x){const B=st(T);return new Jr(B,E,x)}expandSegmentGroup(T,E,x,B){return 0===x.segments.length&&x.hasChildren()?this.expandChildren(T,E,x).pipe((0,ke.U)(Q=>new Kt([],Q))):this.expandSegment(T,x,E,x.segments,B,!0)}expandChildren(T,E,x){const B=[];for(const Q of Object.keys(x.children))"primary"===Q?B.unshift(Q):B.push(Q);return(0,Y.D)(B).pipe(Gt(Q=>{const de=x.children[Q],_e=sa(E,Q);return this.expandSegmentGroup(T,_e,de,Q).pipe((0,ke.U)(ot=>({segment:ot,outlet:Q})))}),ir((Q,de)=>(Q[de.outlet]=de.segment,Q),{}),Vn())}expandSegment(T,E,x,B,Q,de){return(0,Y.D)(x).pipe(Gt(_e=>this.expandSegmentAgainstRoute(T,E,x,_e,B,Q,de).pipe(or($t=>{if($t instanceof sr)return(0,fe.of)(null);throw $t}))),yt(_e=>!!_e),or((_e,ot)=>{if(ee(_e))return Dt(E,B,Q)?(0,fe.of)(new Kt([],{})):Nr(E);throw _e}))}expandSegmentAgainstRoute(T,E,x,B,Q,de,_e){return nt(B,E,Q,de)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(T,E,B,Q,de):_e&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,E,x,B,Q,de):Nr(E):Nr(E)}expandSegmentAgainstRouteUsingRedirect(T,E,x,B,Q,de){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,x,B,de):this.expandRegularSegmentAgainstRouteUsingRedirect(T,E,x,B,Q,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,E,x,B){const Q=this.applyRedirectCommands([],x.redirectTo,{});return x.redirectTo.startsWith("/")?Dr(Q):this.lineralizeSegments(x,Q).pipe((0,Ae.z)(de=>{const _e=new Kt(de,{});return this.expandSegment(T,_e,E,de,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,E,x,B,Q,de){const{matched:_e,consumedSegments:ot,remainingSegments:$t,positionalParamSegments:In}=la(E,B,Q);if(!_e)return Nr(E);const dn=this.applyRedirectCommands(ot,B.redirectTo,In);return B.redirectTo.startsWith("/")?Dr(dn):this.lineralizeSegments(B,dn).pipe((0,Ae.z)(ni=>this.expandSegment(T,E,x,ni.concat($t),de,!1)))}matchSegmentAgainstRoute(T,E,x,B,Q){return"**"===x.path?(T=Wo(x,T),x.loadChildren?(x._loadedRoutes?(0,fe.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):this.configLoader.loadChildren(T,x)).pipe((0,ke.U)(_e=>(x._loadedRoutes=_e.routes,x._loadedInjector=_e.injector,new Kt(B,{})))):(0,fe.of)(new Kt(B,{}))):aa(E,x,B,T).pipe((0,Rt.w)(({matched:de,consumedSegments:_e,remainingSegments:ot})=>de?this.getChildConfig(T=x._injector??T,x,B).pipe((0,Ae.z)(In=>{const dn=In.injector??T,ni=In.routes,{segmentGroup:Ao,slicedSegments:xa}=Yo(E,_e,ot,ni),Ra=new Kt(Ao.segments,Ao.children);if(0===xa.length&&Ra.hasChildren())return this.expandChildren(dn,ni,Ra).pipe((0,ke.U)(jl=>new Kt(_e,jl)));if(0===ni.length&&0===xa.length)return(0,fe.of)(new Kt(_e,{}));const wo=Yr(x)===Q;return this.expandSegment(dn,Ra,ni,xa,wo?yn:Q,!0).pipe((0,ke.U)(Za=>new Kt(_e.concat(Za.segments),Za.children)))})):Nr(E)))}getChildConfig(T,E,x){return E.children?(0,fe.of)({routes:E.children,injector:T}):E.loadChildren?void 0!==E._loadedRoutes?(0,fe.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Ls(C,T,E,x){const B=T.canLoad;if(void 0===B||0===B.length)return(0,fe.of)(!0);const Q=B.map(de=>{const _e=ko(de,C);return Qn(function ft(C){return C&&Ws(C.canLoad)}(_e)?_e.canLoad(T,E):C.runInContext(()=>_e(T,E)))});return(0,fe.of)(Q).pipe(Wt(),ja())}(T,E,x).pipe((0,Ae.z)(B=>B?this.configLoader.loadChildren(T,E).pipe((0,cn.b)(Q=>{E._loadedRoutes=Q.routes,E._loadedInjector=Q.injector})):function Mr(C){return Je(Ta(Yt,3))}())):(0,fe.of)({routes:[],injector:T})}lineralizeSegments(T,E){let x=[],B=E.root;for(;;){if(x=x.concat(B.segments),0===B.numberOfChildren)return(0,fe.of)(x);if(B.numberOfChildren>1||!B.children[yn])return Je(new d.vHH(4e3,Yt));B=B.children[yn]}}applyRedirectCommands(T,E,x){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),T,x)}applyRedirectCreateUrlTree(T,E,x,B){const Q=this.createSegmentGroup(T,E.root,x,B);return new Jr(Q,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(T,E){const x={};return Zn(T,(B,Q)=>{if("string"==typeof B&&B.startsWith(":")){const _e=B.substring(1);x[Q]=E[_e]}else x[Q]=B}),x}createSegmentGroup(T,E,x,B){const Q=this.createSegments(T,E.segments,x,B);let de={};return Zn(E.children,(_e,ot)=>{de[ot]=this.createSegmentGroup(T,_e,x,B)}),new Kt(Q,de)}createSegments(T,E,x,B){return E.map(Q=>Q.path.startsWith(":")?this.findPosParam(T,Q,B):this.findOrReturn(Q,x))}findPosParam(T,E,x){const B=x[E.path.substring(1)];if(!B)throw new d.vHH(4001,Yt);return B}findOrReturn(T,E){let x=0;for(const B of E){if(B.path===T.path)return E.splice(x),B;x++}return T}}class As{}class St{constructor(T,E,x,B,Q,de,_e,ot){this.injector=T,this.rootComponentType=E,this.config=x,this.urlTree=B,this.url=Q,this.paramsInheritanceStrategy=de,this.relativeLinkResolution=_e,this.urlSerializer=ot}recognize(){const T=Yo(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,yn).pipe((0,ke.U)(E=>{if(null===E)return null;const x=new Ur([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new $s(x,E),Q=new fo(this.url,B);return this.inheritParamsAndData(Q._root),Q}))}inheritParamsAndData(T){const E=T.value,x=_s(E,this.paramsInheritanceStrategy);E.params=Object.freeze(x.params),E.data=Object.freeze(x.data),T.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(T,E,x,B){return 0===x.segments.length&&x.hasChildren()?this.processChildren(T,E,x):this.processSegment(T,E,x,x.segments,B)}processChildren(T,E,x){return(0,Y.D)(Object.keys(x.children)).pipe(Gt(B=>{const Q=x.children[B],de=sa(E,B);return this.processSegmentGroup(T,de,Q,B)}),ir((B,Q)=>B&&Q?(B.push(...Q),B):null),function Sr(C,T=!1){return(0,zt.e)((E,x)=>{let B=0;E.subscribe((0,Ht.x)(x,Q=>{const de=C(Q,B++);(de||T)&&x.next(Q),!de&&x.complete()}))})}(B=>null!==B),Le(null),Vn(),(0,ke.U)(B=>{if(null===B)return null;const Q=nn(B);return function Ri(C){C.sort((T,E)=>T.value.outlet===yn?-1:E.value.outlet===yn?1:T.value.outlet.localeCompare(E.value.outlet))}(Q),Q}))}processSegment(T,E,x,B,Q){return(0,Y.D)(E).pipe(Gt(de=>this.processSegmentAgainstRoute(de._injector??T,de,x,B,Q)),yt(de=>!!de),or(de=>{if(ee(de))return Dt(x,B,Q)?(0,fe.of)([]):(0,fe.of)(null);throw de}))}processSegmentAgainstRoute(T,E,x,B,Q){if(E.redirectTo||!nt(E,x,B,Q))return(0,fe.of)(null);let de;if("**"===E.path){const _e=B.length>0?oi(B).parameters:{},ot=_(x)+B.length,$t=new Ur(B,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(E),Yr(E),E.component??E._loadedComponent??null,E,W(x),ot,q(E),ot);de=(0,fe.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else de=aa(x,E,B,T).pipe((0,ke.U)(({matched:_e,consumedSegments:ot,remainingSegments:$t,parameters:In})=>{if(!_e)return null;const dn=_(x)+ot.length;return{snapshot:new Ur(ot,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(E),Yr(E),E.component??E._loadedComponent??null,E,W(x),dn,q(E),dn),consumedSegments:ot,remainingSegments:$t}}));return de.pipe((0,Rt.w)(_e=>{if(null===_e)return(0,fe.of)(null);const{snapshot:ot,consumedSegments:$t,remainingSegments:In}=_e;T=E._injector??T;const dn=E._loadedInjector??T,ni=function Pi(C){return C.children?C.children:C.loadChildren?C._loadedRoutes:[]}(E),{segmentGroup:Ao,slicedSegments:xa}=Yo(x,$t,In,ni.filter(wo=>void 0===wo.redirectTo),this.relativeLinkResolution);if(0===xa.length&&Ao.hasChildren())return this.processChildren(dn,ni,Ao).pipe((0,ke.U)(wo=>null===wo?null:[new $s(ot,wo)]));if(0===ni.length&&0===xa.length)return(0,fe.of)([new $s(ot,[])]);const Ra=Yr(E)===Q;return this.processSegment(dn,ni,Ao,xa,Ra?yn:Q).pipe((0,ke.U)(wo=>null===wo?null:[new $s(ot,wo)]))}))}}function ga(C){const T=C.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function nn(C){const T=[],E=new Set;for(const x of C){if(!ga(x)){T.push(x);continue}const B=T.find(Q=>x.value.routeConfig===Q.value.routeConfig);void 0!==B?(B.children.push(...x.children),E.add(B)):T.push(x)}for(const x of E){const B=nn(x.children);T.push(new $s(x.value,B))}return T.filter(x=>!E.has(x))}function W(C){let T=C;for(;T._sourceSegment;)T=T._sourceSegment;return T}function _(C){let T=C,E=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,E+=T._segmentIndexShift??0;return E-1}function O(C){return C.data||{}}function q(C){return C.resolve||{}}function ln(C){return"string"==typeof C.title||null===C.title}function pr(C){return(0,Rt.w)(T=>{const E=C(T);return E?(0,Y.D)(E).pipe((0,ke.U)(()=>T)):(0,fe.of)(T)})}let nr=(()=>{class C{buildTitle(E){let x,B=E.root;for(;void 0!==B;)x=this.getResolvedTitleForRoute(B)??x,B=B.children.find(Q=>Q.outlet===yn);return x}getResolvedTitleForRoute(E){return E.data[Yn]}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275prov=d.Yz7({token:C,factory:function(){return(0,d.f3M)(Ln)},providedIn:"root"}),C})(),Ln=(()=>{class C extends nr{constructor(E){super(),this.title=E}updateTitle(E){const x=this.buildTitle(E);void 0!==x&&this.title.setTitle(x)}}return C.\u0275fac=function(E){return new(E||C)(d.LFG(Fn.Dx))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();class Qt{}class mi extends class Hr{shouldDetach(T){return!1}store(T,E){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,E){return T.routeConfig===E.routeConfig}}{}const At=new d.OlP("",{providedIn:"root",factory:()=>({})}),Hn=new d.OlP("ROUTES");let Ki=(()=>{class C{constructor(E,x){this.injector=E,this.compiler=x,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,fe.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const x=Qn(E.loadComponent()).pipe((0,cn.b)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=Q}),ar(()=>{this.componentLoaders.delete(E)})),B=new Ft(x,()=>new ut.x).pipe(on());return this.componentLoaders.set(E,B),B}loadChildren(E,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,fe.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const Q=this.loadModuleFactoryOrRoutes(x.loadChildren).pipe((0,ke.U)(_e=>{this.onLoadEndListener&&this.onLoadEndListener(x);let ot,$t,In=!1;Array.isArray(_e)?$t=_e:(ot=_e.create(E).injector,$t=dr(ot.get(Hn,[],d.XFs.Self|d.XFs.Optional)));return{routes:$t.map(Ms),injector:ot}}),ar(()=>{this.childrenLoaders.delete(x)})),de=new Ft(Q,()=>new ut.x).pipe(on());return this.childrenLoaders.set(x,de),de}loadModuleFactoryOrRoutes(E){return Qn(E()).pipe((0,Ae.z)(x=>x instanceof d.YKP||Array.isArray(x)?(0,fe.of)(x):(0,Y.D)(this.compiler.compileModuleAsync(x))))}}return C.\u0275fac=function(E){return new(E||C)(d.LFG(d.zs3),d.LFG(d.Sil))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();class br{}class Ot{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,E){return T}}function Io(C){throw C}function So(C,T,E){return T.parse("/")}const bo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Xt(){const C=(0,d.f3M)(jt),T=(0,d.f3M)(go),E=(0,d.f3M)(gt.Ye),x=(0,d.f3M)(d.zs3),B=(0,d.f3M)(d.Sil),Q=(0,d.f3M)(Hn,{optional:!0})??[],de=(0,d.f3M)(At,{optional:!0})??{},_e=(0,d.f3M)(Ln),ot=(0,d.f3M)(nr,{optional:!0}),$t=(0,d.f3M)(br,{optional:!0}),In=(0,d.f3M)(Qt,{optional:!0}),dn=new rn(null,C,T,E,x,B,dr(Q));return $t&&(dn.urlHandlingStrategy=$t),In&&(dn.routeReuseStrategy=In),dn.titleStrategy=ot??_e,function Fo(C,T){C.errorHandler&&(T.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(T.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(T.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(T.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(T.urlUpdateStrategy=C.urlUpdateStrategy),C.canceledNavigationResolution&&(T.canceledNavigationResolution=C.canceledNavigationResolution)}(de,dn),dn}let rn=(()=>{class C{constructor(E,x,B,Q,de,_e,ot){this.rootComponentType=E,this.urlSerializer=x,this.rootContexts=B,this.location=Q,this.config=ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.x,this.errorHandler=Io,this.malformedUriErrorHandler=So,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,fe.of)(void 0),this.urlHandlingStrategy=new Ot,this.routeReuseStrategy=new mi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=de.get(Ki),this.configLoader.onLoadEndListener=ni=>this.triggerEvent(new xo(ni)),this.configLoader.onLoadStartListener=ni=>this.triggerEvent(new Oi(ni)),this.ngModule=de.get(d.h0i),this.console=de.get(d.c2e);const dn=de.get(d.R0b);this.isNgZoneEnabled=dn instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(ot),this.currentUrlTree=function hi(){return new Jr(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eo(this.currentUrlTree,this.rootComponentType),this.transitions=new Pe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const x=this.events;return E.pipe((0,ht.h)(B=>0!==B.id),(0,ke.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,Rt.w)(B=>{let Q=!1,de=!1;return(0,fe.of)(B).pipe((0,cn.b)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Rt.w)(_e=>{const ot=this.browserUrlTree.toString(),$t=!this.navigated||_e.extractedUrl.toString()!==ot||ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return $n(_e.source)&&(this.browserUrlTree=_e.extractedUrl),(0,fe.of)(_e).pipe((0,Rt.w)(dn=>{const ni=this.transitions.getValue();return x.next(new Un(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),ni!==this.transitions.getValue()?pt.E:Promise.resolve(dn)}),function gi(C,T,E,x){return(0,Rt.w)(B=>function qn(C,T,E,x,B){return new fa(C,T,E,x,B).apply()}(C,T,E,B.extractedUrl,x).pipe((0,ke.U)(Q=>({...B,urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,cn.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects},B.urlAfterRedirects=dn.urlAfterRedirects}),function re(C,T,E,x,B,Q){return(0,Ae.z)(de=>function tl(C,T,E,x,B,Q,de="emptyOnly",_e="legacy"){return new St(C,T,E,x,B,de,_e,Q).recognize().pipe((0,Rt.w)(ot=>null===ot?function pa(C){return new Xe.y(T=>T.error(C))}(new As):(0,fe.of)(ot)))}(C,T,E,de.urlAfterRedirects,x.serialize(de.urlAfterRedirects),x,B,Q).pipe((0,ke.U)(_e=>({...de,targetSnapshot:_e}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,cn.b)(dn=>{if(B.targetSnapshot=dn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const Ao=this.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);this.setBrowserUrl(Ao,dn)}this.browserUrlTree=dn.urlAfterRedirects}const ni=new pi(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);x.next(ni)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ni,extractedUrl:Ao,source:xa,restoredState:Ra,extras:wo}=_e,ca=new Un(ni,this.serializeUrl(Ao),xa,Ra);x.next(ca);const Za=eo(Ao,this.rootComponentType).snapshot;return B={..._e,targetSnapshot:Za,urlAfterRedirects:Ao,extras:{...wo,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(B)}return this.rawUrlTree=_e.rawUrl,_e.resolve(null),pt.E}),(0,cn.b)(_e=>{const ot=new Qi(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(ot)}),(0,ke.U)(_e=>B={..._e,guards:Nn(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)}),function Xr(C,T){return(0,Ae.z)(E=>{const{targetSnapshot:x,currentSnapshot:B,guards:{canActivateChecks:Q,canDeactivateChecks:de}}=E;return 0===de.length&&0===Q.length?(0,fe.of)({...E,guardsResult:!0}):function zs(C,T,E,x){return(0,Y.D)(C).pipe((0,Ae.z)(B=>function vo(C,T,E,x,B){const Q=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,fe.of)(!0);const de=Q.map(_e=>{const ot=Fs(T)??B,$t=ko(_e,ot);return Qn(function Is(C){return C&&Ws(C.canDeactivate)}($t)?$t.canDeactivate(C,T,E,x):ot.runInContext(()=>$t(C,T,E,x))).pipe(yt())});return(0,fe.of)(de).pipe(Wt())}(B.component,B.route,E,T,x)),yt(B=>!0!==B,!0))}(de,x,B,C).pipe((0,Ae.z)(_e=>_e&&function Aa(C){return"boolean"==typeof C}(_e)?function io(C,T,E,x){return(0,Y.D)(T).pipe(Gt(B=>(0,Re.z)(function qi(C,T){return null!==C&&T&&T(new Cs(C)),(0,fe.of)(!0)}(B.route.parent,x),function qs(C,T){return null!==C&&T&&T(new Rs(C)),(0,fe.of)(!0)}(B.route,x),function Ko(C,T,E){const x=T[T.length-1],Q=T.slice(0,T.length-1).reverse().map(de=>function Ua(C){const T=C.routeConfig?C.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:C,guards:T}:null}(de)).filter(de=>null!==de).map(de=>ye(()=>{const _e=de.guards.map(ot=>{const $t=Fs(de.node)??E,In=ko(ot,$t);return Qn(function qo(C){return C&&Ws(C.canActivateChild)}(In)?In.canActivateChild(x,C):$t.runInContext(()=>In(x,C))).pipe(yt())});return(0,fe.of)(_e).pipe(Wt())}));return(0,fe.of)(Q).pipe(Wt())}(C,B.path,E),function Ss(C,T,E){const x=T.routeConfig?T.routeConfig.canActivate:null;if(!x||0===x.length)return(0,fe.of)(!0);const B=x.map(Q=>ye(()=>{const de=Fs(T)??E,_e=ko(Q,de);return Qn(function vr(C){return C&&Ws(C.canActivate)}(_e)?_e.canActivate(T,C):de.runInContext(()=>_e(T,C))).pipe(yt())}));return(0,fe.of)(B).pipe(Wt())}(C,B.route,E))),yt(B=>!0!==B,!0))}(x,Q,C,T):(0,fe.of)(_e)),(0,ke.U)(_e=>({...E,guardsResult:_e})))})}(this.ngModule.injector,_e=>this.triggerEvent(_e)),(0,cn.b)(_e=>{if(B.guardsResult=_e.guardsResult,mt(_e.guardsResult))throw xi(0,_e.guardsResult);const ot=new os(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.triggerEvent(ot)}),(0,ht.h)(_e=>!!_e.guardsResult||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,"",3),!1)),pr(_e=>{if(_e.guards.canActivateChecks.length)return(0,fe.of)(_e).pipe((0,cn.b)(ot=>{const $t=new gs(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent($t)}),(0,Rt.w)(ot=>{let $t=!1;return(0,fe.of)(ot).pipe(function we(C,T){return(0,Ae.z)(E=>{const{targetSnapshot:x,guards:{canActivateChecks:B}}=E;if(!B.length)return(0,fe.of)(E);let Q=0;return(0,Y.D)(B).pipe(Gt(de=>function Ee(C,T,E,x){const B=C.routeConfig,Q=C._resolve;return void 0!==B?.title&&!ln(B)&&(Q[Yn]=B.title),function Ge(C,T,E,x){const B=function vt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===B.length)return(0,fe.of)({});const Q={};return(0,Y.D)(B).pipe((0,Ae.z)(de=>function Jt(C,T,E,x){const B=Fs(T)??x,Q=ko(C,B);return Qn(Q.resolve?Q.resolve(T,E):B.runInContext(()=>Q(T,E)))}(C[de],T,E,x).pipe(yt(),(0,cn.b)(_e=>{Q[de]=_e}))),Dn(1),(0,Ar.h)(Q),or(de=>ee(de)?pt.E:Je(de)))}(Q,C,T,x).pipe((0,ke.U)(de=>(C._resolvedData=de,C.data=_s(C,E).resolve,B&&ln(B)&&(C.data[Yn]=B.title),null)))}(de.route,x,C,T)),(0,cn.b)(()=>Q++),Dn(1),(0,Ae.z)(de=>Q===B.length?(0,fe.of)(E):pt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,cn.b)({next:()=>$t=!0,complete:()=>{$t||(this.restoreHistory(ot),this.cancelNavigationTransition(ot,"",2))}}))}),(0,cn.b)(ot=>{const $t=new na(ot.id,this.serializeUrl(ot.extractedUrl),this.serializeUrl(ot.urlAfterRedirects),ot.targetSnapshot);this.triggerEvent($t)}))}),pr(_e=>{const ot=$t=>{const In=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&In.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,cn.b)(dn=>{$t.component=dn}),(0,ke.U)(()=>{})));for(const dn of $t.children)In.push(...ot(dn));return In};return(0,Ce.a)(ot(_e.targetSnapshot.root)).pipe(Le(),(0,it.q)(1))}),pr(()=>this.afterPreactivation()),(0,ke.U)(_e=>{const ot=function ra(C,T,E){const x=Hs(C,T._root,E?E._root:void 0);return new jo(x,T)}(this.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return B={..._e,targetRouterState:ot}}),(0,cn.b)(_e=>{this.currentUrlTree=_e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.urlAfterRedirects,_e.rawUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_e),this.browserUrlTree=_e.urlAfterRedirects)}),((C,T,E)=>(0,ke.U)(x=>(new Ts(T,x.targetRouterState,x.currentRouterState,E).activate(C),x)))(this.rootContexts,this.routeReuseStrategy,_e=>this.triggerEvent(_e)),(0,cn.b)({next(){Q=!0},complete(){Q=!0}}),ar(()=>{Q||de||this.cancelNavigationTransition(B,"",1),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),or(_e=>{if(de=!0,Ia(_e)){Go(_e)||(this.navigated=!0,this.restoreHistory(B,!0));const ot=new fr(B.id,this.serializeUrl(B.extractedUrl),_e.message,_e.cancellationCode);if(x.next(ot),Go(_e)){const $t=this.urlHandlingStrategy.merge(_e.url,this.rawUrlTree),In={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$n(B.source)};this.scheduleNavigation($t,"imperative",null,In,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{this.restoreHistory(B,!0);const ot=new Di(B.id,this.serializeUrl(B.extractedUrl),_e,B.targetSnapshot??void 0);x.next(ot);try{B.resolve(this.errorHandler(_e))}catch($t){B.reject($t)}}return pt.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const x="popstate"===E.type?"popstate":"hashchange";"popstate"===x&&setTimeout(()=>{const B={replaceUrl:!0},Q=E.state?.navigationId?E.state:null;if(Q){const _e={...Q};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(B.state=_e)}const de=this.parseUrl(E.url);this.scheduleNavigation(de,x,Q,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Ms),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,x={}){const{relativeTo:B,queryParams:Q,fragment:de,queryParamsHandling:_e,preserveFragment:ot}=x,$t=B||this.routerState.root,In=ot?this.currentUrlTree.fragment:de;let dn=null;switch(_e){case"merge":dn={...this.currentUrlTree.queryParams,...Q};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=Q||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),yr($t,this.currentUrlTree,E,dn,In??null)}navigateByUrl(E,x={skipLocationChange:!1}){const B=mt(E)?E:this.parseUrl(E),Q=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,x)}navigate(E,x={skipLocationChange:!1}){return function On(C){for(let T=0;T<C.length;T++){if(null==C[T])throw new d.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,x),x)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let x;try{x=this.urlSerializer.parse(E)}catch(B){x=this.malformedUriErrorHandler(B,this.urlSerializer,E)}return x}isActive(E,x){let B;if(B=!0===x?{...bo}:!1===x?{...ma}:x,mt(E))return Ut(this.currentUrlTree,E,B);const Q=this.parseUrl(E);return Ut(this.currentUrlTree,Q,B)}removeEmptyProps(E){return Object.keys(E).reduce((x,B)=>{const Q=E[B];return null!=Q&&(x[B]=Q),x},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new er(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,x,B,Q,de){if(this.disposed)return Promise.resolve(!1);let _e,ot,$t;de?(_e=de.resolve,ot=de.reject,$t=de.promise):$t=new Promise((ni,Ao)=>{_e=ni,ot=Ao});const In=++this.navigationId;let dn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),dn=B&&B.\u0275routerPageId?B.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):dn=0,this.setTransition({id:In,targetPageId:dn,source:x,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:Q,resolve:_e,reject:ot,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(ni=>Promise.reject(ni))}setBrowserUrl(E,x){const B=this.urlSerializer.serialize(E),Q={...x.extras.state,...this.generateNgRouterState(x.id,x.targetPageId)};this.location.isCurrentPathEqualTo(B)||x.extras.replaceUrl?this.location.replaceState(B,"",Q):this.location.go(B,"",Q)}restoreHistory(E,x=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,x,B){const Q=new fr(E.id,this.serializeUrl(E.extractedUrl),x,B);this.triggerEvent(Q),E.resolve(!1)}generateNgRouterState(E,x){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:x}:{navigationId:E}}}return C.\u0275fac=function(E){d.$Z()},C.\u0275prov=d.Yz7({token:C,factory:function(){return Xt()},providedIn:"root"}),C})();function $n(C){return"imperative"!==C}let so=(()=>{class C{constructor(E,x,B){this.router=E,this.route=x,this.locationStrategy=B,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ut.x,this.subscription=E.events.subscribe(Q=>{Q instanceof er&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,d.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,d.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,d.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,x,B,Q,de){return!!(0!==E||x||B||Q||de||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return C.\u0275fac=function(E){return new(E||C)(d.Y36(rn),d.Y36(to),d.Y36(gt.S$))},C.\u0275dir=d.lG2({type:C,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,x){1&E&&d.NdJ("click",function(Q){return x.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&E&&d.uIk("target",x.target)("href",x.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),C})();class tr{}let Gr=(()=>{class C{constructor(E,x,B,Q,de){this.router=E,this.injector=B,this.preloadingStrategy=Q,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.h)(E=>E instanceof er),Gt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,x){const B=[];for(const Q of x){Q.providers&&!Q._injector&&(Q._injector=(0,d.MMx)(Q.providers,E,`Route: ${Q.path}`));const de=Q._injector??E,_e=Q._loadedInjector??de;Q.loadChildren&&!Q._loadedRoutes&&void 0===Q.canLoad||Q.loadComponent&&!Q._loadedComponent?B.push(this.preloadConfig(de,Q)):(Q.children||Q._loadedRoutes)&&B.push(this.processRoutes(_e,Q.children??Q._loadedRoutes))}return(0,Y.D)(B).pipe((0,kr.J)())}preloadConfig(E,x){return this.preloadingStrategy.preload(x,()=>{let B;B=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(E,x):(0,fe.of)(null);const Q=B.pipe((0,Ae.z)(de=>null===de?(0,fe.of)(void 0):(x._loadedRoutes=de.routes,x._loadedInjector=de.injector,this.processRoutes(de.injector??E,de.routes))));if(x.loadComponent&&!x._loadedComponent){const de=this.loader.loadComponent(x);return(0,Y.D)([Q,de]).pipe((0,kr.J)())}return Q})}}return C.\u0275fac=function(E){return new(E||C)(d.LFG(rn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(tr),d.LFG(Ki))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const oo=new d.OlP("");let es=(()=>{class C{constructor(E,x,B={}){this.router=E,this.viewportScroller=x,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof er&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof ho&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,x){this.router.triggerEvent(new ho(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(E){d.$Z()},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac}),C})();function Vo(C,T){return{\u0275kind:C,\u0275providers:T}}function Zo(C){return[{provide:Hn,multi:!0,useValue:C}]}function Ha(){const C=(0,d.f3M)(d.zs3);return T=>{const E=C.get(d.z2F);if(T!==E.components[0])return;const x=C.get(rn),B=C.get(Bs);1===C.get(gl)&&x.initialNavigation(),C.get(Ti,null,d.XFs.Optional)?.setUpPreloading(),C.get(oo,null,d.XFs.Optional)?.init(),x.resetRootComponentType(E.componentTypes[0]),B.closed||(B.next(),B.unsubscribe())}}const Bs=new d.OlP("",{factory:()=>new ut.x}),gl=new d.OlP("",{providedIn:"root",factory:()=>1});const Ti=new d.OlP("");function ml(C){return Vo(0,[{provide:Ti,useExisting:Gr},{provide:tr,useExisting:C}])}const ds=new d.OlP("ROUTER_FORROOT_GUARD"),hu=[gt.Ye,{provide:jt,useClass:Ye},{provide:rn,useFactory:Xt},go,{provide:to,useFactory:function Vs(C){return C.routerState.root},deps:[rn]},Ki];function Ya(){return new d.PXZ("Router",rn)}let Fi=(()=>{class C{constructor(E){}static forRoot(E,x){return{ngModule:C,providers:[hu,[],Zo(E),{provide:ds,useFactory:Qo,deps:[[rn,new d.FiY,new d.tp0]]},{provide:At,useValue:x||{}},x?.useHash?{provide:gt.S$,useClass:gt.Do}:{provide:gt.S$,useClass:gt.b0},{provide:oo,useFactory:()=>{const C=(0,d.f3M)(rn),T=(0,d.f3M)(gt.EM),E=(0,d.f3M)(At);return E.scrollOffset&&T.setOffset(E.scrollOffset),new es(C,T,E)}},x?.preloadingStrategy?ml(x.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ya},x?.initialNavigation?Uo(x):[],[{provide:Al,useFactory:Ha},{provide:d.tb,multi:!0,useExisting:Al}]]}}static forChild(E){return{ngModule:C,providers:[Zo(E)]}}}return C.\u0275fac=function(E){return new(E||C)(d.LFG(ds,8))},C.\u0275mod=d.oAB({type:C}),C.\u0275inj=d.cJS({imports:[us]}),C})();function Qo(C){return"guarded"}function Uo(C){return["disabled"===C.initialNavigation?Vo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const T=(0,d.f3M)(rn);return()=>{T.setUpLocationChangeListener()}}},{provide:gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?Vo(2,[{provide:gl,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:T=>{const E=T.get(gt.V_,Promise.resolve());let x=!1;return()=>E.then(()=>new Promise(Q=>{const de=T.get(rn),_e=T.get(Bs);(function B(Q){T.get(rn).events.pipe((0,ht.h)(_e=>_e instanceof er||_e instanceof fr||_e instanceof Di),(0,ke.U)(_e=>_e instanceof er||_e instanceof fr&&(0===_e.code||1===_e.code)&&null),(0,ht.h)(_e=>null!==_e),(0,it.q)(1)).subscribe(()=>{Q()})})(()=>{Q(!0),x=!0}),de.afterPreactivation=()=>(Q(!0),x||_e.closed?(0,fe.of)(void 0):_e),de.initialNavigation()}))}}]).\u0275providers:[]]}const Al=new d.OlP("")},9681:(pn,lt,Z)=>{Z.d(lt,{C6:()=>Wn,Jn:()=>lr,KN:()=>oi,Mq:()=>di,Xd:()=>Ar,ZF:()=>Zi,qX:()=>ar});var d=Z(5861),Y=Z(4859),fe=Z(1877),Pe=Z(2090),Te=Z(8766);class ce{constructor(Ye){this.container=Ye}getPlatformInfoString(){return this.container.getProviders().map(Pt=>{if(function Ce(jt){return"VERSION"===jt.getComponent()?.type}(Pt)){const an=Pt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Pt=>Pt).join(" ")}}const Re="@firebase/app",le=new fe.Yd("@firebase/app"),or="[DEFAULT]",hn={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ir=new Map,Dn=new Map;function Vn(jt,Ye){try{jt.container.addComponent(Ye)}catch(Pt){le.debug(`Component ${Ye.name} failed to register with FirebaseApp ${jt.name}`,Pt)}}function Ar(jt){const Ye=jt.name;if(Dn.has(Ye))return le.debug(`There were multiple attempts to register component ${Ye}.`),!1;Dn.set(Ye,jt);for(const Pt of ir.values())Vn(Pt,jt);return!0}function ar(jt,Ye){const Pt=jt.container.getProvider("heartbeat").getImmediate({optional:!0});return Pt&&Pt.triggerHeartbeat(),jt.container.getProvider(Ye)}const Yn=new Pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(Ye,Pt,an){this._isDeleted=!1,this._options=Object.assign({},Ye),this._config=Object.assign({},Pt),this._name=Pt.name,this._automaticDataCollectionEnabled=Pt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ye){this._isDeleted=Ye}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const lr="9.16.0";function Zi(jt,Ye={}){let Pt=jt;"object"!=typeof Ye&&(Ye={name:Ye});const an=Object.assign({name:or,automaticDataCollectionEnabled:!1},Ye),Cn=an.name;if("string"!=typeof Cn||!Cn)throw Yn.create("bad-app-name",{appName:String(Cn)});if(Pt||(Pt=(0,Pe.aH)()),!Pt)throw Yn.create("no-options");const Bn=ir.get(Cn);if(Bn){if((0,Pe.vZ)(Pt,Bn.options)&&(0,Pe.vZ)(an,Bn.config))return Bn;throw Yn.create("duplicate-app",{appName:Cn})}const ge=new Y.H0(Cn);for(const Me of Dn.values())ge.addComponent(Me);const pe=new xr(Pt,an,ge);return ir.set(Cn,pe),pe}function di(jt=or){const Ye=ir.get(jt);if(!Ye&&jt===or)return Zi();if(!Ye)throw Yn.create("no-app",{appName:jt});return Ye}function Wn(){return Array.from(ir.values())}function oi(jt,Ye,Pt){var an;let Cn=null!==(an=hn[jt])&&void 0!==an?an:jt;Pt&&(Cn+=`-${Pt}`);const Bn=Cn.match(/\s|\//),ge=Ye.match(/\s|\//);if(Bn||ge){const pe=[`Unable to register library "${Cn}" with version "${Ye}":`];return Bn&&pe.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),Bn&&ge&&pe.push("and"),ge&&pe.push(`version name "${Ye}" contains illegal characters (whitespace or "/")`),void le.warn(pe.join(" "))}Ar(new Y.wA(`${Cn}-version`,()=>({library:Cn,version:Ye}),"VERSION"))}const hi="firebase-heartbeat-store";let Vr=null;function Mt(){return Vr||(Vr=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(jt,Ye)=>{0===Ye&&jt.createObjectStore(hi)}}).catch(jt=>{throw Yn.create("idb-open",{originalErrorMessage:jt.message})})),Vr}function qt(){return(qt=(0,d.Z)(function*(jt){try{return(yield Mt()).transaction(hi).objectStore(hi).get(Xn(jt))}catch(Ye){if(Ye instanceof Pe.ZR)le.warn(Ye.message);else{const Pt=Yn.create("idb-get",{originalErrorMessage:Ye?.message});le.warn(Pt.message)}}})).apply(this,arguments)}function Tr(jt,Ye){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(jt,Ye){try{const an=(yield Mt()).transaction(hi,"readwrite");return yield an.objectStore(hi).put(Ye,Xn(jt)),an.done}catch(Pt){if(Pt instanceof Pe.ZR)le.warn(Pt.message);else{const an=Yn.create("idb-set",{originalErrorMessage:Pt?.message});le.warn(an.message)}}})).apply(this,arguments)}function Xn(jt){return`${jt.name}!${jt.options.appId}`}class Jr{constructor(Ye){this.container=Ye,this._heartbeatsCache=null;const Pt=this.container.getProvider("app").getImmediate();this._storage=new En(Pt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var Ye=this;return(0,d.Z)(function*(){const an=Ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=Kt();if(null===Ye._heartbeatsCache&&(Ye._heartbeatsCache=yield Ye._heartbeatsCachePromise),Ye._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!Ye._heartbeatsCache.heartbeats.some(Bn=>Bn.date===Cn))return Ye._heartbeatsCache.heartbeats.push({date:Cn,agent:an}),Ye._heartbeatsCache.heartbeats=Ye._heartbeatsCache.heartbeats.filter(Bn=>{const ge=new Date(Bn.date).valueOf();return Date.now()-ge<=2592e6}),Ye._storage.overwrite(Ye._heartbeatsCache)})()}getHeartbeatsHeader(){var Ye=this;return(0,d.Z)(function*(){if(null===Ye._heartbeatsCache&&(yield Ye._heartbeatsCachePromise),null===Ye._heartbeatsCache||0===Ye._heartbeatsCache.heartbeats.length)return"";const Pt=Kt(),{heartbeatsToSend:an,unsentEntries:Cn}=function ai(jt,Ye=1024){const Pt=[];let an=jt.slice();for(const Cn of jt){const Bn=Pt.find(ge=>ge.agent===Cn.agent);if(Bn){if(Bn.dates.push(Cn.date),Ai(Pt)>Ye){Bn.dates.pop();break}}else if(Pt.push({agent:Cn.agent,dates:[Cn.date]}),Ai(Pt)>Ye){Pt.pop();break}an=an.slice(1)}return{heartbeatsToSend:Pt,unsentEntries:an}}(Ye._heartbeatsCache.heartbeats),Bn=(0,Pe.L)(JSON.stringify({version:2,heartbeats:an}));return Ye._heartbeatsCache.lastSentHeartbeatDate=Pt,Cn.length>0?(Ye._heartbeatsCache.heartbeats=Cn,yield Ye._storage.overwrite(Ye._heartbeatsCache)):(Ye._heartbeatsCache.heartbeats=[],Ye._storage.overwrite(Ye._heartbeatsCache)),Bn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class En{constructor(Ye){this.app=Ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,Pe.hl)()&&(0,Pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ye=this;return(0,d.Z)(function*(){return(yield Ye._canUseIndexedDBPromise)&&(yield function Ut(jt){return qt.apply(this,arguments)}(Ye.app))||{heartbeats:[]}})()}overwrite(Ye){var Pt=this;return(0,d.Z)(function*(){var an;if(yield Pt._canUseIndexedDBPromise){const Bn=yield Pt.read();return Tr(Pt.app,{lastSentHeartbeatDate:null!==(an=Ye.lastSentHeartbeatDate)&&void 0!==an?an:Bn.lastSentHeartbeatDate,heartbeats:Ye.heartbeats})}})()}add(Ye){var Pt=this;return(0,d.Z)(function*(){var an;if(yield Pt._canUseIndexedDBPromise){const Bn=yield Pt.read();return Tr(Pt.app,{lastSentHeartbeatDate:null!==(an=Ye.lastSentHeartbeatDate)&&void 0!==an?an:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...Ye.heartbeats]})}})()}}function Ai(jt){return(0,Pe.L)(JSON.stringify({version:2,heartbeats:jt})).length}!function Ui(jt){Ar(new Y.wA("platform-logger",Ye=>new ce(Ye),"PRIVATE")),Ar(new Y.wA("heartbeat",Ye=>new Jr(Ye),"PRIVATE")),oi(Re,"0.9.1",jt),oi(Re,"0.9.1","esm2017"),oi("fire-js","")}("")},4859:(pn,lt,Z)=>{Z.d(lt,{H0:()=>Re,wA:()=>fe});var d=Z(5861),Y=Z(2090);class fe{constructor(le,ye,tt){this.name=le,this.instanceFactory=ye,this.type=tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const Pe="[DEFAULT]";class Te{constructor(le,ye){this.name=le,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const ye=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(ye)){const tt=new Y.BH;if(this.instancesDeferred.set(ye,tt),this.isInitialized(ye)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:ye});_t&&tt.resolve(_t)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(le){var ye;const tt=this.normalizeInstanceIdentifier(le?.identifier),_t=null!==(ye=le?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(tt)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:tt})}catch(Je){if(_t)return null;throw Je}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Ce(Xe){return"EAGER"===Xe.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:Pe})}catch{}for(const[ye,tt]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(ye);try{const Je=this.getOrInitializeService({instanceIdentifier:_t});tt.resolve(Je)}catch{}}}}clearInstance(le=Pe){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,d.Z)(function*(){const ye=Array.from(le.instances.values());yield Promise.all([...ye.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),...ye.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=Pe){return this.instances.has(le)}getOptions(le=Pe){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:ye={}}=le,tt=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(tt))throw Error(`${this.name}(${tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:tt,options:ye});for(const[Je,pt]of this.instancesDeferred.entries())tt===this.normalizeInstanceIdentifier(Je)&&pt.resolve(_t);return _t}onInit(le,ye){var tt;const _t=this.normalizeInstanceIdentifier(ye),Je=null!==(tt=this.onInitCallbacks.get(_t))&&void 0!==tt?tt:new Set;Je.add(le),this.onInitCallbacks.set(_t,Je);const pt=this.instances.get(_t);return pt&&le(pt,_t),()=>{Je.delete(le)}}invokeOnInitCallbacks(le,ye){const tt=this.onInitCallbacks.get(ye);if(tt)for(const _t of tt)try{_t(le,ye)}catch{}}getOrInitializeService({instanceIdentifier:le,options:ye={}}){let tt=this.instances.get(le);if(!tt&&this.component&&(tt=this.component.instanceFactory(this.container,{instanceIdentifier:(Xe=le,Xe===Pe?void 0:Xe),options:ye}),this.instances.set(le,tt),this.instancesOptions.set(le,ye),this.invokeOnInitCallbacks(tt,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,tt)}catch{}var Xe;return tt||null}normalizeInstanceIdentifier(le=Pe){return this.component?this.component.multipleInstances?le:Pe:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const ye=this.getProvider(le.name);if(ye.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);ye.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const ye=new Te(le,this);return this.providers.set(le,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(pn,lt,Z)=>{Z.d(lt,{Yd:()=>Ce,in:()=>Y});const d=[];var Y=(()=>{return(le=Y||(Y={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",Y;var le})();const fe={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Pe=Y.INFO,Te={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ce=(le,ye,...tt)=>{if(ye<le.logLevel)return;const _t=(new Date).toISOString(),Je=Te[ye];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[Je](`[${_t}]  ${le.name}:`,...tt)};class Ce{constructor(ye){this.name=ye,this._logLevel=Pe,this._logHandler=ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in Y))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?fe[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...ye),this._logHandler(this,Y.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...ye),this._logHandler(this,Y.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...ye),this._logHandler(this,Y.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...ye),this._logHandler(this,Y.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...ye),this._logHandler(this,Y.ERROR,...ye)}}},3289:(pn,lt,Z)=>{Z.d(lt,{Kz:()=>Lc,FF:()=>Vc,NM:()=>ul,IJ:()=>nu,N9:()=>Ct,jF:()=>xn,Iv:()=>va,aE:()=>Xl});var d=Z(8256),Y=Z(6895),fe=Z(9751),Pe=Z(515),Te=Z(9646),ce=Z(7579),Ce=Z(8421),Re=Z(5577),Xe=Z(1144),le=Z(576),ye=Z(3268);const tt=["addListener","removeListener"],_t=["addEventListener","removeEventListener"],Je=["on","off"];function pt(h,m,u,w){if((0,le.m)(u)&&(w=u,u=void 0),w)return pt(h,m,u).pipe((0,ye.Z)(w));const[N,j]=function on(h){return(0,le.m)(h.addEventListener)&&(0,le.m)(h.removeEventListener)}(h)?_t.map(he=>Ie=>h[he](m,Ie,u)):function zt(h){return(0,le.m)(h.addListener)&&(0,le.m)(h.removeListener)}(h)?tt.map(Lt(h,m)):function Ht(h){return(0,le.m)(h.on)&&(0,le.m)(h.off)}(h)?Je.map(Lt(h,m)):[];if(!N&&(0,Xe.z)(h))return(0,Re.z)(he=>pt(he,m,u))((0,Ce.Xf)(h));if(!N)throw new TypeError("Invalid event target");return new fe.y(he=>{const Ie=(...Se)=>he.next(1<Se.length?Se:Se[0]);return N(Ie),()=>j(Ie)})}function Lt(h,m){return u=>w=>h[u](m,w)}var Ft=Z(4986),ut=Z(3532);const{isArray:Rt}=Array;function it(h){return 1===h.length&&Rt(h[0])?h[0]:h}var Be=Z(5403);Z(1135),Z(9841);var Fe=Z(5032);new fe.y(Fe.Z);var Gt=Z(3269);function cn(...h){const m=(0,Gt.jO)(h),u=it(h);return u.length?new fe.y(w=>{let N=u.map(()=>[]),j=u.map(()=>!1);w.add(()=>{N=j=null});for(let he=0;!w.closed&&he<u.length;he++)(0,Ce.Xf)(u[he]).subscribe((0,Be.x)(w,Ie=>{if(N[he].push(Ie),N.every(Se=>Se.length)){const Se=N.map(at=>at.shift());w.next(m?m(...Se):Se),N.some((at,dt)=>!at.length&&j[dt])&&w.complete()}},()=>{j[he]=!0,!N[he].length&&w.complete()}));return()=>{N=j=null}}):Pe.E}var or=Z(7272),ir=Z(4482);function Dn(h){return(0,ir.e)((m,u)=>{(0,Ce.Xf)(h).subscribe((0,Be.x)(u,()=>u.complete(),Fe.Z)),!u.closed&&m.subscribe(u)})}var Vn=Z(9300),Sr=Z(5698),Ar=Z(4004),kr=(Z(8675),Z(4671)),Yn=Z(3900),xr=Z(8505);function lr(...h){const m=(0,Gt.jO)(h);return(0,ir.e)((u,w)=>{const N=h.length,j=new Array(N);let he=h.map(()=>!1),Ie=!1;for(let Se=0;Se<N;Se++)(0,Ce.Xf)(h[Se]).subscribe((0,Be.x)(w,at=>{j[Se]=at,!Ie&&!he[Se]&&(he[Se]=!0,(Ie=he.every(kr.y))&&(he=null))},Fe.Z));u.subscribe((0,Be.x)(w,Se=>{if(Ie){const at=[Se,...j];w.next(m?m(...at):at)}}))})}Z(9718);var oi=Z(433);Math,Math,Math;const ur=["*"],Xr=["dialog"];function Ko(h,m){1&h&&(d.TgZ(0,"span",9),d.SDv(1,10),d.qZA())}function vo(h,m){1&h&&(d.TgZ(0,"span",9),d.SDv(1,11),d.qZA())}function Ls(h,m){1&h&&(d.TgZ(0,"span",9),d.SDv(1,12),d.qZA())}function ja(h,m){1&h&&(d.TgZ(0,"span",9),d.SDv(1,13),d.qZA())}function Na(h,m){1&h&&d._uU(0,"...")}function To(h,m){1&h&&(d.TgZ(0,"span",15),d._uU(1,"(current)"),d.qZA())}function aa(h,m){if(1&h&&(d._uU(0),d.YNc(1,To,2,0,"span",14)),2&h){const u=m.$implicit,w=m.currentPage;d.hij(" ",u," "),d.xp6(1),d.Q6J("ngIf",u===w)}}function la(h,m){}const Yo=function(h){return{disabled:!0,currentPage:h}};function R(h,m){if(1&h&&(d.TgZ(0,"a",20),d.YNc(1,la,0,0,"ng-template",8),d.qZA()),2&h){const u=d.oxw(2).$implicit,w=d.oxw(),N=d.MAs(9);d.xp6(1),d.Q6J("ngTemplateOutlet",(null==w.tplEllipsis?null:w.tplEllipsis.templateRef)||N)("ngTemplateOutletContext",d.VKq(2,Yo,u))}}function z(h,m){}const F=function(h,m,u){return{disabled:h,$implicit:m,currentPage:u}};function te(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"a",21),d.NdJ("click",function(N){d.CHM(u);const j=d.oxw().$implicit;return d.oxw(2).selectPage(j),d.KtG(N.preventDefault())}),d.YNc(1,z,0,0,"ng-template",8),d.qZA()}if(2&h){const u=d.oxw().$implicit,w=d.oxw(),N=w.disabled,j=w.$implicit,he=d.oxw(),Ie=d.MAs(11);d.uIk("tabindex",N?"-1":null)("aria-disabled",N?"true":null),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==he.tplNumber?null:he.tplNumber.templateRef)||Ie)("ngTemplateOutletContext",d.kEZ(4,F,N,u,j))}}function be(h,m){if(1&h&&(d.TgZ(0,"li",17),d.YNc(1,R,2,4,"a",18),d.YNc(2,te,2,8,"a",19),d.qZA()),2&h){const u=m.$implicit,w=d.oxw(),N=w.$implicit,j=w.disabled,he=d.oxw();d.ekj("active",u===N)("disabled",he.isEllipsis(u)||j),d.uIk("aria-current",u===N?"page":null),d.xp6(1),d.Q6J("ngIf",he.isEllipsis(u)),d.xp6(1),d.Q6J("ngIf",!he.isEllipsis(u))}}function nt(h,m){1&h&&d.YNc(0,be,3,7,"li",16),2&h&&d.Q6J("ngForOf",m.pages)}function Dt(h,m){}const Yt=function(h,m){return{disabled:h,currentPage:m}};function sr(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"li",17)(1,"a",22),d.NdJ("click",function(N){return d.CHM(u),d.oxw().selectPage(1),d.KtG(N.preventDefault())}),d.YNc(2,Dt,0,0,"ng-template",8),d.qZA()()}if(2&h){const u=d.oxw(),w=d.MAs(1);d.ekj("disabled",u.previousDisabled()),d.xp6(1),d.uIk("tabindex",u.previousDisabled()?"-1":null)("aria-disabled",u.previousDisabled()?"true":null),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==u.tplFirst?null:u.tplFirst.templateRef)||w)("ngTemplateOutletContext",d.WLB(6,Yt,u.previousDisabled(),u.page))}}function wr(h,m){}const Nr=function(h){return{disabled:h}};function Dr(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"li",17)(1,"a",23),d.NdJ("click",function(N){d.CHM(u);const j=d.oxw();return j.selectPage(j.page-1),d.KtG(N.preventDefault())}),d.YNc(2,wr,0,0,"ng-template",8),d.qZA()()}if(2&h){const u=d.oxw(),w=d.MAs(3);d.ekj("disabled",u.previousDisabled()),d.xp6(1),d.uIk("tabindex",u.previousDisabled()?"-1":null)("aria-disabled",u.previousDisabled()?"true":null),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==u.tplPrevious?null:u.tplPrevious.templateRef)||w)("ngTemplateOutletContext",d.VKq(6,Nr,u.previousDisabled()))}}function jr(h,m){}function Mr(h,m){}function qn(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"li",17)(1,"a",24),d.NdJ("click",function(N){d.CHM(u);const j=d.oxw();return j.selectPage(j.page+1),d.KtG(N.preventDefault())}),d.YNc(2,Mr,0,0,"ng-template",8),d.qZA()()}if(2&h){const u=d.oxw(),w=d.MAs(5);d.ekj("disabled",u.nextDisabled()),d.xp6(1),d.uIk("tabindex",u.nextDisabled()?"-1":null)("aria-disabled",u.nextDisabled()?"true":null),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==u.tplNext?null:u.tplNext.templateRef)||w)("ngTemplateOutletContext",d.WLB(6,Yt,u.nextDisabled(),u.page))}}function fa(h,m){}function gi(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"li",17)(1,"a",25),d.NdJ("click",function(N){d.CHM(u);const j=d.oxw();return j.selectPage(j.pageCount),d.KtG(N.preventDefault())}),d.YNc(2,fa,0,0,"ng-template",8),d.qZA()()}if(2&h){const u=d.oxw(),w=d.MAs(7);d.ekj("disabled",u.nextDisabled()),d.xp6(1),d.uIk("tabindex",u.nextDisabled()?"-1":null)("aria-disabled",u.nextDisabled()?"true":null),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==u.tplLast?null:u.tplLast.templateRef)||w)("ngTemplateOutletContext",d.WLB(6,Yt,u.nextDisabled(),u.page))}}const Ji=function(h,m,u){return{$implicit:h,pages:m,disabled:u}};function Jt(h,m){if(1&h&&(d.TgZ(0,"strong",3),d._uU(1),d.qZA()),2&h){const u=d.oxw();d.xp6(1),d.Oqu(u.header)}}function ln(h,m){}function pr(h,m){if(1&h){const u=d.EpF();d.TgZ(0,"div",4),d.YNc(1,ln,0,0,"ng-template",5),d.TgZ(2,"button",6),d.NdJ("click",function(){d.CHM(u);const N=d.oxw();return d.KtG(N.hide())}),d.qZA()()}if(2&h){const u=d.oxw(),w=d.MAs(1);d.xp6(1),d.Q6J("ngTemplateOutlet",u.contentHeaderTpl||w)}}function Ki(h){return"string"==typeof h}function br(h){return!isNaN(function At(h){return parseInt(`${h}`,10)}(h))}function Xi(h){return null!=h}function Xt(h){return(h||document.body).getBoundingClientRect()}const _i={animation:!0,transitionTimerDelayMs:5},so=()=>{},{transitionTimerDelayMs:cs}=_i,ki=new Map,tr=(h,m,u,w)=>{let N=w.context||{};const j=ki.get(m);if(j)switch(w.runningTransition){case"continue":return Pe.E;case"stop":h.run(()=>j.transition$.complete()),N=Object.assign(j.context,N),ki.delete(m)}const he=u(m,w.animation,N)||so;if(!w.animation||"none"===window.getComputedStyle(m).transitionProperty)return h.run(()=>he()),(0,Te.of)(void 0).pipe(function rn(h){return m=>new fe.y(u=>m.subscribe({next:he=>h.run(()=>u.next(he)),error:he=>h.run(()=>u.error(he)),complete:()=>h.run(()=>u.complete())}))}(h));const Ie=new ce.x,Se=new ce.x,at=Ie.pipe(function hn(...h){return m=>(0,or.z)(m,(0,Te.of)(...h))}(!0));ki.set(m,{transition$:Ie,complete:()=>{Se.next(),Se.complete()},context:N});const dt=function $n(h){const{transitionDelay:m,transitionDuration:u}=window.getComputedStyle(h);return 1e3*(parseFloat(m)+parseFloat(u))}(m);return h.runOutsideAngular(()=>{const _n=pt(m,"transitionend").pipe(Dn(at),(0,Vn.h)(({target:Tn})=>Tn===m));(function ht(...h){return 1===(h=it(h)).length?(0,Ce.Xf)(h[0]):new fe.y(function Ae(h){return m=>{let u=[];for(let w=0;u&&!m.closed&&w<h.length;w++)u.push((0,Ce.Xf)(h[w]).subscribe((0,Be.x)(m,N=>{if(u){for(let j=0;j<u.length;j++)j!==w&&u[j].unsubscribe();u=null}m.next(N)})))}}(h))})(function ke(h=0,m,u=Ft.P){let w=-1;return null!=m&&((0,ut.K)(m)?u=m:w=m),new fe.y(N=>{let j=function gt(h){return h instanceof Date&&!isNaN(h)}(h)?+h-u.now():h;j<0&&(j=0);let he=0;return u.schedule(function(){N.closed||(N.next(he++),0<=w?this.schedule(void 0,w):N.complete())},j)})}(dt+cs).pipe(Dn(at)),_n,Se).pipe(Dn(at)).subscribe(()=>{ki.delete(m),h.run(()=>{he(),Ie.next(),Ie.complete()})})}),Ie.asObservable()};let oo=(()=>{class h{constructor(){this.animation=_i.animation}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Bo=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),ml=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),Al=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),C=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();var ue=(()=>{return(h=ue||(ue={}))[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",ue;var h})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ns=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Yi(h){const m=Array.from(h.querySelectorAll(ns)).filter(u=>-1!==u.tabIndex);return[m[0],m[m.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Zl=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez,oi.u5]}),h})(),rd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();class xl{constructor(m,u,w){this.nodes=m,this.viewRef=u,this.componentRef=w}}let id=(()=>{class h{constructor(u,w){this._el=u,this._zone=w}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{tr(this._zone,this._el.nativeElement,(u,w)=>{w&&Xt(u),u.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return tr(this._zone,this._el.nativeElement,({classList:u})=>u.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.SBq),d.Y36(d.R0b))},h.\u0275cmp=d.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(u,w){2&u&&(d.Tol("modal-backdrop"+(w.backdropClass?" "+w.backdropClass:"")),d.ekj("show",!w.animation)("fade",w.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(u,w){},encapsulation:2}),h})();class Lc{close(m){}dismiss(m){}}class sd{constructor(m,u,w,N){this._windowCmptRef=m,this._contentRef=u,this._backdropCmptRef=w,this._beforeDismiss=N,this._closed=new ce.x,this._dismissed=new ce.x,this._hidden=new ce.x,m.instance.dismissEvent.subscribe(j=>{this.dismiss(j)}),this.result=new Promise((j,he)=>{this._resolve=j,this._reject=he}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Dn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Dn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(m){this._windowCmptRef&&(this._closed.next(m),this._resolve(m),this._removeModalElements())}_dismiss(m){this._dismissed.next(m),this._reject(m),this._removeModalElements()}dismiss(m){if(this._windowCmptRef)if(this._beforeDismiss){const u=this._beforeDismiss();!function Io(h){return h&&h.then}(u)?!1!==u&&this._dismiss(m):u.then(w=>{!1!==w&&this._dismiss(m)},()=>{})}else this._dismiss(m)}_removeModalElements(){const m=this._windowCmptRef.instance.hide(),u=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Te.of)(void 0);m.subscribe(()=>{const{nativeElement:w}=this._windowCmptRef.location;w.parentNode.removeChild(w),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),u.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:w}=this._backdropCmptRef.location;w.parentNode.removeChild(w),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cn(m,u).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ll=(()=>{return(h=ll||(ll={}))[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",ll;var h})();let Qd=(()=>{class h{constructor(u,w,N){this._document=u,this._elRef=w,this._zone=N,this._closed$=new ce.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new ce.x,this.hidden=new ce.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ki(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(u){this.dismissEvent.emit(u)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:u}=this._elRef,w={animation:this.animation,runningTransition:"stop"},he=cn(tr(this._zone,u,()=>u.classList.remove("show"),w),tr(this._zone,this._dialogEl.nativeElement,()=>{},w));return he.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),he}_show(){const u={animation:this.animation,runningTransition:"continue"};cn(tr(this._zone,this._elRef.nativeElement,(j,he)=>{he&&Xt(j),j.classList.add("show")},u),tr(this._zone,this._dialogEl.nativeElement,()=>{},u)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:u}=this._elRef;this._zone.runOutsideAngular(()=>{pt(u,"keydown").pipe(Dn(this._closed$),(0,Vn.h)(N=>N.which===ue.Escape)).subscribe(N=>{this.keyboard?requestAnimationFrame(()=>{N.defaultPrevented||this._zone.run(()=>this.dismiss(ll.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let w=!1;pt(this._dialogEl.nativeElement,"mousedown").pipe(Dn(this._closed$),(0,xr.b)(()=>w=!1),(0,Yn.w)(()=>pt(u,"mouseup").pipe(Dn(this._closed$),(0,Sr.q)(1))),(0,Vn.h)(({target:N})=>u===N)).subscribe(()=>{w=!0}),pt(u,"click").pipe(Dn(this._closed$)).subscribe(({target:N})=>{u===N&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!w&&this._zone.run(()=>this.dismiss(ll.BACKDROP_CLICK))),w=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:u}=this._elRef;if(!u.contains(document.activeElement)){const w=u.querySelector("[ngbAutofocus]"),N=Yi(u)[0];(w||N||u).focus()}}_restoreFocus(){const u=this._document.body,w=this._elWithFocus;let N;N=w&&w.focus&&u.contains(w)?w:u,this._zone.runOutsideAngular(()=>{setTimeout(()=>N.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&tr(this._zone,this._elRef.nativeElement,({classList:u})=>(u.add("modal-static"),()=>u.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(Y.K0),d.Y36(d.SBq),d.Y36(d.R0b))},h.\u0275cmp=d.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(u,w){if(1&u&&d.Gf(Xr,7),2&u){let N;d.iGM(N=d.CRH())&&(w._dialogEl=N.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(u,w){2&u&&(d.uIk("aria-modal",!0)("aria-labelledby",w.ariaLabelledBy)("aria-describedby",w.ariaDescribedBy),d.Tol("modal d-block"+(w.windowClass?" "+w.windowClass:"")),d.ekj("fade",w.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ur,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(u,w){1&u&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&u&&d.Tol("modal-dialog"+(w.size?" modal-"+w.size:"")+(w.centered?" modal-dialog-centered":"")+w.fullscreenClass+(w.scrollable?" modal-dialog-scrollable":"")+(w.modalDialogClass?" "+w.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),h})(),Jd=(()=>{class h{constructor(u){this._document=u}hide(){const u=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),w=this._document.body,N=w.style,{overflow:j,paddingRight:he}=N;if(u>0){const Ie=parseFloat(window.getComputedStyle(w).paddingRight);N.paddingRight=`${Ie+u}px`}return N.overflow="hidden",()=>{u>0&&(N.paddingRight=he),N.overflow=j}}}return h.\u0275fac=function(u){return new(u||h)(d.LFG(Y.K0))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ys=(()=>{class h{constructor(u,w,N,j,he,Ie){this._applicationRef=u,this._injector=w,this._document=N,this._scrollBar=j,this._rendererFactory=he,this._ngZone=Ie,this._activeWindowCmptHasChanged=new ce.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Se=this._windowCmpts[this._windowCmpts.length-1];((h,m,u,w=!1)=>{this._ngZone.runOutsideAngular(()=>{const N=pt(m,"focusin").pipe(Dn(u),(0,Ar.U)(j=>j.target));pt(m,"keydown").pipe(Dn(u),(0,Vn.h)(j=>j.which===ue.Tab),lr(N)).subscribe(([j,he])=>{const[Ie,Se]=Yi(m);(he===Ie||he===m)&&j.shiftKey&&(Se.focus(),j.preventDefault()),he===Se&&!j.shiftKey&&(Ie.focus(),j.preventDefault())}),w&&pt(m,"click").pipe(Dn(u),lr(N),(0,Ar.U)(j=>j[1])).subscribe(j=>j.focus())})})(0,Se.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Se.location.nativeElement)}})}_restoreScrollBar(){const u=this._scrollBarRestoreFn;u&&(this._scrollBarRestoreFn=null,u())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(u,w,N){const j=N.container instanceof HTMLElement?N.container:Xi(N.container)?this._document.querySelector(N.container):this._document.body,he=this._rendererFactory.createRenderer(null,null);if(!j)throw new Error(`The specified modal container "${N.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ie=new Lc,Se=this._getContentRef(N.injector||u,w,Ie,N);let at=!1!==N.backdrop?this._attachBackdrop(j):void 0,dt=this._attachWindowComponent(j,Se.nodes),_n=new sd(dt,Se,at,N.beforeDismiss);return this._registerModalRef(_n),this._registerWindowCmpt(dt),_n.hidden.pipe((0,Sr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(he.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Ie.close=un=>{_n.close(un)},Ie.dismiss=un=>{_n.dismiss(un)},this._applyWindowOptions(dt.instance,N),1===this._modalRefs.length&&he.addClass(this._document.body,"modal-open"),at&&at.instance&&(this._applyBackdropOptions(at.instance,N),at.changeDetectorRef.detectChanges()),dt.changeDetectorRef.detectChanges(),_n}get activeInstances(){return this._activeInstances}dismissAll(u){this._modalRefs.forEach(w=>w.dismiss(u))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(u){let w=(0,d.LMc)(id,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(w.hostView),u.appendChild(w.location.nativeElement),w}_attachWindowComponent(u,w){let N=(0,d.LMc)(Qd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:w});return this._applicationRef.attachView(N.hostView),u.appendChild(N.location.nativeElement),N}_applyWindowOptions(u,w){this._windowAttributes.forEach(N=>{Xi(w[N])&&(u[N]=w[N])})}_applyBackdropOptions(u,w){this._backdropAttributes.forEach(N=>{Xi(w[N])&&(u[N]=w[N])})}_getContentRef(u,w,N,j){return w?w instanceof d.Rgc?this._createFromTemplateRef(w,N):Ki(w)?this._createFromString(w):this._createFromComponent(u,w,N,j):new xl([])}_createFromTemplateRef(u,w){const j=u.createEmbeddedView({$implicit:w,close(he){w.close(he)},dismiss(he){w.dismiss(he)}});return this._applicationRef.attachView(j),new xl([j.rootNodes],j)}_createFromString(u){const w=this._document.createTextNode(`${u}`);return new xl([[w]])}_createFromComponent(u,w,N,j){const he=d.zs3.create({providers:[{provide:Lc,useValue:N}],parent:u}),Ie=(0,d.LMc)(w,{environmentInjector:this._applicationRef.injector,elementInjector:he}),Se=Ie.location.nativeElement;return j.scrollable&&Se.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ie.hostView),new xl([[Se]],Ie.hostView,Ie)}_setAriaHidden(u){const w=u.parentElement;w&&u!==this._document.body&&(Array.from(w.children).forEach(N=>{N!==u&&"SCRIPT"!==N.nodeName&&(this._ariaHiddenValues.set(N,N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))}),this._setAriaHidden(w))}_revertAriaHidden(){this._ariaHiddenValues.forEach((u,w)=>{u?w.setAttribute("aria-hidden",u):w.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(u){const w=()=>{const N=this._modalRefs.indexOf(u);N>-1&&(this._modalRefs.splice(N,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(u),this._activeInstances.emit(this._modalRefs),u.result.then(w,w)}_registerWindowCmpt(u){this._windowCmpts.push(u),this._activeWindowCmptHasChanged.next(),u.onDestroy(()=>{const w=this._windowCmpts.indexOf(u);w>-1&&(this._windowCmpts.splice(w,1),this._activeWindowCmptHasChanged.next())})}}return h.\u0275fac=function(u){return new(u||h)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(Y.K0),d.LFG(Jd),d.LFG(d.FYo),d.LFG(d.R0b))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),ul=(()=>{class h{constructor(u){this._ngbConfig=u,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(d.LFG(oo))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Vc=(()=>{class h{constructor(u,w,N){this._injector=u,this._modalStack=w,this._config=N}open(u,w={}){const N={...this._config,animation:this._config.animation,...w};return this._modalStack.open(this._injector,u,N)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(u){this._modalStack.dismissAll(u)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return h.\u0275fac=function(u){return new(u||h)(d.LFG(d.zs3),d.LFG(Ys),d.LFG(ul))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Rl=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({providers:[Vc]}),h})(),dc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),hc=(()=>{class h{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),I=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),h})(),g=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationFirst",""]]}),h})(),b=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationLast",""]]}),h})(),M=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationNext",""]]}),h})(),J=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationNumber",""]]}),h})(),se=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationPrevious",""]]}),h})(),We=(()=>{class h{constructor(u){this.templateRef=u}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(d.Rgc))},h.\u0275dir=d.lG2({type:h,selectors:[["ng-template","ngbPaginationPages",""]]}),h})(),Ct=(()=>{class h{constructor(u){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new d.vpe(!0),this.disabled=u.disabled,this.boundaryLinks=u.boundaryLinks,this.directionLinks=u.directionLinks,this.ellipses=u.ellipses,this.maxSize=u.maxSize,this.pageSize=u.pageSize,this.rotate=u.rotate,this.size=u.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(u){this._updatePages(u)}ngOnChanges(u){this._updatePages(this.page)}isEllipsis(u){return-1===u}_applyEllipses(u,w){this.ellipses&&(u>0&&(u>2?this.pages.unshift(-1):2===u&&this.pages.unshift(2),this.pages.unshift(1)),w<this.pageCount&&(w<this.pageCount-2?this.pages.push(-1):w===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let u=0,w=this.pageCount,N=Math.floor(this.maxSize/2);return this.page<=N?w=this.maxSize:this.pageCount-this.page<N?u=this.pageCount-this.maxSize:(u=this.page-N-1,w=this.page+(this.maxSize%2==0?N-1:N)),[u,w]}_applyPagination(){let w=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[w,w+this.maxSize]}_setPageInRange(u){const w=this.page;this.page=function Hn(h,m,u=0){return Math.max(Math.min(h,m),u)}(u,this.pageCount,1),this.page!==w&&br(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(u){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),br(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let w=1;w<=this.pageCount;w++)this.pages.push(w);if(this._setPageInRange(u),this.maxSize>0&&this.pageCount>this.maxSize){let w=0,N=this.pageCount;[w,N]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(w,N),this._applyEllipses(w,N)}}}return h.\u0275fac=function(u){return new(u||h)(d.Y36(hc))},h.\u0275cmp=d.Xpm({type:h,selectors:[["ngb-pagination"]],contentQueries:function(u,w,N){if(1&u&&(d.Suo(N,I,5),d.Suo(N,g,5),d.Suo(N,b,5),d.Suo(N,M,5),d.Suo(N,J,5),d.Suo(N,se,5),d.Suo(N,We,5)),2&u){let j;d.iGM(j=d.CRH())&&(w.tplEllipsis=j.first),d.iGM(j=d.CRH())&&(w.tplFirst=j.first),d.iGM(j=d.CRH())&&(w.tplLast=j.first),d.iGM(j=d.CRH())&&(w.tplNext=j.first),d.iGM(j=d.CRH())&&(w.tplNumber=j.first),d.iGM(j=d.CRH())&&(w.tplPrevious=j.first),d.iGM(j=d.CRH())&&(w.tplPages=j.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[d.TTD],decls:20,vars:12,consts:function(){let m,u,w,N,j,he,Ie,Se;return m=$localize`:@@ngb.pagination.first:`,u=$localize`:@@ngb.pagination.previous:`,w=$localize`:@@ngb.pagination.next:`,N=$localize`:@@ngb.pagination.last:`,j=$localize`:@@ngb.pagination.first-aria:First`,he=$localize`:@@ngb.pagination.previous-aria:Previous`,Ie=$localize`:@@ngb.pagination.next-aria:Next`,Se=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],m,u,w,N,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",j,"href","",1,"page-link",3,"click"],["aria-label",he,"href","",1,"page-link",3,"click"],["aria-label",Ie,"href","",1,"page-link",3,"click"],["aria-label",Se,"href","",1,"page-link",3,"click"]]},template:function(u,w){if(1&u&&(d.YNc(0,Ko,2,0,"ng-template",null,0,d.W1O),d.YNc(2,vo,2,0,"ng-template",null,1,d.W1O),d.YNc(4,Ls,2,0,"ng-template",null,2,d.W1O),d.YNc(6,ja,2,0,"ng-template",null,3,d.W1O),d.YNc(8,Na,1,0,"ng-template",null,4,d.W1O),d.YNc(10,aa,2,2,"ng-template",null,5,d.W1O),d.YNc(12,nt,1,1,"ng-template",null,6,d.W1O),d.TgZ(14,"ul"),d.YNc(15,sr,3,9,"li",7),d.YNc(16,Dr,3,8,"li",7),d.YNc(17,jr,0,0,"ng-template",8),d.YNc(18,qn,3,9,"li",7),d.YNc(19,gi,3,9,"li",7),d.qZA()),2&u){const N=d.MAs(13);d.xp6(14),d.Tol("pagination"+(w.size?" pagination-"+w.size:"")),d.xp6(1),d.Q6J("ngIf",w.boundaryLinks),d.xp6(1),d.Q6J("ngIf",w.directionLinks),d.xp6(1),d.Q6J("ngTemplateOutlet",(null==w.tplPages?null:w.tplPages.templateRef)||N)("ngTemplateOutletContext",d.kEZ(8,Ji,w.page,w.pages,w.disabled)),d.xp6(1),d.Q6J("ngIf",w.directionLinks),d.xp6(1),d.Q6J("ngIf",w.boundaryLinks)}},dependencies:[Y.sg,Y.O5,Y.tP],encapsulation:2,changeDetection:0}),h})(),xn=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),gc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),cd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),ff=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),fd=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})();const Jo=(h,m)=>{const{classList:u}=h;if(m)return u.remove("hide"),Xt(h),u.add("showing"),()=>{u.remove("showing"),u.add("show")};u.add("show")},eh=({classList:h})=>(h.remove("show"),()=>{h.add("hide")});let th=(()=>{class h{constructor(u){this._ngbConfig=u,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(u){this._animation=u}}return h.\u0275fac=function(u){return new(u||h)(d.LFG(oo))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),jc=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275dir=d.lG2({type:h,selectors:[["","ngbToastHeader",""]]}),h})(),va=(()=>{class h{constructor(u,w,N,j){this.ariaLive=u,this._zone=N,this._element=j,this.contentHeaderTpl=null,this.shown=new d.vpe,this.hidden=new d.vpe,null==this.ariaLive&&(this.ariaLive=w.ariaLive),this.delay=w.delay,this.autohide=w.autohide,this.animation=w.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(u){"autohide"in u&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const u=tr(this._zone,this._element.nativeElement,eh,{animation:this.animation,runningTransition:"stop"});return u.subscribe(()=>{this.hidden.emit()}),u}show(){const u=tr(this._zone,this._element.nativeElement,Jo,{animation:this.animation,runningTransition:"continue"});return u.subscribe(()=>{this.shown.emit()}),u}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return h.\u0275fac=function(u){return new(u||h)(d.$8M("aria-live"),d.Y36(th),d.Y36(d.R0b),d.Y36(d.SBq))},h.\u0275cmp=d.Xpm({type:h,selectors:[["ngb-toast"]],contentQueries:function(u,w,N){if(1&u&&d.Suo(N,jc,7,d.Rgc),2&u){let j;d.iGM(j=d.CRH())&&(w.contentHeaderTpl=j.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(u,w){2&u&&(d.uIk("aria-live",w.ariaLive),d.ekj("fade",w.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[d.TTD],ngContentSelectors:ur,decls:5,vars:1,consts:function(){let m;return m=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",m,1,"btn-close",3,"click"]]},template:function(u,w){1&u&&(d.F$t(),d.YNc(0,Jt,2,1,"ng-template",null,0,d.W1O),d.YNc(2,pr,3,1,"ng-template",1),d.TgZ(3,"div",2),d.Hsn(4),d.qZA()),2&u&&(d.xp6(2),d.Q6J("ngIf",w.contentHeaderTpl||w.header))},dependencies:[Y.O5,Y.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),h})(),Xl=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),Nu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();new d.OlP("live announcer delay",{providedIn:"root",factory:function gf(){return 100}});let rh=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[Y.ez]}),h})(),eu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({}),h})();const tu=[Bo,ml,Al,C,Zl,rd,Rl,dc,eu,xn,gc,cd,ff,fd,Xl,Nu,rh];let nu=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275mod=d.oAB({type:h}),h.\u0275inj=d.cJS({imports:[tu,Bo,ml,Al,C,Zl,rd,Rl,dc,eu,xn,gc,cd,ff,fd,Xl,Nu,rh]}),h})()},259:(pn,lt,Z)=>{Z.d(lt,{C6:()=>d.C6,KN:()=>d.KN,Mq:()=>d.Mq,ZF:()=>d.ZF});var d=Z(9681);(0,d.KN)("firebase","9.16.0","app")},8766:(pn,lt,Z)=>{Z.d(lt,{Lj:()=>ut,X3:()=>Ft});var d=Z(5861);let fe,Pe;const Ce=new WeakMap,Re=new WeakMap,Xe=new WeakMap,le=new WeakMap,ye=new WeakMap;let Je={get(Be,ht,Ae){if(Be instanceof IDBTransaction){if("done"===ht)return Re.get(Be);if("objectStoreNames"===ht)return Be.objectStoreNames||Xe.get(Be);if("store"===ht)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return Ht(Be[ht])},set:(Be,ht,Ae)=>(Be[ht]=Ae,!0),has:(Be,ht)=>Be instanceof IDBTransaction&&("done"===ht||"store"===ht)||ht in Be};function zt(Be){return"function"==typeof Be?function Lt(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...ht){return Be.apply(on(this),ht),Ht(Ce.get(this))}:function(...ht){return Ht(Be.apply(on(this),ht))}:function(ht,...Ae){const Le=Be.call(on(this),ht,...Ae);return Xe.set(Le,ht.sort?ht.sort():[ht]),Ht(Le)}}(Be):(Be instanceof IDBTransaction&&function _t(Be){if(Re.has(Be))return;const ht=new Promise((Ae,Le)=>{const ve=()=>{Be.removeEventListener("complete",Fe),Be.removeEventListener("error",bt),Be.removeEventListener("abort",bt)},Fe=()=>{Ae(),ve()},bt=()=>{Le(Be.error||new DOMException("AbortError","AbortError")),ve()};Be.addEventListener("complete",Fe),Be.addEventListener("error",bt),Be.addEventListener("abort",bt)});Re.set(Be,ht)}(Be),((Be,ht)=>ht.some(Ae=>Be instanceof Ae))(Be,function Te(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,Je):Be)}function Ht(Be){if(Be instanceof IDBRequest)return function tt(Be){const ht=new Promise((Ae,Le)=>{const ve=()=>{Be.removeEventListener("success",Fe),Be.removeEventListener("error",bt)},Fe=()=>{Ae(Ht(Be.result)),ve()},bt=()=>{Le(Be.error),ve()};Be.addEventListener("success",Fe),Be.addEventListener("error",bt)});return ht.then(Ae=>{Ae instanceof IDBCursor&&Ce.set(Ae,Be)}).catch(()=>{}),ye.set(ht,Be),ht}(Be);if(le.has(Be))return le.get(Be);const ht=zt(Be);return ht!==Be&&(le.set(Be,ht),ye.set(ht,Be)),ht}const on=Be=>ye.get(Be);function Ft(Be,ht,{blocked:Ae,upgrade:Le,blocking:ve,terminated:Fe}={}){const bt=indexedDB.open(Be,ht),yt=Ht(bt);return Le&&bt.addEventListener("upgradeneeded",Gt=>{Le(Ht(bt.result),Gt.oldVersion,Gt.newVersion,Ht(bt.transaction))}),Ae&&bt.addEventListener("blocked",()=>Ae()),yt.then(Gt=>{Fe&&Gt.addEventListener("close",()=>Fe()),ve&&Gt.addEventListener("versionchange",()=>ve())}).catch(()=>{}),yt}function ut(Be,{blocked:ht}={}){const Ae=indexedDB.deleteDatabase(Be);return ht&&Ae.addEventListener("blocked",()=>ht()),Ht(Ae).then(()=>{})}const gt=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Rt=new Map;function it(Be,ht){if(!(Be instanceof IDBDatabase)||ht in Be||"string"!=typeof ht)return;if(Rt.get(ht))return Rt.get(ht);const Ae=ht.replace(/FromIndex$/,""),Le=ht!==Ae,ve=ke.includes(Ae);if(!(Ae in(Le?IDBIndex:IDBObjectStore).prototype)||!ve&&!gt.includes(Ae))return;const Fe=function(){var bt=(0,d.Z)(function*(yt,...Gt){const cn=this.transaction(yt,ve?"readwrite":"readonly");let or=cn.store;return Le&&(or=or.index(Gt.shift())),(yield Promise.all([or[Ae](...Gt),ve&&cn.done]))[0]});return function(Gt){return bt.apply(this,arguments)}}();return Rt.set(ht,Fe),Fe}!function pt(Be){Je=Be(Je)}(Be=>({...Be,get:(ht,Ae,Le)=>it(ht,Ae)||Be.get(ht,Ae,Le),has:(ht,Ae)=>!!it(ht,Ae)||Be.has(ht,Ae)}))},5861:(pn,lt,Z)=>{function d(fe,Pe,Te,ce,Ce,Re,Xe){try{var le=fe[Re](Xe),ye=le.value}catch(tt){return void Te(tt)}le.done?Pe(ye):Promise.resolve(ye).then(ce,Ce)}function Y(fe){return function(){var Pe=this,Te=arguments;return new Promise(function(ce,Ce){var Re=fe.apply(Pe,Te);function Xe(ye){d(Re,ce,Ce,Xe,le,"next",ye)}function le(ye){d(Re,ce,Ce,Xe,le,"throw",ye)}Xe(void 0)})}}Z.d(lt,{Z:()=>Y})}},pn=>{pn(pn.s=3491)}]);