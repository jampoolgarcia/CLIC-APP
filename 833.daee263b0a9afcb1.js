"use strict";(self.webpackChunkclic_app=self.webpackChunkclic_app||[]).push([[833],{5833:(le,q,d)=>{d.r(q),d.d(q,{RedesModule:()=>ie});var l=d(6895),s=d(433),g=d(2655),u=d(5861),e=d(8256),v=d(8613),b=d(1135),Z=d(6671),m=d(8423);let C=(()=>{class o{constructor(t,n){this._user=t,this._spinner=n,this.TABLE="cite",this.list=[],this.$list=new b.X(this.list),this.supabase=Z.u.getInstance(),this.getAll()}add(t){var n=this;return(0,u.Z)(function*(){return yield n.supabase.from(n.TABLE).insert({...t}).single()})()}getAll(){var t=this;return(0,u.Z)(function*(){t._spinner.show();try{const{error:n,data:i,status:a}=yield t.supabase.from("cites").select("*");if(n&&406!==a)throw n;i&&t.$list.next(i)}catch(n){n instanceof Error&&alert(n.message)}finally{t._spinner.hide()}})()}getAllForRedes(t){return(0,u.Z)(function*(){return new Promise((n,i)=>{n("test")})})()}signOut(){return this.supabase.auth.signOut()}get List(){return this.$list.asObservable()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.K),e.LFG(m.t2))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class S{static getdate(r){return`${r.getFullYear()}-${("0"+(r.getMonth()+1)).slice(-2)}-${("0"+r.getDate()).slice(-2)}`}}var A=d(4849),y=d(6504);let T=(()=>{class o{constructor(t){this._spinner=t,this.list=[],this.$clientList=new b.X(this.list),this.TABLE="client",this.supabase=Z.u.getInstance(),this.handleRealtimeUpdates(),this.getAll()}getAll(){var t=this;return(0,u.Z)(function*(){try{let{data:n,error:i,status:a}=yield t.supabase.from(t.TABLE).select("*");if(i&&406!==a)throw i;n&&t.$clientList.next(n)}catch(n){n instanceof Error&&alert(n.message)}})()}add(t){var n=this;return(0,u.Z)(function*(){return yield n.supabase.from(n.TABLE).insert({...t}).single()})()}update(t){return null}delete(t){return null}handleRealtimeUpdates(){this.supabase.channel(this.TABLE).on("postgres_changes",{event:"*",schema:"public"},t=>{this.realtimeList(t)}).subscribe()}realtimeList(t){switch(t.eventType){case y.dY.INSERT:console.log("insert logic"),this.$clientList.getValue().push(t.new);break;case y.dY.UPDATE:console.log("update logic");break;case y.dY.DELETE:console.log("DELETE logic")}console.log("payload: ",t)}get List(){return this.$clientList.asObservable()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.t2))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),w=(()=>{class o{constructor(t){this._spinner=t,this.list=[],this.$list=new b.X(this.list),this.TABLE="cite-service",this.supabase=Z.u.getInstance(),this.getAll()}getAll(){var t=this;return(0,u.Z)(function*(){t._spinner.show();try{let{data:n,error:i,status:a}=yield t.supabase.from(t.TABLE).select("*");if(i&&406!==a)throw i;n&&t.$list.next(n)}catch(n){n instanceof Error&&alert(n.message)}finally{t._spinner.hide()}})()}get List(){return this.$list.asObservable()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.t2))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=d(3218),f=d(9154);function N(o,r){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.firstName," ",t.lastName,"")}}function O(o,r){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}const _=function(o,r){return{"is-invalid":o,"is-valid":r}};let k=(()=>{class o extends A.l{constructor(t,n,i,a,c,re,se,ae){super(),this.fb=t,this._cites=n,this._user=i,this._client=a,this._citeServices=c,this._spinner=re,this._modal=se,this._toast=ae}ngOnInit(){this.client$=this._client.List,this.services$=this._citeServices.List,this.buildingForm()}open(t){this._modal.open(t)}buildingForm(){const t=S.getdate(new Date);this.form=this.fb.group({client_id:["",s.kI.required],date:[t,s.kI.required],hour:"00:00:00",service_id:["",s.kI.required],observation:""})}onSubmit(){var t=this;return(0,u.Z)(function*(){t.save()})()}save(){var t=this;return(0,u.Z)(function*(){t._spinner.show();const n=t.getFormValues();console.log(n);try{const{error:i}=yield t._cites.add(n);if(i)return t._toast.show(`Obss, Ha acorrido un error al momento de guardar. Error: ${i.message}`,"danger"),console.log(`Error in ${i.message}`);t._toast.show("Se ha guardado exitosamente.","success")}catch{t._spinner.hide(),t._toast.show("Obss, Ha acorrido un error al momento de guardar.","danger")}finally{t._spinner.hide(),t.form.reset();const i=S.getdate(new Date);t.getControl("date")?.setValue(i),t.getControl("hour")?.setValue("00:00:00")}})()}getFormValues(){const t=this.form.value,{user_id:n,room_id:i}=this._user.getReferenData();return{...t,user_id:n,room_id:i}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(C),e.Y36(v.K),e.Y36(T),e.Y36(w),e.Y36(m.t2),e.Y36(p.FF),e.Y36(f.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-cites"]],features:[e.qOj],decls:45,vars:28,consts:[[1,"row","mx-auto","d-flex","justify-content-center","w-100"],[1,"col-sm-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","card-title"],[1,"card-body"],[1,"row","g-3",3,"formGroup"],[1,"col-md-6"],["for","client",1,"form-label"],[1,"input-group","mb-3"],["id","client","formControlName","client_id","aria-describedby","client","required","",1,"form-select",3,"ngClass"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["routerLink","/redes/client","type","button","id","client",1,"btn","btn-outline-secondary","btn-group-style"],[1,"fa-sharp","fa-solid","fa-plus"],["for","date",1,"form-label"],["type","date","placeholder","Fecha","id","date","formControlName","date","required","",1,"form-control",3,"ngClass"],["for","hour",1,"form-label"],["type","time","id","hour","placeholder","Hora","formControlName","hour","aria-describedby","hour",1,"form-control",3,"ngClass"],["for","confirmation",1,"form-label"],["id","service","formControlName","service_id","aria-describedby","service","required","",1,"form-select",3,"ngClass"],[1,"col-md-12"],["for","observation",1,"form-label"],["placeholder","Observacion","formControlName","observation","id","observation","rows","2",1,"form-control",3,"ngClass"],[1,"card-footer"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-dark",3,"disabled","click"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"REGISTRA TU CITA"),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),e._uU(10,"Clientas Existentes"),e.qZA(),e.TgZ(11,"div",9)(12,"select",10)(13,"option",11),e._uU(14,"Seleccionar..."),e.qZA(),e.YNc(15,N,2,3,"option",12),e.ALo(16,"async"),e.qZA(),e.TgZ(17,"button",13),e._UZ(18,"i",14),e.qZA()()(),e.TgZ(19,"div",7)(20,"label",15),e._uU(21,"Fecha"),e.qZA(),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",7)(24,"label",17),e._uU(25,"Hora"),e.qZA(),e._UZ(26,"input",18),e.qZA(),e.TgZ(27,"div",7)(28,"label",19),e._uU(29,"Servicios"),e.qZA(),e.TgZ(30,"div",9)(31,"select",20)(32,"option",11),e._uU(33,"Seleccionar..."),e.qZA(),e.YNc(34,O,2,2,"option",12),e.ALo(35,"async"),e.qZA()()(),e.TgZ(36,"div",21)(37,"label",22),e._uU(38,"Observacion"),e.qZA(),e.TgZ(39,"textarea",23),e._uU(40,"           "),e.qZA()()()(),e.TgZ(41,"div",24)(42,"div",25)(43,"button",26),e.NdJ("click",function(){return n.onSubmit()}),e._uU(44,"Guardar"),e.qZA()()()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngClass",e.WLB(13,_,n.isInvalid("client_id"),n.isValid("client_id"))),e.xp6(3),e.Q6J("ngForOf",e.lcZ(16,9,n.client$)),e.xp6(7),e.Q6J("ngClass",e.WLB(16,_,n.isInvalid("date"),n.isValid("date"))),e.xp6(4),e.Q6J("ngClass",e.WLB(19,_,n.isInvalid("hour"),n.isValid("hour"))),e.xp6(5),e.Q6J("ngClass",e.WLB(22,_,n.isInvalid("service_id"),n.isValid("service_id"))),e.xp6(3),e.Q6J("ngForOf",e.lcZ(35,11,n.services$)),e.xp6(5),e.Q6J("ngClass",e.WLB(25,_,n.isInvalid("observation"),n.isValid("observation"))),e.xp6(4),e.Q6J("disabled",n.form.invalid))},dependencies:[l.mk,l.sg,g.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,l.Ov],encapsulation:2}),o})();class x{constructor(){this.filter=new s.NI("",{nonNullable:!0}),this.page=1,this.pageSize=5}}let F=(()=>{class o{transform(t,n,i){let a=[];return 0===n.length||0===i.length||null===t?t:(a=t.filter(c=>this.coincidence(c,i,n)),a)}coincidence(t,n,i){let a=!1;return n.every(c=>(a=t[c].toLowerCase().includes(i.toLowerCase()),!a)),a}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"filter",type:o,pure:!0}),o})();function J(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA()()),2&o){const t=r.$implicit,n=r.index,i=e.oxw(2);e.xp6(2),e.Oqu(5*(i.page-1)+(n+1)),e.xp6(2),e.hij(" ",t.client,""),e.xp6(2),e.Oqu(t.hour),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(e.xi3(11,8,t.date,"shortDate")),e.xp6(3),e.Oqu(t.email),e.xp6(2),e.Oqu(t.observation),e.xp6(2),e.Oqu(t.service)}}const I=function(){return["firstName","lastName"]};function z(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"form")(2,"div",9)(3,"label",10),e._uU(4,"Buscar"),e.qZA(),e.TgZ(5,"div",11),e._UZ(6,"input",12,13),e.qZA()()(),e.TgZ(8,"div",14)(9,"table",15)(10,"thead")(11,"tr")(12,"th",16),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",16),e._uU(15,"Cliente"),e.qZA(),e.TgZ(16,"th",16),e._uU(17,"Hora"),e.qZA(),e.TgZ(18,"th",16),e._uU(19,"Telefono"),e.qZA(),e.TgZ(20,"th",16),e._uU(21,"Fecha"),e.qZA(),e.TgZ(22,"th",16),e._uU(23,"Correo"),e.qZA(),e.TgZ(24,"th",16),e._uU(25,"Observacion"),e.qZA(),e.TgZ(26,"th",16),e._uU(27,"Servicio"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,J,18,11,"tr",17),e.ALo(30,"slice"),e.ALo(31,"filter"),e.ALo(32,"async"),e.qZA()()(),e.BQk()),2&o){const t=e.MAs(7),n=e.oxw();e.xp6(6),e.Q6J("formControl",n.filter),e.xp6(23),e.Q6J("ngForOf",e.Dn7(30,2,e.Dn7(31,6,e.lcZ(32,10,n.cites$),t.value,e.DdM(12,I)),(n.page-1)*n.pageSize,n.page*n.pageSize))}}function $(o,r){1&o&&(e.TgZ(0,"h1",19),e._uU(1,"No se encuentran registradas citas el dia de hoy..."),e.qZA())}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"ngb-pagination",21),e.NdJ("pageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.page=i)}),e.ALo(2,"async"),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(1),e.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",(null==(n=e.lcZ(2,3,t.cites$))?null:n.length)||0)}}let E=(()=>{class o extends x{constructor(t){super(),this._service=t}ngOnInit(){this.cites$=this._service.List}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-cites"]],features:[e.qOj],decls:13,vars:7,consts:[[1,"row","mx-auto","d-flex","justify-content-center","w-100"],[1,"col-sm-12"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","card-title"],[1,"card-body"],[4,"ngIf","ngIfElse"],["NoData",""],["class","card-footer",4,"ngIf"],[1,"mb-3","row"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","type","text",1,"form-control",3,"formControl"],["search",""],[1,"row","table-responsive"],[1,"table","table-borderless"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"card-text","text-white"],[1,"card-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Lista de citas"),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,z,33,13,"ng-container",6),e.ALo(8,"async"),e.YNc(9,$,2,0,"ng-template",null,7,e.W1O),e.qZA(),e.YNc(11,Y,3,5,"div",8),e.ALo(12,"async"),e.qZA()()()),2&t){const i=e.MAs(10);e.xp6(7),e.Q6J("ngIf",e.lcZ(8,3,n.cites$))("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",e.lcZ(12,5,n.cites$))}},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,p.N9,l.Ov,l.OU,l.uU,F],styles:[".card-body[_ngcontent-%COMP%]{min-height:346px}"]}),o})(),Q=(()=>{class o{constructor(t,n,i){this._user=t,this._service=n,this._router=i}ngOnInit(){this.$user=this._user.currentUser}singOut(){var t=this;return(0,u.Z)(function*(){yield t._service.signOut().then(()=>t._router.navigate(["/"])).catch(n=>console.log(n.message))})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.K),e.Y36(C),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cites"]],decls:16,vars:0,consts:[[1,"navbar","navbar-expand-lg","mb-4","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand","d-flex","align-items-center"],["src","assets/img/logo-bg.png","alt","Logo","width","50","height","50",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","Cerrar Sesion",1,"nav-link",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"ms-2"],[1,"container"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"button",4),e._UZ(5,"span",5),e.qZA(),e.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),e.NdJ("click",function(){return n.singOut()}),e._UZ(10,"i",10),e.TgZ(11,"span",11),e._uU(12,"Cerrar Sesion"),e.qZA()()()()()()(),e.TgZ(13,"section",12),e._UZ(14,"app-form-cites")(15,"app-list-cites"),e.qZA())},dependencies:[k,E],encapsulation:2}),o})();const h=function(o,r){return{"is-invalid":o,"is-valid":r}};let M=(()=>{class o extends A.l{constructor(t,n,i,a){super(),this.fb=t,this._service=n,this._toast=i,this._spinner=a,this.seleted=null}ngOnInit(){this.buildingForm()}onSubmit(){null===this.seleted?this.save():this.update()}buildingForm(){this.form=this.fb.group({firstName:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(30),s.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)]],lastName:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(30),s.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)]],email:["",[s.kI.required,s.kI.pattern(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/)]],phone:["",[s.kI.required,s.kI.minLength(3),s.kI.pattern(/^[0-9]{7,11}$/)]]})}getFormValues(){const{firstName:t,lastName:n,email:i,phone:a}=this.form.value;return{created_at:new Date,firstName:t,lastName:n,email:i,phone:a,room_id:"1",user_id:"53245f08-616a-4e63-aef2-7982e7df559c"}}update(){var t=this;return(0,u.Z)(function*(){t.seleted=t.getFormValues();try{yield t._service.update(t.seleted),t.seleted=null,t.form.reset(),t._toast.show("Se ha actualizado exitosamente.","success")}catch(n){console.log(n),t._toast.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(){var t=this;return(0,u.Z)(function*(){t._spinner.show();const n=t.getFormValues();try{const{error:i}=yield t._service.add(n);if(i)return t._toast.show(`Obss, Ha acorrido un error al momento de guardar. Error: ${i.message}`,"danger"),console.log(`Error in ${i.message}`);t._toast.show("Se ha guardado exitosamente.","success")}catch(i){i instanceof Error&&(console.log(i),t._toast.show(`Obss, Ha acorrido un error al momento de guardar. Error: ${i.message}`,"danger"))}finally{t._spinner.hide(),t.form.reset()}})()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(T),e.Y36(f.k),e.Y36(m.t2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-client"]],features:[e.qOj],decls:28,vars:18,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","g-3",3,"formGroup"],[1,"form-group"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","placeholder","Nombre","id","firstName","required","",1,"form-control",3,"ngClass"],["for","validationServer02",1,"form-label"],["type","text","formControlName","lastName","placeholder","Apellido","id","lastName","required","",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Correo","formControlName","email","aria-describedby","email","required","",1,"form-control",3,"ngClass"],["for","phone",1,"form-label"],["type","text","name","Telefono","placeholder","Telefono","id","phone","aria-describedby","phone","formControlName","phone","required","",1,"form-control",3,"ngClass"],[1,"card-footer"],[1,"col-12","text-end"],["routerLink","/cites","type","submit",1,"btn","btn-primary","mx-2"],["type","submit",1,"btn","btn-secondary",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Cliente"),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"label",6),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",8),e._uU(12,"Apellido"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5)(15,"label",10),e._uU(16,"Correo"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",5)(19,"label",12),e._uU(20,"Telefono"),e.qZA(),e._UZ(21,"input",13),e.qZA()()(),e.TgZ(22,"div",14)(23,"div",15)(24,"button",16),e._uU(25,"Volver"),e.qZA(),e.TgZ(26,"button",17),e.NdJ("click",function(){return n.onSubmit()}),e._uU(27,"Guardar"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("ngClass",e.WLB(6,h,n.isInvalid("firstName"),n.isValid("firstName"))),e.xp6(4),e.Q6J("ngClass",e.WLB(9,h,n.isInvalid("lastName"),n.isValid("lastName"))),e.xp6(4),e.Q6J("ngClass",e.WLB(12,h,n.isInvalid("email"),n.isValid("email"))),e.xp6(4),e.Q6J("ngClass",e.WLB(15,h,n.isInvalid("phone"),n.isValid("phone"))),e.xp6(5),e.Q6J("disabled",n.form.invalid))},dependencies:[l.mk,g.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u],encapsulation:2}),o})();function H(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"th",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&o){const t=r.$implicit,n=r.index,i=e.oxw();e.xp6(2),e.Oqu(5*(i.page-1)+(n+1)),e.xp6(2),e.AsE(" ",t.firstName," ",t.lastName," "),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.email)}}const j=function(){return["firstName","lastName"]};let B=(()=>{class o extends x{constructor(t,n){super(),this._client=t,this._spinner=n,this.$clients=t.List}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T),e.Y36(m.t2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-client"]],features:[e.qOj],decls:32,vars:18,consts:[[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold"],[1,"card-body"],[1,"mb-3","row"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","type","text",1,"form-control",3,"formControl"],["search",""],[1,"table-responsive-xl"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Lista de Clientes"),e.qZA()(),e.TgZ(4,"div",3)(5,"form")(6,"div",4)(7,"label",5),e._uU(8,"Buscar"),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"input",7,8),e.qZA()()(),e.TgZ(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th",11),e._uU(17,"#"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Nombre y Apellido"),e.qZA(),e.TgZ(20,"th",11),e._uU(21,"Telefono"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Correo"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,H,9,5,"tr",12),e.ALo(26,"slice"),e.ALo(27,"filter"),e.ALo(28,"async"),e.qZA()()()(),e.TgZ(29,"div",13)(30,"ngb-pagination",14),e.NdJ("pageChange",function(a){return n.page=a}),e.ALo(31,"async"),e.qZA()()()),2&t){const i=e.MAs(11);e.xp6(10),e.Q6J("formControl",n.filter),e.xp6(15),e.Q6J("ngForOf",e.Dn7(26,5,e.Dn7(27,9,e.lcZ(28,13,n.$clients),i.value,e.DdM(17,j)),(n.page-1)*n.pageSize,n.page*n.pageSize)),e.xp6(5),e.Q6J("page",n.page)("pageSize",n.pageSize)("collectionSize",e.lcZ(31,15,n.$clients).length||0)}},dependencies:[l.sg,s._Y,s.Fj,s.JJ,s.JL,s.oH,p.N9,l.Ov,l.OU,F],encapsulation:2}),o})();const G=[{path:"cites",component:Q},{path:"client",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-client"]],decls:6,vars:0,consts:[[1,"container"],[1,"row","mt-4"],[1,"col-lg-6"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-form-client"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"app-list-client"),e.qZA()()())},dependencies:[M,B],encapsulation:2}),o})()},{path:"",pathMatch:"full",redirectTo:"cites"}];let V=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(G),g.Bz]}),o})();var U=d(9751);let D=(()=>{class o{constructor(){}add(t){return null}getAll(){return new U.y}update(t){return null}delete(t){return null}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function K(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",17)(7,"i",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.edit(a))}),e.qZA()(),e.TgZ(8,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.delete(a.id))}),e._UZ(9,"i",20),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.name)}}const R=function(o,r){return{"is-invalid":o,"is-valid":r}};function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"h3",4),e._uU(2,"Confirmacion"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss())}),e.qZA()(),e.TgZ(4,"div",6)(5,"div",7),e._UZ(6,"input",8),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmit())}),e._UZ(8,"i",1),e.qZA()(),e.TgZ(9,"table",10)(10,"thead")(11,"tr")(12,"th",11),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"th",11),e._UZ(17,"i",12),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,K,10,2,"tr",13),e.ALo(20,"slice"),e.ALo(21,"async"),e.qZA()()(),e.TgZ(22,"div",14)(23,"ngb-pagination",15),e.NdJ("pageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.page=i)}),e.ALo(24,"async"),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(6),e.Q6J("formControl",t.name)("ngClass",e.WLB(15,R,t.isInvalid(),t.isValid())),e.xp6(1),e.Q6J("disabled",t.name.invalid),e.xp6(12),e.Q6J("ngForOf",e.Dn7(20,7,e.lcZ(21,11,t.confirmations$),(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",(null==(n=e.lcZ(24,13,t.confirmations$))?null:n.length)||0)}}let X=(()=>{class o extends x{constructor(t,n,i,a){super(),this.activeModal=t,this._toastService=n,this._modalService=i,this._service=a,this.seleted=null,this.buildingForm()}ngOnInit(){this.confirmations$=this._service.getAll()}open(t){this._modalService.open(t)}buildingForm(){this.name=new s.NI("",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(30),s.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)])}onSubmit(){null===this.seleted?this.save():this.update()}delete(t){var n=this;return(0,u.Z)(function*(){try{yield n._service.delete(t),n._toastService.show("Se ha eliminado exitosamente.","success")}catch(i){n._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger"),console.log(i)}})()}edit(t){this.seleted=t,this.name.setValue(t.name)}update(){var t=this;return(0,u.Z)(function*(){t.seleted.name=t.name.value;try{yield t._service.update(t.seleted),t.seleted=null,t.name.reset(),t._toastService.show("Se ha actualizado exitosamente.","success")}catch(n){console.log(n),t._toastService.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(){var t=this;return(0,u.Z)(function*(){const n={name:t.name.value};try{(yield t._service.add(n))&&(t.name.reset(),t._toastService.show("Se ha guardado exitosamente.","success"))}catch(i){console.log(i),t._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}isInvalid(){return this.name.errors&&this.name.dirty}isValid(){return!this.name.errors}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.Kz),e.Y36(f.k),e.Y36(p.FF),e.Y36(D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirmation"]],standalone:!0,features:[e._Bn([p.NM,p.FF]),e.qOj,e.jDz],decls:4,vars:0,consts:[["type","button","id","confimation",1,"btn","btn-outline-secondary","btn-group-style",3,"click"],[1,"fa-sharp","fa-solid","fa-plus"],["content",""],[1,"modal-header"],[1,"modal-title","text-primary","font-weight-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],["type","text","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control",3,"formControl","ngClass"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"table"],["scope","col"],[1,"fa-solid","fa-gears"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"],["type","button",1,"btn","btn-outline-info","mx-2"],[1,"fa-sharp","fa-solid","fa-pen",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"button",0),e.NdJ("click",function(){e.CHM(i);const c=e.MAs(3);return e.KtG(n.open(c))}),e._UZ(1,"i",1),e.qZA(),e.YNc(2,W,25,18,"ng-template",null,2,e.W1O)}},dependencies:[p.jF,p.N9,s.UX,s.Fj,s.JJ,s.oH,l.ez,l.mk,l.sg,l.Ov,l.OU],styles:[".btn-group-style[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.modal-body[_ngcontent-%COMP%]{min-height:414px}"]}),o})(),P=(()=>{class o{constructor(){}add(t){return null}getAll(){return new U.y}update(t){return null}delete(t){return null}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ee(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",19)(9,"i",20),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.edit(a))}),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.delete(a.id))}),e._UZ(11,"i",22),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("",t.commission,"%")}}const L=function(o,r){return{"is-invalid":o,"is-valid":r}};function te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"h3",4),e._uU(2,"Servecios"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss())}),e.qZA()(),e.TgZ(4,"div",6)(5,"form",7)(6,"div",8),e._UZ(7,"input",9)(8,"input",10),e.TgZ(9,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSubmit())}),e._UZ(10,"i",1),e.qZA()()(),e.TgZ(11,"table",12)(12,"thead")(13,"tr")(14,"th",13),e._uU(15,"#"),e.qZA(),e.TgZ(16,"th",13),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"th",13),e._uU(19,"%"),e.qZA(),e.TgZ(20,"th",13),e._UZ(21,"i",14),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,ee,12,3,"tr",15),e.ALo(24,"slice"),e.ALo(25,"async"),e.qZA()()(),e.TgZ(26,"div",16)(27,"ngb-pagination",17),e.NdJ("pageChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.page=i)}),e.ALo(28,"async"),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(5),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",e.WLB(16,L,t.isInvalid("name"),t.isValid("name"))),e.xp6(1),e.Q6J("ngClass",e.WLB(19,L,t.isInvalid("commission"),t.isValid("commission"))),e.xp6(1),e.Q6J("disabled",t.form.invalid),e.xp6(14),e.Q6J("ngForOf",e.Dn7(24,8,e.lcZ(25,12,t.services$),(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",(null==(n=e.lcZ(28,14,t.services$))?null:n.length)||0)}}let ne=(()=>{class o extends A.l{constructor(t,n,i,a,c){super(),this.activeModal=t,this.fb=n,this._toastService=i,this._modalService=a,this._service=c,this.page=1,this.pageSize=5,this.seleted=null,this.buildingForm()}ngOnInit(){this.services$=this._service.getAll()}open(t){this._modalService.open(t)}buildingForm(){this.form=this.fb.group({name:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(30),s.kI.pattern(/^[A-Za-z+/0-9\s\xF1\xD1]+$/)]],commission:["",[s.kI.required,s.kI.pattern(/^[0-9]+$/)]]})}onSubmit(){const t=this.getFormValues();null===this.seleted?this.save(t):this.update(t)}delete(t){var n=this;return(0,u.Z)(function*(){try{yield n._service.delete(t),n._toastService.show("Se ha eliminado exitosamente.","success")}catch(i){n._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger"),console.log(i)}})()}edit(t){this.seleted=t,this.form.patchValue(t)}update(t){var n=this;return(0,u.Z)(function*(){t.id=n.seleted?.id;try{yield n._service.update(t),n.seleted=null,n.form.reset(),n._toastService.show("Se ha actualizado exitosamente.","success")}catch(i){console.log(i),n._toastService.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(t){var n=this;return(0,u.Z)(function*(){try{(yield n._service.add(t))&&(n.form.reset(),n._toastService.show("Se ha guardado exitosamente.","success"))}catch(i){console.log(i),n._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}getFormValues(){const{name:t,commission:n}=this.form.value;return{name:t,commission:n}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.Kz),e.Y36(s.qu),e.Y36(f.k),e.Y36(p.FF),e.Y36(P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-services"]],standalone:!0,features:[e._Bn([p.NM,p.FF]),e.qOj,e.jDz],decls:4,vars:0,consts:[["type","button","id","confimation",1,"btn","btn-outline-secondary","btn-group-style",3,"click"],[1,"fa-sharp","fa-solid","fa-plus"],["content",""],[1,"modal-header"],[1,"modal-title","text-primary","font-weight-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"input-group","mb-3"],["type","text","formControlName","name","placeholder","Nombre","aria-label","Recipient's name",1,"form-control",3,"ngClass"],["type","number","formControlName","commission","placeholder","Comision","aria-label","Recipient's commission",1,"form-control",3,"ngClass"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"table"],["scope","col"],[1,"fa-solid","fa-gears"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"],["type","button",1,"btn","btn-outline-info","mx-2"],[1,"fa-sharp","fa-solid","fa-pen",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"button",0),e.NdJ("click",function(){e.CHM(i);const c=e.MAs(3);return e.KtG(n.open(c))}),e._UZ(1,"i",1),e.qZA(),e.YNc(2,te,29,22,"ng-template",null,2,e.W1O)}},dependencies:[p.jF,p.N9,s.UX,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,l.ez,l.mk,l.sg,l.Ov,l.OU],encapsulation:2}),o})();var oe=d(4466);let ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[p.Kz],imports:[l.ez,V,s.UX,p.jF,oe.m,X,ne]}),o})()}}]);