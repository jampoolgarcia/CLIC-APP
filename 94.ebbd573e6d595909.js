"use strict";(self.webpackChunkclic_app=self.webpackChunkclic_app||[]).push([[94],{8094:(E,b,m)=>{m.r(b),m.d(b,{RedesModule:()=>W});var c=m(6895),i=m(433),g=m(2655),A=m(6754),e=m(8256),p=m(5861),v=m(4849),l=m(89);let y=(()=>{class n{constructor(t){this.firestore=t,this.citeCollection=(0,l.hJ)(this.firestore,"cites")}add(t){return t.service=`services/${t.service}`,(0,l.ET)(this.citeCollection,t)}getAll(){return(0,l.BS)(this.citeCollection,{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.gg))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z=(()=>{class n{constructor(t){this.firestore=t,this.recordCollection=(0,l.hJ)(this.firestore,"client")}add(t){return(0,l.ET)(this.recordCollection,t)}getAll(){return(0,l.BS)(this.recordCollection,{idField:"id"})}update(t){const o=(0,l.JU)(this.firestore,`client/${t?.id}`);return(0,l.r7)(o,{...t})}delete(t){const o=(0,l.JU)(this.firestore,`client/${t}`);return(0,l.oe)(o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.gg))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T=(()=>{class n{constructor(t){this.firestore=t,this.recordCollection=(0,l.hJ)(this.firestore,"services")}add(t){return(0,l.ET)(this.recordCollection,t)}getAll(){return(0,l.BS)(this.recordCollection,{idField:"id"})}update(t){const o=(0,l.JU)(this.firestore,`services/${t?.id}`);return(0,l.r7)(o,{...t})}delete(t){const o=(0,l.JU)(this.firestore,`services/${t}`);return(0,l.oe)(o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.gg))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=m(3289),_=m(9154);function F(n,s){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.firstName),e.xp6(1),e.AsE("",t.firstName," ",t.lastName,"")}}function U(n,s){if(1&n&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}const f=function(n,s){return{"is-invalid":n,"is-valid":s}};let J=(()=>{class n extends v.l{constructor(t,o,r,a,d,x){super(),this.fb=t,this._service=o,this._sericeClient=r,this._serviceService=a,this._modalService=d,this._toastService=x,this.buildingForm()}ngOnInit(){this.client$=this._sericeClient.getAll(),this.services$=this._serviceService.getAll()}open(t){this._modalService.open(t)}buildingForm(){this.form=this.fb.group({client:["",[i.kI.required]],date:[new Date,i.kI.required],hour:["",i.kI.required],service:["",i.kI.required],observation:["",i.kI.required]})}onSubmit(){var t=this;return(0,p.Z)(function*(){const o=t.getFormValues();try{(yield t._service.add(o))&&(t.form.reset(),t._toastService.show("Se ha guardado exitosamente.","success"))}catch{t._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}getFormValues(){const{client:t,date:o,hour:r,service:a,observation:d}=this.form.value;return{redes:"test redes",client:t,date:o,hour:r,confirmation:"",service:a,observation:d,room:"test room"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(y),e.Y36(Z),e.Y36(T),e.Y36(u.FF),e.Y36(_.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-cites"]],features:[e.qOj],decls:45,vars:28,consts:[[1,"row","d-flex","justify-content-center","w-100"],[1,"col-sm-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"row","g-3",3,"formGroup"],[1,"col-md-6"],["for","client",1,"form-label"],[1,"input-group","mb-3"],["id","client","formControlName","client","aria-describedby","client","required","",1,"form-select",3,"ngClass"],["selected","","disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["routerLink","/redes/client","type","button","id","client",1,"btn","btn-outline-secondary","btn-group-style"],[1,"fa-sharp","fa-solid","fa-plus"],["for","date",1,"form-label"],["type","date","placeholder","Fecha","id","date","formControlName","date","aria-describedby","date","required","",1,"form-control",3,"ngClass"],["for","hour",1,"form-label"],["type","time","id","hour","placeholder","Hora","formControlName","hour","aria-describedby","hour","required","",1,"form-control",3,"ngClass"],["for","confirmation",1,"form-label"],["id","service","formControlName","service","aria-describedby","service","required","",1,"form-select",3,"ngClass"],[1,"col-md-12"],["for","observation",1,"form-label"],["placeholder","Observacion","formControlName","observation","id","observation","rows","2",1,"form-control",3,"ngClass"],[1,"card-footer"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Citas"),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),e._uU(10,"Clienta"),e.qZA(),e.TgZ(11,"div",9)(12,"select",10)(13,"option",11),e._uU(14,"Seleccionar..."),e.qZA(),e.YNc(15,F,2,3,"option",12),e.ALo(16,"async"),e.qZA(),e.TgZ(17,"button",13),e._UZ(18,"i",14),e.qZA()()(),e.TgZ(19,"div",7)(20,"label",15),e._uU(21,"Fecha"),e.qZA(),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",7)(24,"label",17),e._uU(25,"Hora"),e.qZA(),e._UZ(26,"input",18),e.qZA(),e.TgZ(27,"div",7)(28,"label",19),e._uU(29,"Servicios"),e.qZA(),e.TgZ(30,"div",9)(31,"select",20)(32,"option",11),e._uU(33,"Seleccionar..."),e.qZA(),e.YNc(34,U,2,2,"option",12),e.ALo(35,"async"),e.qZA()()(),e.TgZ(36,"div",21)(37,"label",22),e._uU(38,"Observacion"),e.qZA(),e.TgZ(39,"textarea",23),e._uU(40,"           "),e.qZA()()()(),e.TgZ(41,"div",24)(42,"div",25)(43,"button",26),e.NdJ("click",function(){return o.onSubmit()}),e._uU(44,"Guardar"),e.qZA()()()()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("ngClass",e.WLB(13,f,o.isInvalid("client"),o.isValid("client"))),e.xp6(3),e.Q6J("ngForOf",e.lcZ(16,9,o.client$)),e.xp6(7),e.Q6J("ngClass",e.WLB(16,f,o.isInvalid("date"),o.isValid("date"))),e.xp6(4),e.Q6J("ngClass",e.WLB(19,f,o.isInvalid("hour"),o.isValid("hour"))),e.xp6(5),e.Q6J("ngClass",e.WLB(22,f,o.isInvalid("service"),o.isValid("service"))),e.xp6(3),e.Q6J("ngForOf",e.lcZ(35,11,o.services$)),e.xp6(5),e.Q6J("ngClass",e.WLB(25,f,o.isInvalid("observation"),o.isValid("observation"))),e.xp6(4),e.Q6J("disabled",o.form.invalid))},dependencies:[c.mk,c.sg,g.rH,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u,c.Ov]}),n})();class C{constructor(){this.filter=new i.NI("",{nonNullable:!0}),this.page=1,this.pageSize=5}}let q=(()=>{class n{transform(t,o,r){let a=[];return 0===o.length||0===r.length||null===t?t:(a=t.filter(d=>this.coincidence(d,r,o)),a)}coincidence(t,o,r){let a=!1;return o.every(d=>(a=t[d].toLowerCase().includes(r.toLowerCase()),!a)),a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"filter",type:n,pure:!0}),n})();function k(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"th",17),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&n){const t=s.$implicit,o=s.index,r=e.oxw();e.xp6(2),e.Oqu(5*(r.page-1)+(o+1)),e.xp6(2),e.hij(" ",t.client,""),e.xp6(2),e.Oqu(t.hour),e.xp6(2),e.Oqu(e.xi3(9,7,t.date,"shortDate")),e.xp6(3),e.Oqu(t.observation),e.xp6(2),e.Oqu(t.confirmation),e.xp6(2),e.Oqu(t.service)}}const N=function(){return["firstName","lastName"]};let w=(()=>{class n extends C{constructor(t){super(),this._service=t}ngOnInit(){this.cites$=this._service.getAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-cites"]],features:[e.qOj],decls:44,vars:18,consts:[[1,"row","d-flex","justify-content-center","w-100"],[1,"col-sm-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"mb-3","row"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","type","text",1,"form-control",3,"formControl"],["search",""],[1,"table-responsive-xl"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Lista de citas"),e.qZA()(),e.TgZ(6,"div",5)(7,"form")(8,"div",6)(9,"label",7),e._uU(10,"Buscar"),e.qZA(),e.TgZ(11,"div",8),e._UZ(12,"input",9,10),e.qZA()()(),e.TgZ(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th",13),e._uU(19,"#"),e.qZA(),e.TgZ(20,"th",13),e._uU(21,"Nombre y Apellido"),e.qZA(),e.TgZ(22,"th",13),e._uU(23,"Hora"),e.qZA(),e.TgZ(24,"th",13),e._uU(25,"Telefono"),e.qZA(),e.TgZ(26,"th",13),e._uU(27,"Fecha N."),e.qZA(),e.TgZ(28,"th",13),e._uU(29,"Correo"),e.qZA(),e.TgZ(30,"th",13),e._uU(31,"Observacion"),e.qZA(),e.TgZ(32,"th",13),e._uU(33,"Confirmacion"),e.qZA(),e.TgZ(34,"th",13),e._uU(35,"Servicio"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,k,16,10,"tr",14),e.ALo(38,"slice"),e.ALo(39,"filter"),e.ALo(40,"async"),e.qZA()()()(),e.TgZ(41,"div",15)(42,"ngb-pagination",16),e.NdJ("pageChange",function(a){return o.page=a}),e.ALo(43,"async"),e.qZA()()()()()),2&t){const r=e.MAs(13);let a;e.xp6(12),e.Q6J("formControl",o.filter),e.xp6(25),e.Q6J("ngForOf",e.Dn7(38,5,e.Dn7(39,9,e.lcZ(40,13,o.cites$),r.value,e.DdM(17,N)),(o.page-1)*o.pageSize,o.page*o.pageSize)),e.xp6(5),e.Q6J("page",o.page)("pageSize",o.pageSize)("collectionSize",(null==(a=e.lcZ(43,15,o.cites$))?null:a.length)||0)}},dependencies:[c.sg,i._Y,i.Fj,i.JJ,i.JL,i.oH,u.N9,c.Ov,c.OU,c.uU,q],styles:[".card-body[_ngcontent-%COMP%]{min-height:346px}"]}),n})(),L=(()=>{class n{constructor(t,o){this.auth=t,this._router=o}ngOnInit(){console.log("currentUser:",this.auth.currentUser?.uid)}logout(){(0,A.w7)(this.auth).then(()=>this._router.navigate(["/"])).catch(t=>console.log(t.message))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.gx),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cites"]],decls:12,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-primary","mb-4","static-top","shadow"],[1,"container-fluid"],[1,"text-white"],[1,"navbar-nav","mr-auto"],[1,"nav-item","cursor-p"],[1,"nav-link","text-white",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"h1")(3,"Strong",2),e._uU(4,"Redes"),e.qZA()(),e.TgZ(5,"ul",3)(6,"li",4)(7,"a",5),e.NdJ("click",function(){return o.logout()}),e._uU(8,"Logout"),e.qZA()()()()(),e.TgZ(9,"section"),e._UZ(10,"app-form-cites")(11,"app-list-cites"),e.qZA())},dependencies:[J,w],encapsulation:2}),n})();const h=function(n,s){return{"is-invalid":n,"is-valid":s}};let O=(()=>{class n extends v.l{constructor(t,o,r){super(),this.fb=t,this._service=o,this._toastService=r,this.seleted=null}ngOnInit(){this.buildingForm()}onSubmit(){null===this.seleted?this.save():this.update()}buildingForm(){this.form=this.fb.group({firstName:["",[i.kI.required,i.kI.minLength(2),i.kI.maxLength(30),i.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)]],lastName:["",[i.kI.required,i.kI.minLength(2),i.kI.maxLength(30),i.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)]],email:["",[i.kI.required,i.kI.pattern(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/)]],phone:["",[i.kI.required,i.kI.minLength(3),i.kI.pattern(/^[0-9]{7,11}$/)]]})}getFormValues(){const{firstName:t,lastName:o,email:r,phone:a}=this.form.value;return{firstName:t,lastName:o,email:r,phone:a}}update(){var t=this;return(0,p.Z)(function*(){t.seleted=t.getFormValues();try{yield t._service.update(t.seleted),t.seleted=null,t.form.reset(),t._toastService.show("Se ha actualizado exitosamente.","success")}catch(o){console.log(o),t._toastService.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(){var t=this;return(0,p.Z)(function*(){const o=t.getFormValues();try{(yield t._service.add(o))&&(t.form.reset(),t._toastService.show("Se ha guardado exitosamente.","success"))}catch(r){console.log(r),t._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(i.qu),e.Y36(Z),e.Y36(_.k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form-client"]],features:[e.qOj],decls:28,vars:18,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row","g-3",3,"formGroup"],[1,"form-group"],["for","firstName",1,"form-label"],["type","text","formControlName","firstName","placeholder","Nombre","id","firstName","required","",1,"form-control",3,"ngClass"],["for","validationServer02",1,"form-label"],["type","text","formControlName","lastName","placeholder","Apellido","id","lastName","required","",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Correo","formControlName","email","aria-describedby","email","required","",1,"form-control",3,"ngClass"],["for","phone",1,"form-label"],["type","text","name","Telefono","placeholder","Telefono","id","phone","aria-describedby","phone","formControlName","phone","required","",1,"form-control",3,"ngClass"],[1,"card-footer"],[1,"col-12","text-end"],["routerLink","/cites","type","submit",1,"btn","btn-secondary","mx-2"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Cliente"),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"label",6),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",8),e._uU(12,"Apellido"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5)(15,"label",10),e._uU(16,"Correo"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",5)(19,"label",12),e._uU(20,"Telefono"),e.qZA(),e._UZ(21,"input",13),e.qZA()()(),e.TgZ(22,"div",14)(23,"div",15)(24,"button",16),e._uU(25,"Volver"),e.qZA(),e.TgZ(26,"button",17),e.NdJ("click",function(){return o.onSubmit()}),e._uU(27,"Guardar"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngClass",e.WLB(6,h,o.isInvalid("firstName"),o.isValid("firstName"))),e.xp6(4),e.Q6J("ngClass",e.WLB(9,h,o.isInvalid("lastName"),o.isValid("lastName"))),e.xp6(4),e.Q6J("ngClass",e.WLB(12,h,o.isInvalid("email"),o.isValid("email"))),e.xp6(4),e.Q6J("ngClass",e.WLB(15,h,o.isInvalid("phone"),o.isValid("phone"))),e.xp6(5),e.Q6J("disabled",o.form.invalid))},dependencies:[c.mk,g.rH,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u],encapsulation:2}),n})();function z(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"th",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e._UZ(9,"td"),e.qZA()),2&n){const t=s.$implicit,o=s.index,r=e.oxw();e.xp6(2),e.Oqu(5*(r.page-1)+(o+1)),e.xp6(2),e.AsE(" ",t.firstName," ",t.lastName," "),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Oqu(t.email)}}const I=function(){return["firstName","lastName"]};let $=(()=>{class n extends C{constructor(t){super(),this._service=t}ngOnInit(){this.clients$=this._service.getAll()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-client"]],features:[e.qOj],decls:34,vars:18,consts:[[1,"card","shadow","mb-4"],[1,"card-header","py-3"],[1,"m-0","font-weight-bold","text-primary"],[1,"card-body"],[1,"mb-3","row"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-filtering-search","type","text",1,"form-control",3,"formControl"],["search",""],[1,"table-responsive-xl"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Lista de Clientes"),e.qZA()(),e.TgZ(4,"div",3)(5,"form")(6,"div",4)(7,"label",5),e._uU(8,"Buscar"),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"input",7,8),e.qZA()()(),e.TgZ(12,"div",9)(13,"table",10)(14,"thead")(15,"tr")(16,"th",11),e._uU(17,"#"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"Nombre y Apellido"),e.qZA(),e.TgZ(20,"th",11),e._uU(21,"Telefono"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Correo"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Acciones"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,z,10,5,"tr",12),e.ALo(28,"slice"),e.ALo(29,"filter"),e.ALo(30,"async"),e.qZA()()()(),e.TgZ(31,"div",13)(32,"ngb-pagination",14),e.NdJ("pageChange",function(a){return o.page=a}),e.ALo(33,"async"),e.qZA()()()),2&t){const r=e.MAs(11);let a;e.xp6(10),e.Q6J("formControl",o.filter),e.xp6(17),e.Q6J("ngForOf",e.Dn7(28,5,e.Dn7(29,9,e.lcZ(30,13,o.clients$),r.value,e.DdM(17,I)),(o.page-1)*o.pageSize,o.page*o.pageSize)),e.xp6(5),e.Q6J("page",o.page)("pageSize",o.pageSize)("collectionSize",(null==(a=e.lcZ(33,15,o.clients$))?null:a.length)||0)}},dependencies:[c.sg,i._Y,i.Fj,i.JJ,i.JL,i.oH,u.N9,c.Ov,c.OU,q],encapsulation:2}),n})();const Y=[{path:"cites",component:L},{path:"client",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-client"]],decls:6,vars:0,consts:[[1,"container"],[1,"row","mt-4"],[1,"col-lg-6"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-list-client"),e.qZA(),e.TgZ(4,"div",2),e._UZ(5,"app-form-client"),e.qZA()()())},dependencies:[O,$],encapsulation:2}),n})()},{path:"",pathMatch:"full",redirectTo:"cites"}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Y),g.Bz]}),n})(),Q=(()=>{class n{constructor(t){this.firestore=t,this.confirmationCollection=(0,l.hJ)(this.firestore,"confirmation")}add(t){return(0,l.ET)(this.confirmationCollection,t)}getAll(){return(0,l.BS)(this.confirmationCollection,{idField:"id"})}update(t){const o=(0,l.JU)(this.firestore,`confirmation/${t?.id}`);return(0,l.r7)(o,{...t})}delete(t){const o=(0,l.JU)(this.firestore,`confirmation/${t}`);return(0,l.oe)(o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.gg))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"th",16),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",17)(7,"i",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.edit(a))}),e.qZA()(),e.TgZ(8,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.delete(a.id))}),e._UZ(9,"i",20),e.qZA()()()}if(2&n){const t=s.$implicit,o=s.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.name)}}const H=function(n,s){return{"is-invalid":n,"is-valid":s}};function B(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"h3",4),e._uU(2,"Confirmacion"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss())}),e.qZA()(),e.TgZ(4,"div",6)(5,"div",7),e._UZ(6,"input",8),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e._UZ(8,"i",1),e.qZA()(),e.TgZ(9,"table",10)(10,"thead")(11,"tr")(12,"th",11),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",11),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"th",11),e._UZ(17,"i",12),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,j,10,2,"tr",13),e.ALo(20,"slice"),e.ALo(21,"async"),e.qZA()()(),e.TgZ(22,"div",14)(23,"ngb-pagination",15),e.NdJ("pageChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.page=r)}),e.ALo(24,"async"),e.qZA()()}if(2&n){const t=e.oxw();let o;e.xp6(6),e.Q6J("formControl",t.name)("ngClass",e.WLB(15,H,t.isInvalid(),t.isValid())),e.xp6(1),e.Q6J("disabled",t.name.invalid),e.xp6(12),e.Q6J("ngForOf",e.Dn7(20,7,e.lcZ(21,11,t.confirmations$),(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",(null==(o=e.lcZ(24,13,t.confirmations$))?null:o.length)||0)}}let G=(()=>{class n extends C{constructor(t,o,r,a){super(),this.activeModal=t,this._toastService=o,this._modalService=r,this._service=a,this.seleted=null,this.buildingForm()}ngOnInit(){this.confirmations$=this._service.getAll()}open(t){this._modalService.open(t)}buildingForm(){this.name=new i.NI("",[i.kI.required,i.kI.minLength(2),i.kI.maxLength(30),i.kI.pattern(/^[A-Za-z\s\xF1\xD1]+$/)])}onSubmit(){null===this.seleted?this.save():this.update()}delete(t){var o=this;return(0,p.Z)(function*(){try{yield o._service.delete(t),o._toastService.show("Se ha eliminado exitosamente.","success")}catch(r){o._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger"),console.log(r)}})()}edit(t){this.seleted=t,this.name.setValue(t.name)}update(){var t=this;return(0,p.Z)(function*(){t.seleted.name=t.name.value;try{yield t._service.update(t.seleted),t.seleted=null,t.name.reset(),t._toastService.show("Se ha actualizado exitosamente.","success")}catch(o){console.log(o),t._toastService.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(){var t=this;return(0,p.Z)(function*(){const o={name:t.name.value};try{(yield t._service.add(o))&&(t.name.reset(),t._toastService.show("Se ha guardado exitosamente.","success"))}catch(r){console.log(r),t._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}isInvalid(){return this.name.errors&&this.name.dirty}isValid(){return!this.name.errors}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Kz),e.Y36(_.k),e.Y36(u.FF),e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirmation"]],standalone:!0,features:[e._Bn([u.NM,u.FF]),e.qOj,e.jDz],decls:4,vars:0,consts:[["type","button","id","confimation",1,"btn","btn-outline-secondary","btn-group-style",3,"click"],[1,"fa-sharp","fa-solid","fa-plus"],["content",""],[1,"modal-header"],[1,"modal-title","text-primary","font-weight-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"input-group","mb-3"],["type","text","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control",3,"formControl","ngClass"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"table"],["scope","col"],[1,"fa-solid","fa-gears"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"],["type","button",1,"btn","btn-outline-info","mx-2"],[1,"fa-sharp","fa-solid","fa-pen",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",0),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(3);return e.KtG(o.open(d))}),e._UZ(1,"i",1),e.qZA(),e.YNc(2,B,25,18,"ng-template",null,2,e.W1O)}},dependencies:[u.jF,u.N9,i.UX,i.Fj,i.JJ,i.oH,c.ez,c.mk,c.sg,c.Ov,c.OU],styles:[".btn-group-style[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.modal-body[_ngcontent-%COMP%]{min-height:414px}"]}),n})();function V(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",19)(9,"i",20),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.edit(a))}),e.qZA()(),e.TgZ(10,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.delete(a.id))}),e._UZ(11,"i",22),e.qZA()()()}if(2&n){const t=s.$implicit,o=s.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.hij("",t.commission,"%")}}const S=function(n,s){return{"is-invalid":n,"is-valid":s}};function R(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"h3",4),e._uU(2,"Servecios"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss())}),e.qZA()(),e.TgZ(4,"div",6)(5,"form",7)(6,"div",8),e._UZ(7,"input",9)(8,"input",10),e.TgZ(9,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSubmit())}),e._UZ(10,"i",1),e.qZA()()(),e.TgZ(11,"table",12)(12,"thead")(13,"tr")(14,"th",13),e._uU(15,"#"),e.qZA(),e.TgZ(16,"th",13),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"th",13),e._uU(19,"%"),e.qZA(),e.TgZ(20,"th",13),e._UZ(21,"i",14),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,V,12,3,"tr",15),e.ALo(24,"slice"),e.ALo(25,"async"),e.qZA()()(),e.TgZ(26,"div",16)(27,"ngb-pagination",17),e.NdJ("pageChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.page=r)}),e.ALo(28,"async"),e.qZA()()}if(2&n){const t=e.oxw();let o;e.xp6(5),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",e.WLB(16,S,t.isInvalid("name"),t.isValid("name"))),e.xp6(1),e.Q6J("ngClass",e.WLB(19,S,t.isInvalid("commission"),t.isValid("commission"))),e.xp6(1),e.Q6J("disabled",t.form.invalid),e.xp6(14),e.Q6J("ngForOf",e.Dn7(24,8,e.lcZ(25,12,t.services$),(t.page-1)*t.pageSize,t.page*t.pageSize)),e.xp6(4),e.Q6J("page",t.page)("pageSize",t.pageSize)("collectionSize",(null==(o=e.lcZ(28,14,t.services$))?null:o.length)||0)}}let D=(()=>{class n extends v.l{constructor(t,o,r,a,d){super(),this.activeModal=t,this.fb=o,this._toastService=r,this._modalService=a,this._service=d,this.page=1,this.pageSize=5,this.seleted=null,this.buildingForm()}ngOnInit(){this.services$=this._service.getAll()}open(t){this._modalService.open(t)}buildingForm(){this.form=this.fb.group({name:["",[i.kI.required,i.kI.minLength(2),i.kI.maxLength(30),i.kI.pattern(/^[A-Za-z+/0-9\s\xF1\xD1]+$/)]],commission:["",[i.kI.required,i.kI.pattern(/^[0-9]+$/)]]})}onSubmit(){const t=this.getFormValues();null===this.seleted?this.save(t):this.update(t)}delete(t){var o=this;return(0,p.Z)(function*(){try{yield o._service.delete(t),o._toastService.show("Se ha eliminado exitosamente.","success")}catch(r){o._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger"),console.log(r)}})()}edit(t){this.seleted=t,this.form.patchValue(t)}update(t){var o=this;return(0,p.Z)(function*(){t.id=o.seleted?.id;try{yield o._service.update(t),o.seleted=null,o.form.reset(),o._toastService.show("Se ha actualizado exitosamente.","success")}catch(r){console.log(r),o._toastService.show("Obss, Ha acorrido un error al momento de actualizado.","danger")}})()}save(t){var o=this;return(0,p.Z)(function*(){try{(yield o._service.add(t))&&(o.form.reset(),o._toastService.show("Se ha guardado exitosamente.","success"))}catch(r){console.log(r),o._toastService.show("Obss, Ha acorrido un error al momento de guardar.","danger")}})()}getFormValues(){const{name:t,commission:o}=this.form.value;return{name:t,commission:o}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Kz),e.Y36(i.qu),e.Y36(_.k),e.Y36(u.FF),e.Y36(T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-services"]],standalone:!0,features:[e._Bn([u.NM,u.FF]),e.qOj,e.jDz],decls:4,vars:0,consts:[["type","button","id","confimation",1,"btn","btn-outline-secondary","btn-group-style",3,"click"],[1,"fa-sharp","fa-solid","fa-plus"],["content",""],[1,"modal-header"],[1,"modal-title","text-primary","font-weight-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"input-group","mb-3"],["type","text","formControlName","name","placeholder","Nombre","aria-label","Recipient's name",1,"form-control",3,"ngClass"],["type","number","formControlName","commission","placeholder","Comision","aria-label","Recipient's commission",1,"form-control",3,"ngClass"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"table"],["scope","col"],[1,"fa-solid","fa-gears"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"d-flex","justify-content-end",3,"page","pageSize","collectionSize","pageChange"],["scope","row"],["type","button",1,"btn","btn-outline-info","mx-2"],[1,"fa-sharp","fa-solid","fa-pen",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",0),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(3);return e.KtG(o.open(d))}),e._UZ(1,"i",1),e.qZA(),e.YNc(2,R,29,22,"ng-template",null,2,e.W1O)}},dependencies:[u.jF,u.N9,i.UX,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,c.ez,c.mk,c.sg,c.Ov,c.OU],encapsulation:2}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez]}),n})(),W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[u.Kz],imports:[c.ez,M,i.UX,u.jF,K,G,D]}),n})()}}]);